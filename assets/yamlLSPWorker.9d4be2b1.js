var E9=Object.defineProperty;var S9=(Wt,ri,Ko)=>ri in Wt?E9(Wt,ri,{enumerable:!0,configurable:!0,writable:!0,value:Ko}):Wt[ri]=Ko;var ni=(Wt,ri,Ko)=>(S9(Wt,typeof ri!="symbol"?ri+"":ri,Ko),Ko);(function(){"use strict";var Wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ri(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ko(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ii={exports:{}},Mn={},Kp={exports:{}},zo={},zp={},sf={},Ze={},Yn={};Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.stringArray=Yn.array=Yn.func=Yn.error=Yn.number=Yn.string=Yn.boolean=void 0;function nk(t){return t===!0||t===!1}Yn.boolean=nk;function Rb(t){return typeof t=="string"||t instanceof String}Yn.string=Rb;function rk(t){return typeof t=="number"||t instanceof Number}Yn.number=rk;function ik(t){return t instanceof Error}Yn.error=ik;function sk(t){return typeof t=="function"}Yn.func=sk;function Ib(t){return Array.isArray(t)}Yn.array=Ib;function ok(t){return Ib(t)&&t.every(e=>Rb(e))}Yn.stringArray=ok,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.Message=Ze.NotificationType9=Ze.NotificationType8=Ze.NotificationType7=Ze.NotificationType6=Ze.NotificationType5=Ze.NotificationType4=Ze.NotificationType3=Ze.NotificationType2=Ze.NotificationType1=Ze.NotificationType0=Ze.NotificationType=Ze.RequestType9=Ze.RequestType8=Ze.RequestType7=Ze.RequestType6=Ze.RequestType5=Ze.RequestType4=Ze.RequestType3=Ze.RequestType2=Ze.RequestType1=Ze.RequestType=Ze.RequestType0=Ze.AbstractMessageSignature=Ze.ParameterStructures=Ze.ResponseError=Ze.ErrorCodes=void 0;const Yo=Yn;var Yp;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(Yp||(Ze.ErrorCodes=Yp={}));class Gp extends Error{constructor(e,n,r){super(n),this.code=Yo.number(e)?e:Yp.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Gp.prototype)}toJson(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}}Ze.ResponseError=Gp;class cr{constructor(e){this.kind=e}static is(e){return e===cr.auto||e===cr.byName||e===cr.byPosition}toString(){return this.kind}}Ze.ParameterStructures=cr,cr.auto=new cr("auto"),cr.byPosition=new cr("byPosition"),cr.byName=new cr("byName");class Cn{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return cr.auto}}Ze.AbstractMessageSignature=Cn;class ak extends Cn{constructor(e){super(e,0)}}Ze.RequestType0=ak;class uk extends Cn{constructor(e,n=cr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}Ze.RequestType=uk;class ck extends Cn{constructor(e,n=cr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}Ze.RequestType1=ck;class lk extends Cn{constructor(e){super(e,2)}}Ze.RequestType2=lk;class fk extends Cn{constructor(e){super(e,3)}}Ze.RequestType3=fk;class dk extends Cn{constructor(e){super(e,4)}}Ze.RequestType4=dk;class hk extends Cn{constructor(e){super(e,5)}}Ze.RequestType5=hk;class pk extends Cn{constructor(e){super(e,6)}}Ze.RequestType6=pk;class mk extends Cn{constructor(e){super(e,7)}}Ze.RequestType7=mk;class gk extends Cn{constructor(e){super(e,8)}}Ze.RequestType8=gk;class yk extends Cn{constructor(e){super(e,9)}}Ze.RequestType9=yk;class vk extends Cn{constructor(e,n=cr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}Ze.NotificationType=vk;class bk extends Cn{constructor(e){super(e,0)}}Ze.NotificationType0=bk;class Dk extends Cn{constructor(e,n=cr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}Ze.NotificationType1=Dk;class wk extends Cn{constructor(e){super(e,2)}}Ze.NotificationType2=wk;class _k extends Cn{constructor(e){super(e,3)}}Ze.NotificationType3=_k;class $k extends Cn{constructor(e){super(e,4)}}Ze.NotificationType4=$k;class Ek extends Cn{constructor(e){super(e,5)}}Ze.NotificationType5=Ek;class Sk extends Cn{constructor(e){super(e,6)}}Ze.NotificationType6=Sk;class Tk extends Cn{constructor(e){super(e,7)}}Ze.NotificationType7=Tk;class kk extends Cn{constructor(e){super(e,8)}}Ze.NotificationType8=kk;class Ak extends Cn{constructor(e){super(e,9)}}Ze.NotificationType9=Ak;var Mb;(function(t){function e(i){const s=i;return s&&Yo.string(s.method)&&(Yo.string(s.id)||Yo.number(s.id))}t.isRequest=e;function n(i){const s=i;return s&&Yo.string(s.method)&&i.id===void 0}t.isNotification=n;function r(i){const s=i;return s&&(s.result!==void 0||!!s.error)&&(Yo.string(s.id)||Yo.number(s.id)||s.id===null)}t.isResponse=r})(Mb||(Ze.Message=Mb={}));var vs={},Lb;Object.defineProperty(vs,"__esModule",{value:!0}),vs.LRUCache=vs.LinkedMap=vs.Touch=void 0;var lr;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(lr||(vs.Touch=lr={}));class jb{constructor(){this[Lb]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)==null?void 0:e.value}get last(){var e;return(e=this._tail)==null?void 0:e.value}has(e){return this._map.has(e)}get(e,n=lr.None){const r=this._map.get(e);if(!!r)return n!==lr.None&&this.touch(r,n),r.value}set(e,n,r=lr.None){let i=this._map.get(e);if(i)i.value=n,r!==lr.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case lr.None:this.addItemLast(i);break;case lr.First:this.addItemFirst(i);break;case lr.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){const r=this._state;let i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const e=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}values(){const e=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}entries(){const e=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}[(Lb=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==lr.First&&n!==lr.Last)){if(n===lr.First){if(e===this._head)return;const r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===lr.Last){if(e===this._tail)return;const r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(const[n,r]of e)this.set(n,r)}}vs.LinkedMap=jb;class Ck extends jb{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=lr.AsNew){return super.get(e,n)}peek(e){return super.get(e,lr.None)}set(e,n){return super.set(e,n,lr.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}vs.LRUCache=Ck;var of={};Object.defineProperty(of,"__esModule",{value:!0}),of.Disposable=void 0;var xb;(function(t){function e(n){return{dispose:n}}t.create=e})(xb||(of.Disposable=xb={}));var Wi={},bs={};Object.defineProperty(bs,"__esModule",{value:!0});let Jp;function Qp(){if(Jp===void 0)throw new Error("No runtime abstraction layer installed");return Jp}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Jp=n}t.install=e})(Qp||(Qp={})),bs.default=Qp,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.Emitter=Wi.Event=void 0;const Ok=bs;var Bb;(function(t){const e={dispose(){}};t.None=function(){return e}})(Bb||(Wi.Event=Bb={}));class Pk{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=r.length;s<a;s++)try{n.push(r[s].apply(i[s],e))}catch(l){(0,Ok.default)().console.error(l)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class af{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new Pk),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);const i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=af._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}Wi.Emitter=af,af._noop=function(){};var Zs={};Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.CancellationTokenSource=Zs.CancellationToken=void 0;const Nk=bs,Fk=Yn,Xp=Wi;var uf;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Xp.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Xp.Event.None});function e(n){const r=n;return r&&(r===t.None||r===t.Cancelled||Fk.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(uf||(Zs.CancellationToken=uf={}));const Rk=Object.freeze(function(t,e){const n=(0,Nk.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}});class qb{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Rk:(this._emitter||(this._emitter=new Xp.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class Ik{get token(){return this._token||(this._token=new qb),this._token}cancel(){this._token?this._token.cancel():this._token=uf.Cancelled}dispose(){this._token?this._token instanceof qb&&this._token.dispose():this._token=uf.None}}Zs.CancellationTokenSource=Ik;var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.SharedArrayReceiverStrategy=Wa.SharedArraySenderStrategy=void 0;const Mk=Zs;var wc;(function(t){t.Continue=0,t.Cancelled=1})(wc||(wc={}));class Lk{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;const n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=wc.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){const r=this.buffers.get(n);if(r===void 0)return;const i=new Int32Array(r,0,1);Atomics.store(i,0,wc.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}}Wa.SharedArraySenderStrategy=Lk;class jk{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===wc.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class xk{constructor(e){this.token=new jk(e)}cancel(){}dispose(){}}class Bk{constructor(){this.kind="request"}createCancellationTokenSource(e){const n=e.$cancellationData;return n===void 0?new Mk.CancellationTokenSource:new xk(n)}}Wa.SharedArrayReceiverStrategy=Bk;var eo={},_c={};Object.defineProperty(_c,"__esModule",{value:!0}),_c.Semaphore=void 0;const qk=bs;class Wk{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,qk.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}}_c.Semaphore=Wk,Object.defineProperty(eo,"__esModule",{value:!0}),eo.ReadableStreamMessageReader=eo.AbstractMessageReader=eo.MessageReader=void 0;const Zp=bs,Ua=Yn,em=Wi,Uk=_c;var Wb;(function(t){function e(n){let r=n;return r&&Ua.func(r.listen)&&Ua.func(r.dispose)&&Ua.func(r.onError)&&Ua.func(r.onClose)&&Ua.func(r.onPartialMessage)}t.is=e})(Wb||(eo.MessageReader=Wb={}));class Ub{constructor(){this.errorEmitter=new em.Emitter,this.closeEmitter=new em.Emitter,this.partialMessageEmitter=new em.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Ua.string(e.message)?e.message:"unknown"}`)}}eo.AbstractMessageReader=Ub;var tm;(function(t){function e(n){var f;let r,i;const s=new Map;let a;const l=new Map;if(n===void 0||typeof n=="string")r=n!=null?n:"utf-8";else{if(r=(f=n.charset)!=null?f:"utf-8",n.contentDecoder!==void 0&&(i=n.contentDecoder,s.set(i.name,i)),n.contentDecoders!==void 0)for(const d of n.contentDecoders)s.set(d.name,d);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,l.set(a.name,a)),n.contentTypeDecoders!==void 0)for(const d of n.contentTypeDecoders)l.set(d.name,d)}return a===void 0&&(a=(0,Zp.default)().applicationJson.decoder,l.set(a.name,a)),{charset:r,contentDecoder:i,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:l}}t.fromOptions=e})(tm||(tm={}));class Vk extends Ub{constructor(e,n){super(),this.readable=e,this.options=tm.fromOptions(n),this.buffer=(0,Zp.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new Uk.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){const r=this.buffer.tryReadHeaders(!0);if(!r)return;const i=r.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}const s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}const n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{const r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i)}).catch(r=>{this.fireError(r)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Zp.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}eo.ReadableStreamMessageReader=Vk;var to={};Object.defineProperty(to,"__esModule",{value:!0}),to.WriteableStreamMessageWriter=to.AbstractMessageWriter=to.MessageWriter=void 0;const Vb=bs,$c=Yn,Hk=_c,Hb=Wi,Kk="Content-Length: ",Kb=`\r
`;var zb;(function(t){function e(n){let r=n;return r&&$c.func(r.dispose)&&$c.func(r.onClose)&&$c.func(r.onError)&&$c.func(r.write)}t.is=e})(zb||(to.MessageWriter=zb={}));class Yb{constructor(){this.errorEmitter=new Hb.Emitter,this.closeEmitter=new Hb.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${$c.string(e.message)?e.message:"unknown"}`)}}to.AbstractMessageWriter=Yb;var nm;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n!=null?n:"utf-8",contentTypeEncoder:(0,Vb.default)().applicationJson.encoder}:{charset:(r=n.charset)!=null?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!=null?i:(0,Vb.default)().applicationJson.encoder}}t.fromOptions=e})(nm||(nm={}));class zk extends Yb{constructor(e,n){super(),this.writable=e,this.options=nm.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Hk.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{const i=[];return i.push(Kk,r.byteLength.toString(),Kb),i.push(Kb),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}}to.WriteableStreamMessageWriter=zk;var cf={};Object.defineProperty(cf,"__esModule",{value:!0}),cf.AbstractMessageBuffer=void 0;const Yk=13,Gk=10,Jk=`\r
`;class Qk{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,s=0;e:for(;r<this._chunks.length;){const d=this._chunks[r];for(i=0;i<d.length;){switch(d[i]){case Yk:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case Gk:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}s+=d.byteLength,r++}if(n!==4)return;const a=this._read(s+i),l=new Map,f=this.toString(a,"ascii").split(Jk);if(f.length<2)return l;for(let d=0;d<f.length-2;d++){const h=f[d],g=h.indexOf(":");if(g===-1)throw new Error(`Message header must separate key and value using ':'
${h}`);const S=h.substr(0,g),O=h.substr(g+1).trim();l.set(e?S.toLowerCase():S,O)}return l}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){const s=this._chunks[0],a=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,a}const n=this.allocNative(e);let r=0,i=0;for(;e>0;){const s=this._chunks[i];if(s.byteLength>e){const a=s.slice(0,e);n.set(a,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}}cf.AbstractMessageBuffer=Qk;var Gb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.RequestCancellationReceiverStrategy=t.IdCancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=t.NullLogger=t.ProgressType=t.ProgressToken=void 0;const e=bs,n=Yn,r=Ze,i=vs,s=Wi,a=Zs;var l;(function(H){H.type=new r.NotificationType("$/cancelRequest")})(l||(l={}));var f;(function(H){function ne(ge){return typeof ge=="string"||typeof ge=="number"}H.is=ne})(f||(t.ProgressToken=f={}));var d;(function(H){H.type=new r.NotificationType("$/progress")})(d||(d={}));class h{constructor(){}}t.ProgressType=h;var g;(function(H){function ne(ge){return n.func(ge)}H.is=ne})(g||(g={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var S;(function(H){H[H.Off=0]="Off",H[H.Messages=1]="Messages",H[H.Compact=2]="Compact",H[H.Verbose=3]="Verbose"})(S||(t.Trace=S={}));var O;(function(H){H.Off="off",H.Messages="messages",H.Compact="compact",H.Verbose="verbose"})(O||(t.TraceValues=O={})),function(H){function ne(pe){if(!n.string(pe))return H.Off;switch(pe=pe.toLowerCase(),pe){case"off":return H.Off;case"messages":return H.Messages;case"compact":return H.Compact;case"verbose":return H.Verbose;default:return H.Off}}H.fromString=ne;function ge(pe){switch(pe){case H.Off:return"off";case H.Messages:return"messages";case H.Compact:return"compact";case H.Verbose:return"verbose";default:return"off"}}H.toString=ge}(S||(t.Trace=S={}));var I;(function(H){H.Text="text",H.JSON="json"})(I||(t.TraceFormat=I={})),function(H){function ne(ge){return n.string(ge)?(ge=ge.toLowerCase(),ge==="json"?H.JSON:H.Text):H.Text}H.fromString=ne}(I||(t.TraceFormat=I={}));var P;(function(H){H.type=new r.NotificationType("$/setTrace")})(P||(t.SetTraceNotification=P={}));var C;(function(H){H.type=new r.NotificationType("$/logTrace")})(C||(t.LogTraceNotification=C={}));var R;(function(H){H[H.Closed=1]="Closed",H[H.Disposed=2]="Disposed",H[H.AlreadyListening=3]="AlreadyListening"})(R||(t.ConnectionErrors=R={}));class T extends Error{constructor(ne,ge){super(ge),this.code=ne,Object.setPrototypeOf(this,T.prototype)}}t.ConnectionError=T;var v;(function(H){function ne(ge){const pe=ge;return pe&&n.func(pe.cancelUndispatched)}H.is=ne})(v||(t.ConnectionStrategy=v={}));var D;(function(H){function ne(ge){const pe=ge;return pe&&(pe.kind===void 0||pe.kind==="id")&&n.func(pe.createCancellationTokenSource)&&(pe.dispose===void 0||n.func(pe.dispose))}H.is=ne})(D||(t.IdCancellationReceiverStrategy=D={}));var b;(function(H){function ne(ge){const pe=ge;return pe&&pe.kind==="request"&&n.func(pe.createCancellationTokenSource)&&(pe.dispose===void 0||n.func(pe.dispose))}H.is=ne})(b||(t.RequestCancellationReceiverStrategy=b={}));var _;(function(H){H.Message=Object.freeze({createCancellationTokenSource(ge){return new a.CancellationTokenSource}});function ne(ge){return D.is(ge)||b.is(ge)}H.is=ne})(_||(t.CancellationReceiverStrategy=_={}));var $;(function(H){H.Message=Object.freeze({sendCancellation(ge,pe){return ge.sendNotification(l.type,{id:pe})},cleanup(ge){}});function ne(ge){const pe=ge;return pe&&n.func(pe.sendCancellation)&&n.func(pe.cleanup)}H.is=ne})($||(t.CancellationSenderStrategy=$={}));var q;(function(H){H.Message=Object.freeze({receiver:_.Message,sender:$.Message});function ne(ge){const pe=ge;return pe&&_.is(pe.receiver)&&$.is(pe.sender)}H.is=ne})(q||(t.CancellationStrategy=q={}));var F;(function(H){function ne(ge){const pe=ge;return pe&&n.func(pe.handleMessage)}H.is=ne})(F||(t.MessageStrategy=F={}));var L;(function(H){function ne(ge){const pe=ge;return pe&&(q.is(pe.cancellationStrategy)||v.is(pe.connectionStrategy)||F.is(pe.messageStrategy))}H.is=ne})(L||(t.ConnectionOptions=L={}));var M;(function(H){H[H.New=1]="New",H[H.Listening=2]="Listening",H[H.Closed=3]="Closed",H[H.Disposed=4]="Disposed"})(M||(M={}));function Y(H,ne,ge,pe){const $e=ge!==void 0?ge:t.NullLogger;let Ve=0,lt=0,Se=0;const K="2.0";let de;const ce=new Map;let U;const te=new Map,ye=new Map;let Ie,Le=new i.LinkedMap,ze=new Map,Je=new Set,et=new Map,rt=S.Off,tn=I.Text,tt,qt=M.New;const Gt=new s.Emitter,_t=new s.Emitter,Dn=new s.Emitter,nn=new s.Emitter,Yt=new s.Emitter,mt=pe&&pe.cancellationStrategy?pe.cancellationStrategy:q.Message;function un(se){if(se===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+se.toString()}function dn(se){return se===null?"res-unknown-"+(++Se).toString():"res-"+se.toString()}function vn(){return"not-"+(++lt).toString()}function gt(se,ke){r.Message.isRequest(ke)?se.set(un(ke.id),ke):r.Message.isResponse(ke)?se.set(dn(ke.id),ke):se.set(vn(),ke)}function Q(se){}function V(){return qt===M.Listening}function Z(){return qt===M.Closed}function ie(){return qt===M.Disposed}function A(){(qt===M.New||qt===M.Listening)&&(qt=M.Closed,_t.fire(void 0))}function y(se){Gt.fire([se,void 0,void 0])}function w(se){Gt.fire(se)}H.onClose(A),H.onError(y),ne.onClose(A),ne.onError(w);function B(){Ie||Le.size===0||(Ie=(0,e.default)().timer.setImmediate(()=>{Ie=void 0,re()}))}function J(se){r.Message.isRequest(se)?Ne(se):r.Message.isNotification(se)?We(se):r.Message.isResponse(se)?Xe(se):Ye(se)}function re(){if(Le.size===0)return;const se=Le.shift();try{const ke=pe==null?void 0:pe.messageStrategy;F.is(ke)?ke.handleMessage(se,J):J(se)}finally{B()}}const fe=se=>{try{if(r.Message.isNotification(se)&&se.method===l.type.method){const ke=se.params.id,Me=un(ke),Ke=Le.get(Me);if(r.Message.isRequest(Ke)){const Jt=pe==null?void 0:pe.connectionStrategy,sn=Jt&&Jt.cancelUndispatched?Jt.cancelUndispatched(Ke,Q):void 0;if(sn&&(sn.error!==void 0||sn.result!==void 0)){Le.delete(Me),et.delete(ke),sn.id=Ke.id,yt(sn,se.method,Date.now()),ne.write(sn).catch(()=>$e.error("Sending response for canceled message failed."));return}}const rn=et.get(ke);if(rn!==void 0){rn.cancel(),St(se);return}else Je.add(ke)}gt(Le,se)}finally{B()}};function Ne(se){var Un;if(ie())return;function ke(Vt,Tn,xt){const kn={jsonrpc:K,id:se.id};Vt instanceof r.ResponseError?kn.error=Vt.toJson():kn.result=Vt===void 0?null:Vt,yt(kn,Tn,xt),ne.write(kn).catch(()=>$e.error("Sending response failed."))}function Me(Vt,Tn,xt){const kn={jsonrpc:K,id:se.id,error:Vt.toJson()};yt(kn,Tn,xt),ne.write(kn).catch(()=>$e.error("Sending response failed."))}function Ke(Vt,Tn,xt){Vt===void 0&&(Vt=null);const kn={jsonrpc:K,id:se.id,result:Vt};yt(kn,Tn,xt),ne.write(kn).catch(()=>$e.error("Sending response failed."))}Ut(se);const rn=ce.get(se.method);let Jt,sn;rn&&(Jt=rn.type,sn=rn.handler);const Sn=Date.now();if(sn||de){const Vt=(Un=se.id)!=null?Un:String(Date.now()),Tn=D.is(mt.receiver)?mt.receiver.createCancellationTokenSource(Vt):mt.receiver.createCancellationTokenSource(se);se.id!==null&&Je.has(se.id)&&Tn.cancel(),se.id!==null&&et.set(Vt,Tn);try{let xt;if(sn)if(se.params===void 0){if(Jt!==void 0&&Jt.numberOfParams!==0){Me(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${se.method} defines ${Jt.numberOfParams} params but received none.`),se.method,Sn);return}xt=sn(Tn.token)}else if(Array.isArray(se.params)){if(Jt!==void 0&&Jt.parameterStructures===r.ParameterStructures.byName){Me(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${se.method} defines parameters by name but received parameters by position`),se.method,Sn);return}xt=sn(...se.params,Tn.token)}else{if(Jt!==void 0&&Jt.parameterStructures===r.ParameterStructures.byPosition){Me(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${se.method} defines parameters by position but received parameters by name`),se.method,Sn);return}xt=sn(se.params,Tn.token)}else de&&(xt=de(se.method,se.params,Tn.token));const kn=xt;xt?kn.then?kn.then(pn=>{et.delete(Vt),ke(pn,se.method,Sn)},pn=>{et.delete(Vt),pn instanceof r.ResponseError?Me(pn,se.method,Sn):pn&&n.string(pn.message)?Me(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${se.method} failed with message: ${pn.message}`),se.method,Sn):Me(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${se.method} failed unexpectedly without providing any details.`),se.method,Sn)}):(et.delete(Vt),ke(xt,se.method,Sn)):(et.delete(Vt),Ke(xt,se.method,Sn))}catch(xt){et.delete(Vt),xt instanceof r.ResponseError?ke(xt,se.method,Sn):xt&&n.string(xt.message)?Me(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${se.method} failed with message: ${xt.message}`),se.method,Sn):Me(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${se.method} failed unexpectedly without providing any details.`),se.method,Sn)}}else Me(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${se.method}`),se.method,Sn)}function Xe(se){if(!ie())if(se.id===null)se.error?$e.error(`Received response message without id: Error is: 
${JSON.stringify(se.error,void 0,4)}`):$e.error("Received response message without id. No further error information provided.");else{const ke=se.id,Me=ze.get(ke);if(An(se,Me),Me!==void 0){ze.delete(ke);try{if(se.error){const Ke=se.error;Me.reject(new r.ResponseError(Ke.code,Ke.message,Ke.data))}else if(se.result!==void 0)Me.resolve(se.result);else throw new Error("Should never happen.")}catch(Ke){Ke.message?$e.error(`Response handler '${Me.method}' failed with message: ${Ke.message}`):$e.error(`Response handler '${Me.method}' failed unexpectedly.`)}}}}function We(se){if(ie())return;let ke,Me;if(se.method===l.type.method){const Ke=se.params.id;Je.delete(Ke),St(se);return}else{const Ke=te.get(se.method);Ke&&(Me=Ke.handler,ke=Ke.type)}if(Me||U)try{if(St(se),Me)if(se.params===void 0)ke!==void 0&&ke.numberOfParams!==0&&ke.parameterStructures!==r.ParameterStructures.byName&&$e.error(`Notification ${se.method} defines ${ke.numberOfParams} params but received none.`),Me();else if(Array.isArray(se.params)){const Ke=se.params;se.method===d.type.method&&Ke.length===2&&f.is(Ke[0])?Me({token:Ke[0],value:Ke[1]}):(ke!==void 0&&(ke.parameterStructures===r.ParameterStructures.byName&&$e.error(`Notification ${se.method} defines parameters by name but received parameters by position`),ke.numberOfParams!==se.params.length&&$e.error(`Notification ${se.method} defines ${ke.numberOfParams} params but received ${Ke.length} arguments`)),Me(...Ke))}else ke!==void 0&&ke.parameterStructures===r.ParameterStructures.byPosition&&$e.error(`Notification ${se.method} defines parameters by position but received parameters by name`),Me(se.params);else U&&U(se.method,se.params)}catch(Ke){Ke.message?$e.error(`Notification handler '${se.method}' failed with message: ${Ke.message}`):$e.error(`Notification handler '${se.method}' failed unexpectedly.`)}else Dn.fire(se)}function Ye(se){if(!se){$e.error("Received empty message.");return}$e.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(se,null,4)}`);const ke=se;if(n.string(ke.id)||n.number(ke.id)){const Me=ke.id,Ke=ze.get(Me);Ke&&Ke.reject(new Error("The received response has neither a result nor an error property."))}}function je(se){if(se!=null)switch(rt){case S.Verbose:return JSON.stringify(se,null,4);case S.Compact:return JSON.stringify(se);default:return}}function Pt(se){if(!(rt===S.Off||!tt))if(tn===I.Text){let ke;(rt===S.Verbose||rt===S.Compact)&&se.params&&(ke=`Params: ${je(se.params)}

`),tt.log(`Sending request '${se.method} - (${se.id})'.`,ke)}else hr("send-request",se)}function bn(se){if(!(rt===S.Off||!tt))if(tn===I.Text){let ke;(rt===S.Verbose||rt===S.Compact)&&(se.params?ke=`Params: ${je(se.params)}

`:ke=`No parameters provided.

`),tt.log(`Sending notification '${se.method}'.`,ke)}else hr("send-notification",se)}function yt(se,ke,Me){if(!(rt===S.Off||!tt))if(tn===I.Text){let Ke;(rt===S.Verbose||rt===S.Compact)&&(se.error&&se.error.data?Ke=`Error data: ${je(se.error.data)}

`:se.result?Ke=`Result: ${je(se.result)}

`:se.error===void 0&&(Ke=`No result returned.

`)),tt.log(`Sending response '${ke} - (${se.id})'. Processing request took ${Date.now()-Me}ms`,Ke)}else hr("send-response",se)}function Ut(se){if(!(rt===S.Off||!tt))if(tn===I.Text){let ke;(rt===S.Verbose||rt===S.Compact)&&se.params&&(ke=`Params: ${je(se.params)}

`),tt.log(`Received request '${se.method} - (${se.id})'.`,ke)}else hr("receive-request",se)}function St(se){if(!(rt===S.Off||!tt||se.method===C.type.method))if(tn===I.Text){let ke;(rt===S.Verbose||rt===S.Compact)&&(se.params?ke=`Params: ${je(se.params)}

`:ke=`No parameters provided.

`),tt.log(`Received notification '${se.method}'.`,ke)}else hr("receive-notification",se)}function An(se,ke){if(!(rt===S.Off||!tt))if(tn===I.Text){let Me;if((rt===S.Verbose||rt===S.Compact)&&(se.error&&se.error.data?Me=`Error data: ${je(se.error.data)}

`:se.result?Me=`Result: ${je(se.result)}

`:se.error===void 0&&(Me=`No result returned.

`)),ke){const Ke=se.error?` Request failed: ${se.error.message} (${se.error.code}).`:"";tt.log(`Received response '${ke.method} - (${se.id})' in ${Date.now()-ke.timerStart}ms.${Ke}`,Me)}else tt.log(`Received response ${se.id} without active response promise.`,Me)}else hr("receive-response",se)}function hr(se,ke){if(!tt||rt===S.Off)return;const Me={isLSPMessage:!0,type:se,message:ke,timestamp:Date.now()};tt.log(Me)}function pr(){if(Z())throw new T(R.Closed,"Connection is closed.");if(ie())throw new T(R.Disposed,"Connection is disposed.")}function Fs(){if(V())throw new T(R.AlreadyListening,"Connection is already listening")}function is(){if(!V())throw new Error("Call listen() first.")}function vi(se){return se===void 0?null:se}function Ii(se){if(se!==null)return se}function X(se){return se!=null&&!Array.isArray(se)&&typeof se=="object"}function En(se,ke){switch(se){case r.ParameterStructures.auto:return X(ke)?Ii(ke):[vi(ke)];case r.ParameterStructures.byName:if(!X(ke))throw new Error("Received parameters by name but param is not an object literal.");return Ii(ke);case r.ParameterStructures.byPosition:return[vi(ke)];default:throw new Error(`Unknown parameter structure ${se.toString()}`)}}function hn(se,ke){let Me;const Ke=se.numberOfParams;switch(Ke){case 0:Me=void 0;break;case 1:Me=En(se.parameterStructures,ke[0]);break;default:Me=[];for(let rn=0;rn<ke.length&&rn<Ke;rn++)Me.push(vi(ke[rn]));if(ke.length<Ke)for(let rn=ke.length;rn<Ke;rn++)Me.push(null);break}return Me}const it={sendNotification:(se,...ke)=>{pr();let Me,Ke;if(n.string(se)){Me=se;const Jt=ke[0];let sn=0,Sn=r.ParameterStructures.auto;r.ParameterStructures.is(Jt)&&(sn=1,Sn=Jt);let Un=ke.length;const Vt=Un-sn;switch(Vt){case 0:Ke=void 0;break;case 1:Ke=En(Sn,ke[sn]);break;default:if(Sn===r.ParameterStructures.byName)throw new Error(`Received ${Vt} parameters for 'by Name' notification parameter structure.`);Ke=ke.slice(sn,Un).map(Tn=>vi(Tn));break}}else{const Jt=ke;Me=se.method,Ke=hn(se,Jt)}const rn={jsonrpc:K,method:Me,params:Ke};return bn(rn),ne.write(rn).catch(Jt=>{throw $e.error("Sending notification failed."),Jt})},onNotification:(se,ke)=>{pr();let Me;return n.func(se)?U=se:ke&&(n.string(se)?(Me=se,te.set(se,{type:void 0,handler:ke})):(Me=se.method,te.set(se.method,{type:se,handler:ke}))),{dispose:()=>{Me!==void 0?te.delete(Me):U=void 0}}},onProgress:(se,ke,Me)=>{if(ye.has(ke))throw new Error(`Progress handler for token ${ke} already registered`);return ye.set(ke,Me),{dispose:()=>{ye.delete(ke)}}},sendProgress:(se,ke,Me)=>it.sendNotification(d.type,{token:ke,value:Me}),onUnhandledProgress:nn.event,sendRequest:(se,...ke)=>{pr(),is();let Me,Ke,rn;if(n.string(se)){Me=se;const Un=ke[0],Vt=ke[ke.length-1];let Tn=0,xt=r.ParameterStructures.auto;r.ParameterStructures.is(Un)&&(Tn=1,xt=Un);let kn=ke.length;a.CancellationToken.is(Vt)&&(kn=kn-1,rn=Vt);const pn=kn-Tn;switch(pn){case 0:Ke=void 0;break;case 1:Ke=En(xt,ke[Tn]);break;default:if(xt===r.ParameterStructures.byName)throw new Error(`Received ${pn} parameters for 'by Name' request parameter structure.`);Ke=ke.slice(Tn,kn).map(wl=>vi(wl));break}}else{const Un=ke;Me=se.method,Ke=hn(se,Un);const Vt=se.numberOfParams;rn=a.CancellationToken.is(Un[Vt])?Un[Vt]:void 0}const Jt=Ve++;let sn;rn&&(sn=rn.onCancellationRequested(()=>{const Un=mt.sender.sendCancellation(it,Jt);return Un===void 0?($e.log(`Received no promise from cancellation strategy when cancelling id ${Jt}`),Promise.resolve()):Un.catch(()=>{$e.log(`Sending cancellation messages for id ${Jt} failed`)})}));const Sn={jsonrpc:K,id:Jt,method:Me,params:Ke};return Pt(Sn),typeof mt.sender.enableCancellation=="function"&&mt.sender.enableCancellation(Sn),new Promise(async(Un,Vt)=>{const Tn=pn=>{Un(pn),mt.sender.cleanup(Jt),sn==null||sn.dispose()},xt=pn=>{Vt(pn),mt.sender.cleanup(Jt),sn==null||sn.dispose()},kn={method:Me,timerStart:Date.now(),resolve:Tn,reject:xt};try{await ne.write(Sn),ze.set(Jt,kn)}catch(pn){throw $e.error("Sending request failed."),kn.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,pn.message?pn.message:"Unknown reason")),pn}})},onRequest:(se,ke)=>{pr();let Me=null;return g.is(se)?(Me=void 0,de=se):n.string(se)?(Me=null,ke!==void 0&&(Me=se,ce.set(se,{handler:ke,type:void 0}))):ke!==void 0&&(Me=se.method,ce.set(se.method,{type:se,handler:ke})),{dispose:()=>{Me!==null&&(Me!==void 0?ce.delete(Me):de=void 0)}}},hasPendingResponse:()=>ze.size>0,trace:async(se,ke,Me)=>{let Ke=!1,rn=I.Text;Me!==void 0&&(n.boolean(Me)?Ke=Me:(Ke=Me.sendNotification||!1,rn=Me.traceFormat||I.Text)),rt=se,tn=rn,rt===S.Off?tt=void 0:tt=ke,Ke&&!Z()&&!ie()&&await it.sendNotification(P.type,{value:S.toString(se)})},onError:Gt.event,onClose:_t.event,onUnhandledNotification:Dn.event,onDispose:Yt.event,end:()=>{ne.end()},dispose:()=>{if(ie())return;qt=M.Disposed,Yt.fire(void 0);const se=new r.ResponseError(r.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const ke of ze.values())ke.reject(se);ze=new Map,et=new Map,Je=new Set,Le=new i.LinkedMap,n.func(ne.dispose)&&ne.dispose(),n.func(H.dispose)&&H.dispose()},listen:()=>{pr(),Fs(),qt=M.Listening,H.listen(fe)},inspect:()=>{(0,e.default)().console.log("inspect")}};return it.onNotification(C.type,se=>{if(rt===S.Off||!tt)return;const ke=rt===S.Verbose||rt===S.Compact;tt.log(se.message,ke?se.verbose:void 0)}),it.onNotification(d.type,se=>{const ke=ye.get(se.token);ke?ke(se.value):nn.fire(se)}),it}t.createMessageConnection=Y})(Gb),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressType=t.ProgressToken=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.AbstractMessageBuffer=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.SharedArrayReceiverStrategy=t.SharedArraySenderStrategy=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.LRUCache=t.Touch=t.LinkedMap=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.Message=t.RAL=void 0,t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=void 0;const e=Ze;Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return e.Message}}),Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return e.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return e.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return e.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return e.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return e.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return e.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return e.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return e.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return e.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return e.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return e.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return e.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return e.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return e.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return e.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return e.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return e.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return e.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return e.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return e.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return e.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return e.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return e.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return e.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return e.ParameterStructures}});const n=vs;Object.defineProperty(t,"LinkedMap",{enumerable:!0,get:function(){return n.LinkedMap}}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return n.LRUCache}}),Object.defineProperty(t,"Touch",{enumerable:!0,get:function(){return n.Touch}});const r=of;Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return r.Disposable}});const i=Wi;Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});const s=Zs;Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return s.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return s.CancellationToken}});const a=Wa;Object.defineProperty(t,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return a.SharedArraySenderStrategy}}),Object.defineProperty(t,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return a.SharedArrayReceiverStrategy}});const l=eo;Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return l.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return l.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return l.ReadableStreamMessageReader}});const f=to;Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return f.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return f.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return f.WriteableStreamMessageWriter}});const d=cf;Object.defineProperty(t,"AbstractMessageBuffer",{enumerable:!0,get:function(){return d.AbstractMessageBuffer}});const h=Gb;Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return h.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return h.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return h.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return h.createMessageConnection}}),Object.defineProperty(t,"ProgressToken",{enumerable:!0,get:function(){return h.ProgressToken}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return h.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return h.Trace}}),Object.defineProperty(t,"TraceValues",{enumerable:!0,get:function(){return h.TraceValues}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return h.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return h.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return h.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return h.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return h.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return h.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return h.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return h.CancellationStrategy}}),Object.defineProperty(t,"MessageStrategy",{enumerable:!0,get:function(){return h.MessageStrategy}});const g=bs;t.RAL=g.default}(sf),Object.defineProperty(zp,"__esModule",{value:!0});const Ui=sf;class lf extends Ui.AbstractMessageBuffer{constructor(e="utf-8"){super(e),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return lf.emptyBuffer}fromString(e,n){return new TextEncoder().encode(e)}toString(e,n){return n==="ascii"?this.asciiDecoder.decode(e):new TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e:e.slice(0,n)}allocNative(e){return new Uint8Array(e)}}lf.emptyBuffer=new Uint8Array(0);class Xk{constructor(e){this.socket=e,this._onData=new Ui.Emitter,this._messageListener=n=>{n.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,Ui.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(e){return this.socket.addEventListener("close",e),Ui.Disposable.create(()=>this.socket.removeEventListener("close",e))}onError(e){return this.socket.addEventListener("error",e),Ui.Disposable.create(()=>this.socket.removeEventListener("error",e))}onEnd(e){return this.socket.addEventListener("end",e),Ui.Disposable.create(()=>this.socket.removeEventListener("end",e))}onData(e){return this._onData.event(e)}}class Zk{constructor(e){this.socket=e}onClose(e){return this.socket.addEventListener("close",e),Ui.Disposable.create(()=>this.socket.removeEventListener("close",e))}onError(e){return this.socket.addEventListener("error",e),Ui.Disposable.create(()=>this.socket.removeEventListener("error",e))}onEnd(e){return this.socket.addEventListener("end",e),Ui.Disposable.create(()=>this.socket.removeEventListener("end",e))}write(e,n){if(typeof e=="string"){if(n!==void 0&&n!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${n}`);this.socket.send(e)}else this.socket.send(e);return Promise.resolve()}end(){this.socket.close()}}const eA=new TextEncoder,Jb=Object.freeze({messageBuffer:Object.freeze({create:t=>new lf(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{if(e.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${e.charset}`);return Promise.resolve(eA.encode(JSON.stringify(t,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{if(!(t instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(e.charset).decode(t)))}})}),stream:Object.freeze({asReadableStream:t=>new Xk(t),asWritableStream:t=>new Zk(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){const r=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(t,...e){const n=setTimeout(t,0,...e);return{dispose:()=>clearTimeout(n)}},setInterval(t,e,...n){const r=setInterval(t,e,...n);return{dispose:()=>clearInterval(r)}}})});function rm(){return Jb}(function(t){function e(){Ui.RAL.install(Jb)}t.install=e})(rm||(rm={})),zp.default=rm,function(t){var e=Wt&&Wt.__createBinding||(Object.create?function(f,d,h,g){g===void 0&&(g=h);var S=Object.getOwnPropertyDescriptor(d,h);(!S||("get"in S?!d.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return d[h]}}),Object.defineProperty(f,g,S)}:function(f,d,h,g){g===void 0&&(g=h),f[g]=d[h]}),n=Wt&&Wt.__exportStar||function(f,d){for(var h in f)h!=="default"&&!Object.prototype.hasOwnProperty.call(d,h)&&e(d,f,h)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.BrowserMessageWriter=t.BrowserMessageReader=void 0,zp.default.install();const i=sf;n(sf,t);class s extends i.AbstractMessageReader{constructor(d){super(),this._onData=new i.Emitter,this._messageListener=h=>{this._onData.fire(h.data)},d.addEventListener("error",h=>this.fireError(h)),d.onmessage=this._messageListener}listen(d){return this._onData.event(d)}}t.BrowserMessageReader=s;class a extends i.AbstractMessageWriter{constructor(d){super(),this.port=d,this.errorCount=0,d.addEventListener("error",h=>this.fireError(h))}write(d){try{return this.port.postMessage(d),Promise.resolve()}catch(h){return this.handleError(h,d),Promise.reject(h)}}handleError(d,h){this.errorCount++,this.fireError(d,h,this.errorCount)}end(){}}t.BrowserMessageWriter=a;function l(f,d,h,g){return h===void 0&&(h=i.NullLogger),i.ConnectionStrategy.is(g)&&(g={connectionStrategy:g}),(0,i.createMessageConnection)(f,d,h,g)}t.createMessageConnection=l}(zo),function(t){t.exports=zo}(Kp);var Qb={},im;(function(t){function e(n){return typeof n=="string"}t.is=e})(im||(im={}));var ff;(function(t){function e(n){return typeof n=="string"}t.is=e})(ff||(ff={}));var sm;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e})(sm||(sm={}));var Ec;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e})(Ec||(Ec={}));var Jn;(function(t){function e(r,i){return r===Number.MAX_VALUE&&(r=Ec.MAX_VALUE),i===Number.MAX_VALUE&&(i=Ec.MAX_VALUE),{line:r,character:i}}t.create=e;function n(r){let i=r;return De.objectLiteral(i)&&De.uinteger(i.line)&&De.uinteger(i.character)}t.is=n})(Jn||(Jn={}));var ot;(function(t){function e(r,i,s,a){if(De.uinteger(r)&&De.uinteger(i)&&De.uinteger(s)&&De.uinteger(a))return{start:Jn.create(r,i),end:Jn.create(s,a)};if(Jn.is(r)&&Jn.is(i))return{start:r,end:i};throw new Error(`Range#create called with invalid arguments[${r}, ${i}, ${s}, ${a}]`)}t.create=e;function n(r){let i=r;return De.objectLiteral(i)&&Jn.is(i.start)&&Jn.is(i.end)}t.is=n})(ot||(ot={}));var Go;(function(t){function e(r,i){return{uri:r,range:i}}t.create=e;function n(r){let i=r;return De.objectLiteral(i)&&ot.is(i.range)&&(De.string(i.uri)||De.undefined(i.uri))}t.is=n})(Go||(Go={}));var df;(function(t){function e(r,i,s,a){return{targetUri:r,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}t.create=e;function n(r){let i=r;return De.objectLiteral(i)&&ot.is(i.targetRange)&&De.string(i.targetUri)&&ot.is(i.targetSelectionRange)&&(ot.is(i.originSelectionRange)||De.undefined(i.originSelectionRange))}t.is=n})(df||(df={}));var hf;(function(t){function e(r,i,s,a){return{red:r,green:i,blue:s,alpha:a}}t.create=e;function n(r){const i=r;return De.objectLiteral(i)&&De.numberRange(i.red,0,1)&&De.numberRange(i.green,0,1)&&De.numberRange(i.blue,0,1)&&De.numberRange(i.alpha,0,1)}t.is=n})(hf||(hf={}));var om;(function(t){function e(r,i){return{range:r,color:i}}t.create=e;function n(r){const i=r;return De.objectLiteral(i)&&ot.is(i.range)&&hf.is(i.color)}t.is=n})(om||(om={}));var am;(function(t){function e(r,i,s){return{label:r,textEdit:i,additionalTextEdits:s}}t.create=e;function n(r){const i=r;return De.objectLiteral(i)&&De.string(i.label)&&(De.undefined(i.textEdit)||fn.is(i))&&(De.undefined(i.additionalTextEdits)||De.typedArray(i.additionalTextEdits,fn.is))}t.is=n})(am||(am={}));var um;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(um||(um={}));var pf;(function(t){function e(r,i,s,a,l,f){const d={startLine:r,endLine:i};return De.defined(s)&&(d.startCharacter=s),De.defined(a)&&(d.endCharacter=a),De.defined(l)&&(d.kind=l),De.defined(f)&&(d.collapsedText=f),d}t.create=e;function n(r){const i=r;return De.objectLiteral(i)&&De.uinteger(i.startLine)&&De.uinteger(i.startLine)&&(De.undefined(i.startCharacter)||De.uinteger(i.startCharacter))&&(De.undefined(i.endCharacter)||De.uinteger(i.endCharacter))&&(De.undefined(i.kind)||De.string(i.kind))}t.is=n})(pf||(pf={}));var mf;(function(t){function e(r,i){return{location:r,message:i}}t.create=e;function n(r){let i=r;return De.defined(i)&&Go.is(i.location)&&De.string(i.message)}t.is=n})(mf||(mf={}));var $t;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})($t||($t={}));var gf;(function(t){t.Unnecessary=1,t.Deprecated=2})(gf||(gf={}));var cm;(function(t){function e(n){const r=n;return De.objectLiteral(r)&&De.string(r.href)}t.is=e})(cm||(cm={}));var kr;(function(t){function e(r,i,s,a,l,f){let d={range:r,message:i};return De.defined(s)&&(d.severity=s),De.defined(a)&&(d.code=a),De.defined(l)&&(d.source=l),De.defined(f)&&(d.relatedInformation=f),d}t.create=e;function n(r){var i;let s=r;return De.defined(s)&&ot.is(s.range)&&De.string(s.message)&&(De.number(s.severity)||De.undefined(s.severity))&&(De.integer(s.code)||De.string(s.code)||De.undefined(s.code))&&(De.undefined(s.codeDescription)||De.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(De.string(s.source)||De.undefined(s.source))&&(De.undefined(s.relatedInformation)||De.typedArray(s.relatedInformation,mf.is))}t.is=n})(kr||(kr={}));var no;(function(t){function e(r,i,...s){let a={title:r,command:i};return De.defined(s)&&s.length>0&&(a.arguments=s),a}t.create=e;function n(r){let i=r;return De.defined(i)&&De.string(i.title)&&De.string(i.command)}t.is=n})(no||(no={}));var fn;(function(t){function e(s,a){return{range:s,newText:a}}t.replace=e;function n(s,a){return{range:{start:s,end:s},newText:a}}t.insert=n;function r(s){return{range:s,newText:""}}t.del=r;function i(s){const a=s;return De.objectLiteral(a)&&De.string(a.newText)&&ot.is(a.range)}t.is=i})(fn||(fn={}));var Jo;(function(t){function e(r,i,s){const a={label:r};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}t.create=e;function n(r){const i=r;return De.objectLiteral(i)&&De.string(i.label)&&(De.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(De.string(i.description)||i.description===void 0)}t.is=n})(Jo||(Jo={}));var ir;(function(t){function e(n){const r=n;return De.string(r)}t.is=e})(ir||(ir={}));var Ds;(function(t){function e(s,a,l){return{range:s,newText:a,annotationId:l}}t.replace=e;function n(s,a,l){return{range:{start:s,end:s},newText:a,annotationId:l}}t.insert=n;function r(s,a){return{range:s,newText:"",annotationId:a}}t.del=r;function i(s){const a=s;return fn.is(a)&&(Jo.is(a.annotationId)||ir.is(a.annotationId))}t.is=i})(Ds||(Ds={}));var Sc;(function(t){function e(r,i){return{textDocument:r,edits:i}}t.create=e;function n(r){let i=r;return De.defined(i)&&Tc.is(i.textDocument)&&Array.isArray(i.edits)}t.is=n})(Sc||(Sc={}));var Va;(function(t){function e(r,i,s){let a={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}t.create=e;function n(r){let i=r;return i&&i.kind==="create"&&De.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||De.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||De.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ir.is(i.annotationId))}t.is=n})(Va||(Va={}));var Ha;(function(t){function e(r,i,s,a){let l={kind:"rename",oldUri:r,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(l.options=s),a!==void 0&&(l.annotationId=a),l}t.create=e;function n(r){let i=r;return i&&i.kind==="rename"&&De.string(i.oldUri)&&De.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||De.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||De.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ir.is(i.annotationId))}t.is=n})(Ha||(Ha={}));var Ka;(function(t){function e(r,i,s){let a={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}t.create=e;function n(r){let i=r;return i&&i.kind==="delete"&&De.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||De.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||De.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||ir.is(i.annotationId))}t.is=n})(Ka||(Ka={}));var yf;(function(t){function e(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(i=>De.string(i.kind)?Va.is(i)||Ha.is(i)||Ka.is(i):Sc.is(i)))}t.is=e})(yf||(yf={}));class vf{constructor(e,n){this.edits=e,this.changeAnnotations=n}insert(e,n,r){let i,s;if(r===void 0?i=fn.insert(e,n):ir.is(r)?(s=r,i=Ds.insert(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(r),i=Ds.insert(e,n,s)),this.edits.push(i),s!==void 0)return s}replace(e,n,r){let i,s;if(r===void 0?i=fn.replace(e,n):ir.is(r)?(s=r,i=Ds.replace(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(r),i=Ds.replace(e,n,s)),this.edits.push(i),s!==void 0)return s}delete(e,n){let r,i;if(n===void 0?r=fn.del(e):ir.is(n)?(i=n,r=Ds.del(e,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=Ds.del(e,i)),this.edits.push(r),i!==void 0)return i}add(e){this.edits.push(e)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}}class Xb{constructor(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(e,n){let r;if(ir.is(e)?r=e:(r=this.nextId(),n=e),this._annotations[r]!==void 0)throw new Error(`Id ${r} is already in use.`);if(n===void 0)throw new Error(`No annotation provided for id ${r}`);return this._annotations[r]=n,this._size++,r}nextId(){return this._counter++,this._counter.toString()}}class tA{constructor(e){this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new Xb(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(n=>{if(Sc.is(n)){const r=new vf(n.edits,this._changeAnnotations);this._textEditChanges[n.textDocument.uri]=r}})):e.changes&&Object.keys(e.changes).forEach(n=>{const r=new vf(e.changes[n]);this._textEditChanges[n]=r})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(e){if(Tc.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");const n={uri:e.uri,version:e.version};let r=this._textEditChanges[n.uri];if(!r){const i=[],s={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(s),r=new vf(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let n=this._textEditChanges[e];if(!n){let r=[];this._workspaceEdit.changes[e]=r,n=new vf(r),this._textEditChanges[e]=n}return n}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Xb,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;Jo.is(n)||ir.is(n)?i=n:r=n;let s,a;if(i===void 0?s=Va.create(e,r):(a=ir.is(i)?i:this._changeAnnotations.manage(i),s=Va.create(e,r,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}renameFile(e,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let s;Jo.is(r)||ir.is(r)?s=r:i=r;let a,l;if(s===void 0?a=Ha.create(e,n,i):(l=ir.is(s)?s:this._changeAnnotations.manage(s),a=Ha.create(e,n,i,l)),this._workspaceEdit.documentChanges.push(a),l!==void 0)return l}deleteFile(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;Jo.is(n)||ir.is(n)?i=n:r=n;let s,a;if(i===void 0?s=Ka.create(e,r):(a=ir.is(i)?i:this._changeAnnotations.manage(i),s=Ka.create(e,r,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}}var lm;(function(t){function e(r){return{uri:r}}t.create=e;function n(r){let i=r;return De.defined(i)&&De.string(i.uri)}t.is=n})(lm||(lm={}));var fm;(function(t){function e(r,i){return{uri:r,version:i}}t.create=e;function n(r){let i=r;return De.defined(i)&&De.string(i.uri)&&De.integer(i.version)}t.is=n})(fm||(fm={}));var Tc;(function(t){function e(r,i){return{uri:r,version:i}}t.create=e;function n(r){let i=r;return De.defined(i)&&De.string(i.uri)&&(i.version===null||De.integer(i.version))}t.is=n})(Tc||(Tc={}));var dm;(function(t){function e(r,i,s,a){return{uri:r,languageId:i,version:s,text:a}}t.create=e;function n(r){let i=r;return De.defined(i)&&De.string(i.uri)&&De.string(i.languageId)&&De.integer(i.version)&&De.string(i.text)}t.is=n})(dm||(dm={}));var Vi;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(n){const r=n;return r===t.PlainText||r===t.Markdown}t.is=e})(Vi||(Vi={}));var za;(function(t){function e(n){const r=n;return De.objectLiteral(n)&&Vi.is(r.kind)&&De.string(r.value)}t.is=e})(za||(za={}));var Ar;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(Ar||(Ar={}));var er;(function(t){t.PlainText=1,t.Snippet=2})(er||(er={}));var hm;(function(t){t.Deprecated=1})(hm||(hm={}));var pm;(function(t){function e(r,i,s){return{newText:r,insert:i,replace:s}}t.create=e;function n(r){const i=r;return i&&De.string(i.newText)&&ot.is(i.insert)&&ot.is(i.replace)}t.is=n})(pm||(pm={}));var bf;(function(t){t.asIs=1,t.adjustIndentation=2})(bf||(bf={}));var mm;(function(t){function e(n){const r=n;return r&&(De.string(r.detail)||r.detail===void 0)&&(De.string(r.description)||r.description===void 0)}t.is=e})(mm||(mm={}));var Df;(function(t){function e(n){return{label:n}}t.create=e})(Df||(Df={}));var wf;(function(t){function e(n,r){return{items:n||[],isIncomplete:!!r}}t.create=e})(wf||(wf={}));var kc;(function(t){function e(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=e;function n(r){const i=r;return De.string(i)||De.objectLiteral(i)&&De.string(i.language)&&De.string(i.value)}t.is=n})(kc||(kc={}));var gm;(function(t){function e(n){let r=n;return!!r&&De.objectLiteral(r)&&(za.is(r.contents)||kc.is(r.contents)||De.typedArray(r.contents,kc.is))&&(n.range===void 0||ot.is(n.range))}t.is=e})(gm||(gm={}));var ym;(function(t){function e(n,r){return r?{label:n,documentation:r}:{label:n}}t.create=e})(ym||(ym={}));var vm;(function(t){function e(n,r,...i){let s={label:n};return De.defined(r)&&(s.documentation=r),De.defined(i)?s.parameters=i:s.parameters=[],s}t.create=e})(vm||(vm={}));var bm;(function(t){t.Text=1,t.Read=2,t.Write=3})(bm||(bm={}));var Dm;(function(t){function e(n,r){let i={range:n};return De.number(r)&&(i.kind=r),i}t.create=e})(Dm||(Dm={}));var $i;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})($i||($i={}));var wm;(function(t){t.Deprecated=1})(wm||(wm={}));var _m;(function(t){function e(n,r,i,s,a){let l={name:n,kind:r,location:{uri:s,range:i}};return a&&(l.containerName=a),l}t.create=e})(_m||(_m={}));var $m;(function(t){function e(n,r,i,s){return s!==void 0?{name:n,kind:r,location:{uri:i,range:s}}:{name:n,kind:r,location:{uri:i}}}t.create=e})($m||($m={}));var Em;(function(t){function e(r,i,s,a,l,f){let d={name:r,detail:i,kind:s,range:a,selectionRange:l};return f!==void 0&&(d.children=f),d}t.create=e;function n(r){let i=r;return i&&De.string(i.name)&&De.number(i.kind)&&ot.is(i.range)&&ot.is(i.selectionRange)&&(i.detail===void 0||De.string(i.detail))&&(i.deprecated===void 0||De.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}t.is=n})(Em||(Em={}));var Hi;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(Hi||(Hi={}));var Ac;(function(t){t.Invoked=1,t.Automatic=2})(Ac||(Ac={}));var Sm;(function(t){function e(r,i,s){let a={diagnostics:r};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}t.create=e;function n(r){let i=r;return De.defined(i)&&De.typedArray(i.diagnostics,kr.is)&&(i.only===void 0||De.typedArray(i.only,De.string))&&(i.triggerKind===void 0||i.triggerKind===Ac.Invoked||i.triggerKind===Ac.Automatic)}t.is=n})(Sm||(Sm={}));var Ei;(function(t){function e(r,i,s){let a={title:r},l=!0;return typeof i=="string"?(l=!1,a.kind=i):no.is(i)?a.command=i:a.edit=i,l&&s!==void 0&&(a.kind=s),a}t.create=e;function n(r){let i=r;return i&&De.string(i.title)&&(i.diagnostics===void 0||De.typedArray(i.diagnostics,kr.is))&&(i.kind===void 0||De.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||no.is(i.command))&&(i.isPreferred===void 0||De.boolean(i.isPreferred))&&(i.edit===void 0||yf.is(i.edit))}t.is=n})(Ei||(Ei={}));var _f;(function(t){function e(r,i){let s={range:r};return De.defined(i)&&(s.data=i),s}t.create=e;function n(r){let i=r;return De.defined(i)&&ot.is(i.range)&&(De.undefined(i.command)||no.is(i.command))}t.is=n})(_f||(_f={}));var Tm;(function(t){function e(r,i){return{tabSize:r,insertSpaces:i}}t.create=e;function n(r){let i=r;return De.defined(i)&&De.uinteger(i.tabSize)&&De.boolean(i.insertSpaces)}t.is=n})(Tm||(Tm={}));var km;(function(t){function e(r,i,s){return{range:r,target:i,data:s}}t.create=e;function n(r){let i=r;return De.defined(i)&&ot.is(i.range)&&(De.undefined(i.target)||De.string(i.target))}t.is=n})(km||(km={}));var Cc;(function(t){function e(r,i){return{range:r,parent:i}}t.create=e;function n(r){let i=r;return De.objectLiteral(i)&&ot.is(i.range)&&(i.parent===void 0||t.is(i.parent))}t.is=n})(Cc||(Cc={}));var Am;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(Am||(Am={}));var Cm;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(Cm||(Cm={}));var Om;(function(t){function e(n){const r=n;return De.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(Om||(Om={}));var Pm;(function(t){function e(r,i){return{range:r,text:i}}t.create=e;function n(r){const i=r;return i!=null&&ot.is(i.range)&&De.string(i.text)}t.is=n})(Pm||(Pm={}));var Nm;(function(t){function e(r,i,s){return{range:r,variableName:i,caseSensitiveLookup:s}}t.create=e;function n(r){const i=r;return i!=null&&ot.is(i.range)&&De.boolean(i.caseSensitiveLookup)&&(De.string(i.variableName)||i.variableName===void 0)}t.is=n})(Nm||(Nm={}));var Fm;(function(t){function e(r,i){return{range:r,expression:i}}t.create=e;function n(r){const i=r;return i!=null&&ot.is(i.range)&&(De.string(i.expression)||i.expression===void 0)}t.is=n})(Fm||(Fm={}));var Rm;(function(t){function e(r,i){return{frameId:r,stoppedLocation:i}}t.create=e;function n(r){const i=r;return De.defined(i)&&ot.is(r.stoppedLocation)}t.is=n})(Rm||(Rm={}));var $f;(function(t){t.Type=1,t.Parameter=2;function e(n){return n===1||n===2}t.is=e})($f||($f={}));var Ef;(function(t){function e(r){return{value:r}}t.create=e;function n(r){const i=r;return De.objectLiteral(i)&&(i.tooltip===void 0||De.string(i.tooltip)||za.is(i.tooltip))&&(i.location===void 0||Go.is(i.location))&&(i.command===void 0||no.is(i.command))}t.is=n})(Ef||(Ef={}));var Im;(function(t){function e(r,i,s){const a={position:r,label:i};return s!==void 0&&(a.kind=s),a}t.create=e;function n(r){const i=r;return De.objectLiteral(i)&&Jn.is(i.position)&&(De.string(i.label)||De.typedArray(i.label,Ef.is))&&(i.kind===void 0||$f.is(i.kind))&&i.textEdits===void 0||De.typedArray(i.textEdits,fn.is)&&(i.tooltip===void 0||De.string(i.tooltip)||za.is(i.tooltip))&&(i.paddingLeft===void 0||De.boolean(i.paddingLeft))&&(i.paddingRight===void 0||De.boolean(i.paddingRight))}t.is=n})(Im||(Im={}));var Mm;(function(t){function e(n){return{kind:"snippet",value:n}}t.createSnippet=e})(Mm||(Mm={}));var Lm;(function(t){function e(n,r,i,s){return{insertText:n,filterText:r,range:i,command:s}}t.create=e})(Lm||(Lm={}));var jm;(function(t){function e(n){return{items:n}}t.create=e})(jm||(jm={}));var xm;(function(t){t.Invoked=0,t.Automatic=1})(xm||(xm={}));var Bm;(function(t){function e(n,r){return{range:n,text:r}}t.create=e})(Bm||(Bm={}));var qm;(function(t){function e(n,r){return{triggerKind:n,selectedCompletionInfo:r}}t.create=e})(qm||(qm={}));var Wm;(function(t){function e(n){const r=n;return De.objectLiteral(r)&&ff.is(r.uri)&&De.string(r.name)}t.is=e})(Wm||(Wm={}));const nA=[`
`,`\r
`,"\r"];var Um;(function(t){function e(s,a,l,f){return new rA(s,a,l,f)}t.create=e;function n(s){let a=s;return!!(De.defined(a)&&De.string(a.uri)&&(De.undefined(a.languageId)||De.string(a.languageId))&&De.uinteger(a.lineCount)&&De.func(a.getText)&&De.func(a.positionAt)&&De.func(a.offsetAt))}t.is=n;function r(s,a){let l=s.getText(),f=i(a,(h,g)=>{let S=h.range.start.line-g.range.start.line;return S===0?h.range.start.character-g.range.start.character:S}),d=l.length;for(let h=f.length-1;h>=0;h--){let g=f[h],S=s.offsetAt(g.range.start),O=s.offsetAt(g.range.end);if(O<=d)l=l.substring(0,S)+g.newText+l.substring(O,l.length);else throw new Error("Overlapping edit");d=S}return l}t.applyEdits=r;function i(s,a){if(s.length<=1)return s;const l=s.length/2|0,f=s.slice(0,l),d=s.slice(l);i(f,a),i(d,a);let h=0,g=0,S=0;for(;h<f.length&&g<d.length;)a(f[h],d[g])<=0?s[S++]=f[h++]:s[S++]=d[g++];for(;h<f.length;)s[S++]=f[h++];for(;g<d.length;)s[S++]=d[g++];return s}})(Um||(Um={}));class rA{constructor(e,n,r,i){this._uri=e,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){this._content=e.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],n=this._content,r=!0;for(let i=0;i<n.length;i++){r&&(e.push(i),r=!1);let s=n.charAt(i);r=s==="\r"||s===`
`,s==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&e.push(n.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return Jn.create(0,e);for(;r<i;){let a=Math.floor((r+i)/2);n[a]>e?i=a:r=a+1}let s=r-1;return Jn.create(s,e-n[s])}offsetAt(e){let n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;let r=n[e.line],i=e.line+1<n.length?n[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,i),r)}get lineCount(){return this.getLineOffsets().length}}var De;(function(t){const e=Object.prototype.toString;function n(O){return typeof O<"u"}t.defined=n;function r(O){return typeof O>"u"}t.undefined=r;function i(O){return O===!0||O===!1}t.boolean=i;function s(O){return e.call(O)==="[object String]"}t.string=s;function a(O){return e.call(O)==="[object Number]"}t.number=a;function l(O,I,P){return e.call(O)==="[object Number]"&&I<=O&&O<=P}t.numberRange=l;function f(O){return e.call(O)==="[object Number]"&&-2147483648<=O&&O<=2147483647}t.integer=f;function d(O){return e.call(O)==="[object Number]"&&0<=O&&O<=2147483647}t.uinteger=d;function h(O){return e.call(O)==="[object Function]"}t.func=h;function g(O){return O!==null&&typeof O=="object"}t.objectLiteral=g;function S(O,I){return Array.isArray(O)&&O.every(I)}t.typedArray=S})(De||(De={}));var iA=Object.freeze({__proto__:null,get DocumentUri(){return im},get URI(){return ff},get integer(){return sm},get uinteger(){return Ec},get Position(){return Jn},get Range(){return ot},get Location(){return Go},get LocationLink(){return df},get Color(){return hf},get ColorInformation(){return om},get ColorPresentation(){return am},get FoldingRangeKind(){return um},get FoldingRange(){return pf},get DiagnosticRelatedInformation(){return mf},get DiagnosticSeverity(){return $t},get DiagnosticTag(){return gf},get CodeDescription(){return cm},get Diagnostic(){return kr},get Command(){return no},get TextEdit(){return fn},get ChangeAnnotation(){return Jo},get ChangeAnnotationIdentifier(){return ir},get AnnotatedTextEdit(){return Ds},get TextDocumentEdit(){return Sc},get CreateFile(){return Va},get RenameFile(){return Ha},get DeleteFile(){return Ka},get WorkspaceEdit(){return yf},WorkspaceChange:tA,get TextDocumentIdentifier(){return lm},get VersionedTextDocumentIdentifier(){return fm},get OptionalVersionedTextDocumentIdentifier(){return Tc},get TextDocumentItem(){return dm},get MarkupKind(){return Vi},get MarkupContent(){return za},get CompletionItemKind(){return Ar},get InsertTextFormat(){return er},get CompletionItemTag(){return hm},get InsertReplaceEdit(){return pm},get InsertTextMode(){return bf},get CompletionItemLabelDetails(){return mm},get CompletionItem(){return Df},get CompletionList(){return wf},get MarkedString(){return kc},get Hover(){return gm},get ParameterInformation(){return ym},get SignatureInformation(){return vm},get DocumentHighlightKind(){return bm},get DocumentHighlight(){return Dm},get SymbolKind(){return $i},get SymbolTag(){return wm},get SymbolInformation(){return _m},get WorkspaceSymbol(){return $m},get DocumentSymbol(){return Em},get CodeActionKind(){return Hi},get CodeActionTriggerKind(){return Ac},get CodeActionContext(){return Sm},get CodeAction(){return Ei},get CodeLens(){return _f},get FormattingOptions(){return Tm},get DocumentLink(){return km},get SelectionRange(){return Cc},get SemanticTokenTypes(){return Am},get SemanticTokenModifiers(){return Cm},get SemanticTokens(){return Om},get InlineValueText(){return Pm},get InlineValueVariableLookup(){return Nm},get InlineValueEvaluatableExpression(){return Fm},get InlineValueContext(){return Rm},get InlayHintKind(){return $f},get InlayHintLabelPart(){return Ef},get InlayHint(){return Im},get StringValue(){return Mm},get InlineCompletionItem(){return Lm},get InlineCompletionList(){return jm},get InlineCompletionTriggerKind(){return xm},get SelectedCompletionInfo(){return Bm},get InlineCompletionContext(){return qm},get WorkspaceFolder(){return Wm},EOL:nA,get TextDocument(){return Um}}),Vm=Ko(iA),Lt={};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.ProtocolNotificationType=Lt.ProtocolNotificationType0=Lt.ProtocolRequestType=Lt.ProtocolRequestType0=Lt.RegistrationType=Lt.MessageDirection=void 0;const Ya=zo;var Zb;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(Zb||(Lt.MessageDirection=Zb={}));class sA{constructor(e){this.method=e}}Lt.RegistrationType=sA;class oA extends Ya.RequestType0{constructor(e){super(e)}}Lt.ProtocolRequestType0=oA;class aA extends Ya.RequestType{constructor(e){super(e,Ya.ParameterStructures.byName)}}Lt.ProtocolRequestType=aA;class uA extends Ya.NotificationType0{constructor(e){super(e)}}Lt.ProtocolNotificationType0=uA;class cA extends Ya.NotificationType{constructor(e){super(e,Ya.ParameterStructures.byName)}}Lt.ProtocolNotificationType=cA;var e1={},Pn={};Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.objectLiteral=Pn.typedArray=Pn.stringArray=Pn.array=Pn.func=Pn.error=Pn.number=Pn.string=Pn.boolean=void 0;function lA(t){return t===!0||t===!1}Pn.boolean=lA;function t1(t){return typeof t=="string"||t instanceof String}Pn.string=t1;function fA(t){return typeof t=="number"||t instanceof Number}Pn.number=fA;function dA(t){return t instanceof Error}Pn.error=dA;function hA(t){return typeof t=="function"}Pn.func=hA;function n1(t){return Array.isArray(t)}Pn.array=n1;function pA(t){return n1(t)&&t.every(e=>t1(e))}Pn.stringArray=pA;function mA(t,e){return Array.isArray(t)&&t.every(e)}Pn.typedArray=mA;function gA(t){return t!==null&&typeof t=="object"}Pn.objectLiteral=gA;var Sf={};Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.ImplementationRequest=void 0;const r1=Lt;var i1;(function(t){t.method="textDocument/implementation",t.messageDirection=r1.MessageDirection.clientToServer,t.type=new r1.ProtocolRequestType(t.method)})(i1||(Sf.ImplementationRequest=i1={}));var Tf={};Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.TypeDefinitionRequest=void 0;const s1=Lt;var o1;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=s1.MessageDirection.clientToServer,t.type=new s1.ProtocolRequestType(t.method)})(o1||(Tf.TypeDefinitionRequest=o1={}));var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.DidChangeWorkspaceFoldersNotification=Ga.WorkspaceFoldersRequest=void 0;const kf=Lt;var a1;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=kf.MessageDirection.serverToClient,t.type=new kf.ProtocolRequestType0(t.method)})(a1||(Ga.WorkspaceFoldersRequest=a1={}));var u1;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=kf.MessageDirection.clientToServer,t.type=new kf.ProtocolNotificationType(t.method)})(u1||(Ga.DidChangeWorkspaceFoldersNotification=u1={}));var Af={};Object.defineProperty(Af,"__esModule",{value:!0}),Af.ConfigurationRequest=void 0;const c1=Lt;var l1;(function(t){t.method="workspace/configuration",t.messageDirection=c1.MessageDirection.serverToClient,t.type=new c1.ProtocolRequestType(t.method)})(l1||(Af.ConfigurationRequest=l1={}));var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.ColorPresentationRequest=Ja.DocumentColorRequest=void 0;const Cf=Lt;var f1;(function(t){t.method="textDocument/documentColor",t.messageDirection=Cf.MessageDirection.clientToServer,t.type=new Cf.ProtocolRequestType(t.method)})(f1||(Ja.DocumentColorRequest=f1={}));var d1;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=Cf.MessageDirection.clientToServer,t.type=new Cf.ProtocolRequestType(t.method)})(d1||(Ja.ColorPresentationRequest=d1={}));var Qa={};Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.FoldingRangeRefreshRequest=Qa.FoldingRangeRequest=void 0;const Of=Lt;var h1;(function(t){t.method="textDocument/foldingRange",t.messageDirection=Of.MessageDirection.clientToServer,t.type=new Of.ProtocolRequestType(t.method)})(h1||(Qa.FoldingRangeRequest=h1={}));var p1;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=Of.MessageDirection.serverToClient,t.type=new Of.ProtocolRequestType0(t.method)})(p1||(Qa.FoldingRangeRefreshRequest=p1={}));var Pf={};Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.DeclarationRequest=void 0;const m1=Lt;var g1;(function(t){t.method="textDocument/declaration",t.messageDirection=m1.MessageDirection.clientToServer,t.type=new m1.ProtocolRequestType(t.method)})(g1||(Pf.DeclarationRequest=g1={}));var Nf={};Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.SelectionRangeRequest=void 0;const y1=Lt;var v1;(function(t){t.method="textDocument/selectionRange",t.messageDirection=y1.MessageDirection.clientToServer,t.type=new y1.ProtocolRequestType(t.method)})(v1||(Nf.SelectionRangeRequest=v1={}));var ro={};Object.defineProperty(ro,"__esModule",{value:!0}),ro.WorkDoneProgressCancelNotification=ro.WorkDoneProgressCreateRequest=ro.WorkDoneProgress=void 0;const yA=zo,Ff=Lt;var b1;(function(t){t.type=new yA.ProgressType;function e(n){return n===t.type}t.is=e})(b1||(ro.WorkDoneProgress=b1={}));var D1;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=Ff.MessageDirection.serverToClient,t.type=new Ff.ProtocolRequestType(t.method)})(D1||(ro.WorkDoneProgressCreateRequest=D1={}));var w1;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=Ff.MessageDirection.clientToServer,t.type=new Ff.ProtocolNotificationType(t.method)})(w1||(ro.WorkDoneProgressCancelNotification=w1={}));var io={};Object.defineProperty(io,"__esModule",{value:!0}),io.CallHierarchyOutgoingCallsRequest=io.CallHierarchyIncomingCallsRequest=io.CallHierarchyPrepareRequest=void 0;const Xa=Lt;var _1;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=Xa.MessageDirection.clientToServer,t.type=new Xa.ProtocolRequestType(t.method)})(_1||(io.CallHierarchyPrepareRequest=_1={}));var $1;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=Xa.MessageDirection.clientToServer,t.type=new Xa.ProtocolRequestType(t.method)})($1||(io.CallHierarchyIncomingCallsRequest=$1={}));var E1;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=Xa.MessageDirection.clientToServer,t.type=new Xa.ProtocolRequestType(t.method)})(E1||(io.CallHierarchyOutgoingCallsRequest=E1={}));var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.SemanticTokensRefreshRequest=Cr.SemanticTokensRangeRequest=Cr.SemanticTokensDeltaRequest=Cr.SemanticTokensRequest=Cr.SemanticTokensRegistrationType=Cr.TokenFormat=void 0;const ws=Lt;var S1;(function(t){t.Relative="relative"})(S1||(Cr.TokenFormat=S1={}));var Oc;(function(t){t.method="textDocument/semanticTokens",t.type=new ws.RegistrationType(t.method)})(Oc||(Cr.SemanticTokensRegistrationType=Oc={}));var T1;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=ws.MessageDirection.clientToServer,t.type=new ws.ProtocolRequestType(t.method),t.registrationMethod=Oc.method})(T1||(Cr.SemanticTokensRequest=T1={}));var k1;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=ws.MessageDirection.clientToServer,t.type=new ws.ProtocolRequestType(t.method),t.registrationMethod=Oc.method})(k1||(Cr.SemanticTokensDeltaRequest=k1={}));var A1;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=ws.MessageDirection.clientToServer,t.type=new ws.ProtocolRequestType(t.method),t.registrationMethod=Oc.method})(A1||(Cr.SemanticTokensRangeRequest=A1={}));var C1;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=ws.MessageDirection.serverToClient,t.type=new ws.ProtocolRequestType0(t.method)})(C1||(Cr.SemanticTokensRefreshRequest=C1={}));var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.ShowDocumentRequest=void 0;const O1=Lt;var P1;(function(t){t.method="window/showDocument",t.messageDirection=O1.MessageDirection.serverToClient,t.type=new O1.ProtocolRequestType(t.method)})(P1||(Rf.ShowDocumentRequest=P1={}));var If={};Object.defineProperty(If,"__esModule",{value:!0}),If.LinkedEditingRangeRequest=void 0;const N1=Lt;var F1;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=N1.MessageDirection.clientToServer,t.type=new N1.ProtocolRequestType(t.method)})(F1||(If.LinkedEditingRangeRequest=F1={}));var fr={};Object.defineProperty(fr,"__esModule",{value:!0}),fr.WillDeleteFilesRequest=fr.DidDeleteFilesNotification=fr.DidRenameFilesNotification=fr.WillRenameFilesRequest=fr.DidCreateFilesNotification=fr.WillCreateFilesRequest=fr.FileOperationPatternKind=void 0;const si=Lt;var R1;(function(t){t.file="file",t.folder="folder"})(R1||(fr.FileOperationPatternKind=R1={}));var I1;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=si.MessageDirection.clientToServer,t.type=new si.ProtocolRequestType(t.method)})(I1||(fr.WillCreateFilesRequest=I1={}));var M1;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=si.MessageDirection.clientToServer,t.type=new si.ProtocolNotificationType(t.method)})(M1||(fr.DidCreateFilesNotification=M1={}));var L1;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=si.MessageDirection.clientToServer,t.type=new si.ProtocolRequestType(t.method)})(L1||(fr.WillRenameFilesRequest=L1={}));var j1;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=si.MessageDirection.clientToServer,t.type=new si.ProtocolNotificationType(t.method)})(j1||(fr.DidRenameFilesNotification=j1={}));var x1;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=si.MessageDirection.clientToServer,t.type=new si.ProtocolNotificationType(t.method)})(x1||(fr.DidDeleteFilesNotification=x1={}));var B1;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=si.MessageDirection.clientToServer,t.type=new si.ProtocolRequestType(t.method)})(B1||(fr.WillDeleteFilesRequest=B1={}));var so={};Object.defineProperty(so,"__esModule",{value:!0}),so.MonikerRequest=so.MonikerKind=so.UniquenessLevel=void 0;const q1=Lt;var W1;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(W1||(so.UniquenessLevel=W1={}));var U1;(function(t){t.$import="import",t.$export="export",t.local="local"})(U1||(so.MonikerKind=U1={}));var V1;(function(t){t.method="textDocument/moniker",t.messageDirection=q1.MessageDirection.clientToServer,t.type=new q1.ProtocolRequestType(t.method)})(V1||(so.MonikerRequest=V1={}));var oo={};Object.defineProperty(oo,"__esModule",{value:!0}),oo.TypeHierarchySubtypesRequest=oo.TypeHierarchySupertypesRequest=oo.TypeHierarchyPrepareRequest=void 0;const Za=Lt;var H1;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=Za.MessageDirection.clientToServer,t.type=new Za.ProtocolRequestType(t.method)})(H1||(oo.TypeHierarchyPrepareRequest=H1={}));var K1;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=Za.MessageDirection.clientToServer,t.type=new Za.ProtocolRequestType(t.method)})(K1||(oo.TypeHierarchySupertypesRequest=K1={}));var z1;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=Za.MessageDirection.clientToServer,t.type=new Za.ProtocolRequestType(t.method)})(z1||(oo.TypeHierarchySubtypesRequest=z1={}));var eu={};Object.defineProperty(eu,"__esModule",{value:!0}),eu.InlineValueRefreshRequest=eu.InlineValueRequest=void 0;const Mf=Lt;var Y1;(function(t){t.method="textDocument/inlineValue",t.messageDirection=Mf.MessageDirection.clientToServer,t.type=new Mf.ProtocolRequestType(t.method)})(Y1||(eu.InlineValueRequest=Y1={}));var G1;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=Mf.MessageDirection.serverToClient,t.type=new Mf.ProtocolRequestType0(t.method)})(G1||(eu.InlineValueRefreshRequest=G1={}));var ao={};Object.defineProperty(ao,"__esModule",{value:!0}),ao.InlayHintRefreshRequest=ao.InlayHintResolveRequest=ao.InlayHintRequest=void 0;const tu=Lt;var J1;(function(t){t.method="textDocument/inlayHint",t.messageDirection=tu.MessageDirection.clientToServer,t.type=new tu.ProtocolRequestType(t.method)})(J1||(ao.InlayHintRequest=J1={}));var Q1;(function(t){t.method="inlayHint/resolve",t.messageDirection=tu.MessageDirection.clientToServer,t.type=new tu.ProtocolRequestType(t.method)})(Q1||(ao.InlayHintResolveRequest=Q1={}));var X1;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=tu.MessageDirection.serverToClient,t.type=new tu.ProtocolRequestType0(t.method)})(X1||(ao.InlayHintRefreshRequest=X1={}));var oi={};Object.defineProperty(oi,"__esModule",{value:!0}),oi.DiagnosticRefreshRequest=oi.WorkspaceDiagnosticRequest=oi.DocumentDiagnosticRequest=oi.DocumentDiagnosticReportKind=oi.DiagnosticServerCancellationData=void 0;const Z1=zo,vA=Pn,nu=Lt;var eD;(function(t){function e(n){const r=n;return r&&vA.boolean(r.retriggerRequest)}t.is=e})(eD||(oi.DiagnosticServerCancellationData=eD={}));var tD;(function(t){t.Full="full",t.Unchanged="unchanged"})(tD||(oi.DocumentDiagnosticReportKind=tD={}));var nD;(function(t){t.method="textDocument/diagnostic",t.messageDirection=nu.MessageDirection.clientToServer,t.type=new nu.ProtocolRequestType(t.method),t.partialResult=new Z1.ProgressType})(nD||(oi.DocumentDiagnosticRequest=nD={}));var rD;(function(t){t.method="workspace/diagnostic",t.messageDirection=nu.MessageDirection.clientToServer,t.type=new nu.ProtocolRequestType(t.method),t.partialResult=new Z1.ProgressType})(rD||(oi.WorkspaceDiagnosticRequest=rD={}));var iD;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=nu.MessageDirection.serverToClient,t.type=new nu.ProtocolRequestType0(t.method)})(iD||(oi.DiagnosticRefreshRequest=iD={}));var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.DidCloseNotebookDocumentNotification=Nn.DidSaveNotebookDocumentNotification=Nn.DidChangeNotebookDocumentNotification=Nn.NotebookCellArrayChange=Nn.DidOpenNotebookDocumentNotification=Nn.NotebookDocumentSyncRegistrationType=Nn.NotebookDocument=Nn.NotebookCell=Nn.ExecutionSummary=Nn.NotebookCellKind=void 0;const Pc=Vm,Si=Pn,Ki=Lt;var Hm;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}t.is=e})(Hm||(Nn.NotebookCellKind=Hm={}));var Km;(function(t){function e(i,s){const a={executionOrder:i};return(s===!0||s===!1)&&(a.success=s),a}t.create=e;function n(i){const s=i;return Si.objectLiteral(s)&&Pc.uinteger.is(s.executionOrder)&&(s.success===void 0||Si.boolean(s.success))}t.is=n;function r(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}t.equals=r})(Km||(Nn.ExecutionSummary=Km={}));var Lf;(function(t){function e(s,a){return{kind:s,document:a}}t.create=e;function n(s){const a=s;return Si.objectLiteral(a)&&Hm.is(a.kind)&&Pc.DocumentUri.is(a.document)&&(a.metadata===void 0||Si.objectLiteral(a.metadata))}t.is=n;function r(s,a){const l=new Set;return s.document!==a.document&&l.add("document"),s.kind!==a.kind&&l.add("kind"),s.executionSummary!==a.executionSummary&&l.add("executionSummary"),(s.metadata!==void 0||a.metadata!==void 0)&&!i(s.metadata,a.metadata)&&l.add("metadata"),(s.executionSummary!==void 0||a.executionSummary!==void 0)&&!Km.equals(s.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}t.diff=r;function i(s,a){if(s===a)return!0;if(s==null||a===null||a===void 0||typeof s!=typeof a||typeof s!="object")return!1;const l=Array.isArray(s),f=Array.isArray(a);if(l!==f)return!1;if(l&&f){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++)if(!i(s[d],a[d]))return!1}if(Si.objectLiteral(s)&&Si.objectLiteral(a)){const d=Object.keys(s),h=Object.keys(a);if(d.length!==h.length||(d.sort(),h.sort(),!i(d,h)))return!1;for(let g=0;g<d.length;g++){const S=d[g];if(!i(s[S],a[S]))return!1}}return!0}})(Lf||(Nn.NotebookCell=Lf={}));var sD;(function(t){function e(r,i,s,a){return{uri:r,notebookType:i,version:s,cells:a}}t.create=e;function n(r){const i=r;return Si.objectLiteral(i)&&Si.string(i.uri)&&Pc.integer.is(i.version)&&Si.typedArray(i.cells,Lf.is)}t.is=n})(sD||(Nn.NotebookDocument=sD={}));var ru;(function(t){t.method="notebookDocument/sync",t.messageDirection=Ki.MessageDirection.clientToServer,t.type=new Ki.RegistrationType(t.method)})(ru||(Nn.NotebookDocumentSyncRegistrationType=ru={}));var oD;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Ki.MessageDirection.clientToServer,t.type=new Ki.ProtocolNotificationType(t.method),t.registrationMethod=ru.method})(oD||(Nn.DidOpenNotebookDocumentNotification=oD={}));var aD;(function(t){function e(r){const i=r;return Si.objectLiteral(i)&&Pc.uinteger.is(i.start)&&Pc.uinteger.is(i.deleteCount)&&(i.cells===void 0||Si.typedArray(i.cells,Lf.is))}t.is=e;function n(r,i,s){const a={start:r,deleteCount:i};return s!==void 0&&(a.cells=s),a}t.create=n})(aD||(Nn.NotebookCellArrayChange=aD={}));var uD;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Ki.MessageDirection.clientToServer,t.type=new Ki.ProtocolNotificationType(t.method),t.registrationMethod=ru.method})(uD||(Nn.DidChangeNotebookDocumentNotification=uD={}));var cD;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Ki.MessageDirection.clientToServer,t.type=new Ki.ProtocolNotificationType(t.method),t.registrationMethod=ru.method})(cD||(Nn.DidSaveNotebookDocumentNotification=cD={}));var lD;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Ki.MessageDirection.clientToServer,t.type=new Ki.ProtocolNotificationType(t.method),t.registrationMethod=ru.method})(lD||(Nn.DidCloseNotebookDocumentNotification=lD={}));var jf={};Object.defineProperty(jf,"__esModule",{value:!0}),jf.InlineCompletionRequest=void 0;const fD=Lt;var dD;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=fD.MessageDirection.clientToServer,t.type=new fD.ProtocolRequestType(t.method)})(dD||(jf.InlineCompletionRequest=dD={})),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.RelativePattern=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeErrorCodes=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.PositionEncodingKind=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.NotebookCellTextDocumentFilter=t.NotebookDocumentFilter=t.TextDocumentFilter=void 0,t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRefreshRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangesFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolResolveRequest=void 0,t.InlineCompletionRequest=t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=t.InlineValueRefreshRequest=t.InlineValueRequest=t.TypeHierarchySupertypesRequest=t.TypeHierarchySubtypesRequest=t.TypeHierarchyPrepareRequest=void 0;const e=Lt,n=Vm,r=Pn,i=Sf;Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});const s=Tf;Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return s.TypeDefinitionRequest}});const a=Ga;Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return a.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return a.DidChangeWorkspaceFoldersNotification}});const l=Af;Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return l.ConfigurationRequest}});const f=Ja;Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return f.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return f.ColorPresentationRequest}});const d=Qa;Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return d.FoldingRangeRequest}}),Object.defineProperty(t,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return d.FoldingRangeRefreshRequest}});const h=Pf;Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return h.DeclarationRequest}});const g=Nf;Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return g.SelectionRangeRequest}});const S=ro;Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return S.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return S.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return S.WorkDoneProgressCancelNotification}});const O=io;Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return O.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return O.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return O.CallHierarchyPrepareRequest}});const I=Cr;Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return I.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return I.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return I.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return I.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return I.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return I.SemanticTokensRegistrationType}});const P=Rf;Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return P.ShowDocumentRequest}});const C=If;Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return C.LinkedEditingRangeRequest}});const R=fr;Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return R.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return R.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return R.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return R.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return R.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return R.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return R.WillDeleteFilesRequest}});const T=so;Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return T.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return T.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return T.MonikerRequest}});const v=oo;Object.defineProperty(t,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return v.TypeHierarchyPrepareRequest}}),Object.defineProperty(t,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return v.TypeHierarchySubtypesRequest}}),Object.defineProperty(t,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return v.TypeHierarchySupertypesRequest}});const D=eu;Object.defineProperty(t,"InlineValueRequest",{enumerable:!0,get:function(){return D.InlineValueRequest}}),Object.defineProperty(t,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return D.InlineValueRefreshRequest}});const b=ao;Object.defineProperty(t,"InlayHintRequest",{enumerable:!0,get:function(){return b.InlayHintRequest}}),Object.defineProperty(t,"InlayHintResolveRequest",{enumerable:!0,get:function(){return b.InlayHintResolveRequest}}),Object.defineProperty(t,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return b.InlayHintRefreshRequest}});const _=oi;Object.defineProperty(t,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return _.DiagnosticServerCancellationData}}),Object.defineProperty(t,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return _.DocumentDiagnosticReportKind}}),Object.defineProperty(t,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return _.DocumentDiagnosticRequest}}),Object.defineProperty(t,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return _.WorkspaceDiagnosticRequest}}),Object.defineProperty(t,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return _.DiagnosticRefreshRequest}});const $=Nn;Object.defineProperty(t,"NotebookCellKind",{enumerable:!0,get:function(){return $.NotebookCellKind}}),Object.defineProperty(t,"ExecutionSummary",{enumerable:!0,get:function(){return $.ExecutionSummary}}),Object.defineProperty(t,"NotebookCell",{enumerable:!0,get:function(){return $.NotebookCell}}),Object.defineProperty(t,"NotebookDocument",{enumerable:!0,get:function(){return $.NotebookDocument}}),Object.defineProperty(t,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return $.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(t,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return $.DidOpenNotebookDocumentNotification}}),Object.defineProperty(t,"NotebookCellArrayChange",{enumerable:!0,get:function(){return $.NotebookCellArrayChange}}),Object.defineProperty(t,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return $.DidChangeNotebookDocumentNotification}}),Object.defineProperty(t,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return $.DidSaveNotebookDocumentNotification}}),Object.defineProperty(t,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return $.DidCloseNotebookDocumentNotification}});const q=jf;Object.defineProperty(t,"InlineCompletionRequest",{enumerable:!0,get:function(){return q.InlineCompletionRequest}});var F;(function(X){function En(hn){const it=hn;return r.string(it)||r.string(it.language)||r.string(it.scheme)||r.string(it.pattern)}X.is=En})(F||(t.TextDocumentFilter=F={}));var L;(function(X){function En(hn){const it=hn;return r.objectLiteral(it)&&(r.string(it.notebookType)||r.string(it.scheme)||r.string(it.pattern))}X.is=En})(L||(t.NotebookDocumentFilter=L={}));var M;(function(X){function En(hn){const it=hn;return r.objectLiteral(it)&&(r.string(it.notebook)||L.is(it.notebook))&&(it.language===void 0||r.string(it.language))}X.is=En})(M||(t.NotebookCellTextDocumentFilter=M={}));var Y;(function(X){function En(hn){if(!Array.isArray(hn))return!1;for(let it of hn)if(!r.string(it)&&!F.is(it)&&!M.is(it))return!1;return!0}X.is=En})(Y||(t.DocumentSelector=Y={}));var H;(function(X){X.method="client/registerCapability",X.messageDirection=e.MessageDirection.serverToClient,X.type=new e.ProtocolRequestType(X.method)})(H||(t.RegistrationRequest=H={}));var ne;(function(X){X.method="client/unregisterCapability",X.messageDirection=e.MessageDirection.serverToClient,X.type=new e.ProtocolRequestType(X.method)})(ne||(t.UnregistrationRequest=ne={}));var ge;(function(X){X.Create="create",X.Rename="rename",X.Delete="delete"})(ge||(t.ResourceOperationKind=ge={}));var pe;(function(X){X.Abort="abort",X.Transactional="transactional",X.TextOnlyTransactional="textOnlyTransactional",X.Undo="undo"})(pe||(t.FailureHandlingKind=pe={}));var $e;(function(X){X.UTF8="utf-8",X.UTF16="utf-16",X.UTF32="utf-32"})($e||(t.PositionEncodingKind=$e={}));var Ve;(function(X){function En(hn){const it=hn;return it&&r.string(it.id)&&it.id.length>0}X.hasId=En})(Ve||(t.StaticRegistrationOptions=Ve={}));var lt;(function(X){function En(hn){const it=hn;return it&&(it.documentSelector===null||Y.is(it.documentSelector))}X.is=En})(lt||(t.TextDocumentRegistrationOptions=lt={}));var Se;(function(X){function En(it){const se=it;return r.objectLiteral(se)&&(se.workDoneProgress===void 0||r.boolean(se.workDoneProgress))}X.is=En;function hn(it){const se=it;return se&&r.boolean(se.workDoneProgress)}X.hasWorkDoneProgress=hn})(Se||(t.WorkDoneProgressOptions=Se={}));var K;(function(X){X.method="initialize",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(K||(t.InitializeRequest=K={}));var de;(function(X){X.unknownProtocolVersion=1})(de||(t.InitializeErrorCodes=de={}));var ce;(function(X){X.method="initialized",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolNotificationType(X.method)})(ce||(t.InitializedNotification=ce={}));var U;(function(X){X.method="shutdown",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType0(X.method)})(U||(t.ShutdownRequest=U={}));var te;(function(X){X.method="exit",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolNotificationType0(X.method)})(te||(t.ExitNotification=te={}));var ye;(function(X){X.method="workspace/didChangeConfiguration",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolNotificationType(X.method)})(ye||(t.DidChangeConfigurationNotification=ye={}));var Ie;(function(X){X.Error=1,X.Warning=2,X.Info=3,X.Log=4,X.Debug=5})(Ie||(t.MessageType=Ie={}));var Le;(function(X){X.method="window/showMessage",X.messageDirection=e.MessageDirection.serverToClient,X.type=new e.ProtocolNotificationType(X.method)})(Le||(t.ShowMessageNotification=Le={}));var ze;(function(X){X.method="window/showMessageRequest",X.messageDirection=e.MessageDirection.serverToClient,X.type=new e.ProtocolRequestType(X.method)})(ze||(t.ShowMessageRequest=ze={}));var Je;(function(X){X.method="window/logMessage",X.messageDirection=e.MessageDirection.serverToClient,X.type=new e.ProtocolNotificationType(X.method)})(Je||(t.LogMessageNotification=Je={}));var et;(function(X){X.method="telemetry/event",X.messageDirection=e.MessageDirection.serverToClient,X.type=new e.ProtocolNotificationType(X.method)})(et||(t.TelemetryEventNotification=et={}));var rt;(function(X){X.None=0,X.Full=1,X.Incremental=2})(rt||(t.TextDocumentSyncKind=rt={}));var tn;(function(X){X.method="textDocument/didOpen",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolNotificationType(X.method)})(tn||(t.DidOpenTextDocumentNotification=tn={}));var tt;(function(X){function En(it){let se=it;return se!=null&&typeof se.text=="string"&&se.range!==void 0&&(se.rangeLength===void 0||typeof se.rangeLength=="number")}X.isIncremental=En;function hn(it){let se=it;return se!=null&&typeof se.text=="string"&&se.range===void 0&&se.rangeLength===void 0}X.isFull=hn})(tt||(t.TextDocumentContentChangeEvent=tt={}));var qt;(function(X){X.method="textDocument/didChange",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolNotificationType(X.method)})(qt||(t.DidChangeTextDocumentNotification=qt={}));var Gt;(function(X){X.method="textDocument/didClose",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolNotificationType(X.method)})(Gt||(t.DidCloseTextDocumentNotification=Gt={}));var _t;(function(X){X.method="textDocument/didSave",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolNotificationType(X.method)})(_t||(t.DidSaveTextDocumentNotification=_t={}));var Dn;(function(X){X.Manual=1,X.AfterDelay=2,X.FocusOut=3})(Dn||(t.TextDocumentSaveReason=Dn={}));var nn;(function(X){X.method="textDocument/willSave",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolNotificationType(X.method)})(nn||(t.WillSaveTextDocumentNotification=nn={}));var Yt;(function(X){X.method="textDocument/willSaveWaitUntil",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(Yt||(t.WillSaveTextDocumentWaitUntilRequest=Yt={}));var mt;(function(X){X.method="workspace/didChangeWatchedFiles",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolNotificationType(X.method)})(mt||(t.DidChangeWatchedFilesNotification=mt={}));var un;(function(X){X.Created=1,X.Changed=2,X.Deleted=3})(un||(t.FileChangeType=un={}));var dn;(function(X){function En(hn){const it=hn;return r.objectLiteral(it)&&(n.URI.is(it.baseUri)||n.WorkspaceFolder.is(it.baseUri))&&r.string(it.pattern)}X.is=En})(dn||(t.RelativePattern=dn={}));var vn;(function(X){X.Create=1,X.Change=2,X.Delete=4})(vn||(t.WatchKind=vn={}));var gt;(function(X){X.method="textDocument/publishDiagnostics",X.messageDirection=e.MessageDirection.serverToClient,X.type=new e.ProtocolNotificationType(X.method)})(gt||(t.PublishDiagnosticsNotification=gt={}));var Q;(function(X){X.Invoked=1,X.TriggerCharacter=2,X.TriggerForIncompleteCompletions=3})(Q||(t.CompletionTriggerKind=Q={}));var V;(function(X){X.method="textDocument/completion",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(V||(t.CompletionRequest=V={}));var Z;(function(X){X.method="completionItem/resolve",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(Z||(t.CompletionResolveRequest=Z={}));var ie;(function(X){X.method="textDocument/hover",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(ie||(t.HoverRequest=ie={}));var A;(function(X){X.Invoked=1,X.TriggerCharacter=2,X.ContentChange=3})(A||(t.SignatureHelpTriggerKind=A={}));var y;(function(X){X.method="textDocument/signatureHelp",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(y||(t.SignatureHelpRequest=y={}));var w;(function(X){X.method="textDocument/definition",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(w||(t.DefinitionRequest=w={}));var B;(function(X){X.method="textDocument/references",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(B||(t.ReferencesRequest=B={}));var J;(function(X){X.method="textDocument/documentHighlight",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(J||(t.DocumentHighlightRequest=J={}));var re;(function(X){X.method="textDocument/documentSymbol",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(re||(t.DocumentSymbolRequest=re={}));var fe;(function(X){X.method="textDocument/codeAction",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(fe||(t.CodeActionRequest=fe={}));var Ne;(function(X){X.method="codeAction/resolve",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(Ne||(t.CodeActionResolveRequest=Ne={}));var Xe;(function(X){X.method="workspace/symbol",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(Xe||(t.WorkspaceSymbolRequest=Xe={}));var We;(function(X){X.method="workspaceSymbol/resolve",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(We||(t.WorkspaceSymbolResolveRequest=We={}));var Ye;(function(X){X.method="textDocument/codeLens",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(Ye||(t.CodeLensRequest=Ye={}));var je;(function(X){X.method="codeLens/resolve",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(je||(t.CodeLensResolveRequest=je={}));var Pt;(function(X){X.method="workspace/codeLens/refresh",X.messageDirection=e.MessageDirection.serverToClient,X.type=new e.ProtocolRequestType0(X.method)})(Pt||(t.CodeLensRefreshRequest=Pt={}));var bn;(function(X){X.method="textDocument/documentLink",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(bn||(t.DocumentLinkRequest=bn={}));var yt;(function(X){X.method="documentLink/resolve",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(yt||(t.DocumentLinkResolveRequest=yt={}));var Ut;(function(X){X.method="textDocument/formatting",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(Ut||(t.DocumentFormattingRequest=Ut={}));var St;(function(X){X.method="textDocument/rangeFormatting",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(St||(t.DocumentRangeFormattingRequest=St={}));var An;(function(X){X.method="textDocument/rangesFormatting",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(An||(t.DocumentRangesFormattingRequest=An={}));var hr;(function(X){X.method="textDocument/onTypeFormatting",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(hr||(t.DocumentOnTypeFormattingRequest=hr={}));var pr;(function(X){X.Identifier=1})(pr||(t.PrepareSupportDefaultBehavior=pr={}));var Fs;(function(X){X.method="textDocument/rename",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(Fs||(t.RenameRequest=Fs={}));var is;(function(X){X.method="textDocument/prepareRename",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(is||(t.PrepareRenameRequest=is={}));var vi;(function(X){X.method="workspace/executeCommand",X.messageDirection=e.MessageDirection.clientToServer,X.type=new e.ProtocolRequestType(X.method)})(vi||(t.ExecuteCommandRequest=vi={}));var Ii;(function(X){X.method="workspace/applyEdit",X.messageDirection=e.MessageDirection.serverToClient,X.type=new e.ProtocolRequestType("workspace/applyEdit")})(Ii||(t.ApplyWorkspaceEditRequest=Ii={}))}(e1);var xf={};Object.defineProperty(xf,"__esModule",{value:!0}),xf.createProtocolConnection=void 0;const hD=zo;function bA(t,e,n,r){return hD.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,hD.createMessageConnection)(t,e,n,r)}xf.createProtocolConnection=bA,function(t){var e=Wt&&Wt.__createBinding||(Object.create?function(s,a,l,f){f===void 0&&(f=l);var d=Object.getOwnPropertyDescriptor(a,l);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(s,f,d)}:function(s,a,l,f){f===void 0&&(f=l),s[f]=a[l]}),n=Wt&&Wt.__exportStar||function(s,a){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&e(a,s,l)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,n(zo,t),n(Vm,t),n(Lt,t),n(e1,t);var r=xf;Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return r.createProtocolConnection}});var i;(function(s){s.lspReservedErrorRangeStart=-32899,s.RequestFailed=-32803,s.ServerCancelled=-32802,s.ContentModified=-32801,s.RequestCancelled=-32800,s.lspReservedErrorRangeEnd=-32800})(i||(t.LSPErrorCodes=i={}))}(Qb),function(t){var e=Wt&&Wt.__createBinding||(Object.create?function(s,a,l,f){f===void 0&&(f=l);var d=Object.getOwnPropertyDescriptor(a,l);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(s,f,d)}:function(s,a,l,f){f===void 0&&(f=l),s[f]=a[l]}),n=Wt&&Wt.__exportStar||function(s,a){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&e(a,s,l)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const r=Kp.exports;n(Kp.exports,t),n(Qb,t);function i(s,a,l,f){return(0,r.createMessageConnection)(s,a,l,f)}t.createProtocolConnection=i}(Mn),function(t){t.exports=Mn}(ii);function DA(t,e=!1){const n=t.length;let r=0,i="",s=0,a=16,l=0,f=0,d=0,h=0,g=0;function S(v,D){let b=0,_=0;for(;b<v||!D;){let $=t.charCodeAt(r);if($>=48&&$<=57)_=_*16+$-48;else if($>=65&&$<=70)_=_*16+$-65+10;else if($>=97&&$<=102)_=_*16+$-97+10;else break;r++,b++}return b<v&&(_=-1),_}function O(v){r=v,i="",s=0,a=16,g=0}function I(){let v=r;if(t.charCodeAt(r)===48)r++;else for(r++;r<t.length&&iu(t.charCodeAt(r));)r++;if(r<t.length&&t.charCodeAt(r)===46)if(r++,r<t.length&&iu(t.charCodeAt(r)))for(r++;r<t.length&&iu(t.charCodeAt(r));)r++;else return g=3,t.substring(v,r);let D=r;if(r<t.length&&(t.charCodeAt(r)===69||t.charCodeAt(r)===101))if(r++,(r<t.length&&t.charCodeAt(r)===43||t.charCodeAt(r)===45)&&r++,r<t.length&&iu(t.charCodeAt(r))){for(r++;r<t.length&&iu(t.charCodeAt(r));)r++;D=r}else g=3;return t.substring(v,D)}function P(){let v="",D=r;for(;;){if(r>=n){v+=t.substring(D,r),g=2;break}const b=t.charCodeAt(r);if(b===34){v+=t.substring(D,r),r++;break}if(b===92){if(v+=t.substring(D,r),r++,r>=n){g=2;break}switch(t.charCodeAt(r++)){case 34:v+='"';break;case 92:v+="\\";break;case 47:v+="/";break;case 98:v+="\b";break;case 102:v+="\f";break;case 110:v+=`
`;break;case 114:v+="\r";break;case 116:v+="	";break;case 117:const $=S(4,!0);$>=0?v+=String.fromCharCode($):g=4;break;default:g=5}D=r;continue}if(b>=0&&b<=31)if(Nc(b)){v+=t.substring(D,r),g=2;break}else g=6;r++}return v}function C(){if(i="",g=0,s=r,f=l,h=d,r>=n)return s=n,a=17;let v=t.charCodeAt(r);if(zm(v)){do r++,i+=String.fromCharCode(v),v=t.charCodeAt(r);while(zm(v));return a=15}if(Nc(v))return r++,i+=String.fromCharCode(v),v===13&&t.charCodeAt(r)===10&&(r++,i+=`
`),l++,d=r,a=14;switch(v){case 123:return r++,a=1;case 125:return r++,a=2;case 91:return r++,a=3;case 93:return r++,a=4;case 58:return r++,a=6;case 44:return r++,a=5;case 34:return r++,i=P(),a=10;case 47:const D=r-1;if(t.charCodeAt(r+1)===47){for(r+=2;r<n&&!Nc(t.charCodeAt(r));)r++;return i=t.substring(D,r),a=12}if(t.charCodeAt(r+1)===42){r+=2;const b=n-1;let _=!1;for(;r<b;){const $=t.charCodeAt(r);if($===42&&t.charCodeAt(r+1)===47){r+=2,_=!0;break}r++,Nc($)&&($===13&&t.charCodeAt(r)===10&&r++,l++,d=r)}return _||(r++,g=1),i=t.substring(D,r),a=13}return i+=String.fromCharCode(v),r++,a=16;case 45:if(i+=String.fromCharCode(v),r++,r===n||!iu(t.charCodeAt(r)))return a=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=I(),a=11;default:for(;r<n&&R(v);)r++,v=t.charCodeAt(r);if(s!==r){switch(i=t.substring(s,r),i){case"true":return a=8;case"false":return a=9;case"null":return a=7}return a=16}return i+=String.fromCharCode(v),r++,a=16}}function R(v){if(zm(v)||Nc(v))return!1;switch(v){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function T(){let v;do v=C();while(v>=12&&v<=15);return v}return{setPosition:O,getPosition:()=>r,scan:e?T:C,getToken:()=>a,getTokenValue:()=>i,getTokenOffset:()=>s,getTokenLength:()=>r-s,getTokenStartLine:()=>f,getTokenStartCharacter:()=>s-h,getTokenError:()=>g}}function zm(t){return t===32||t===9}function Nc(t){return t===10||t===13}function iu(t){return t>=48&&t<=57}var pD;(function(t){t[t.lineFeed=10]="lineFeed",t[t.carriageReturn=13]="carriageReturn",t[t.space=32]="space",t[t._0=48]="_0",t[t._1=49]="_1",t[t._2=50]="_2",t[t._3=51]="_3",t[t._4=52]="_4",t[t._5=53]="_5",t[t._6=54]="_6",t[t._7=55]="_7",t[t._8=56]="_8",t[t._9=57]="_9",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.asterisk=42]="asterisk",t[t.backslash=92]="backslash",t[t.closeBrace=125]="closeBrace",t[t.closeBracket=93]="closeBracket",t[t.colon=58]="colon",t[t.comma=44]="comma",t[t.dot=46]="dot",t[t.doubleQuote=34]="doubleQuote",t[t.minus=45]="minus",t[t.openBrace=123]="openBrace",t[t.openBracket=91]="openBracket",t[t.plus=43]="plus",t[t.slash=47]="slash",t[t.formFeed=12]="formFeed",t[t.tab=9]="tab"})(pD||(pD={})),new Array(20).fill(0).map((t,e)=>" ".repeat(e));const su=200;new Array(su).fill(0).map((t,e)=>`
`+" ".repeat(e)),new Array(su).fill(0).map((t,e)=>"\r"+" ".repeat(e)),new Array(su).fill(0).map((t,e)=>`\r
`+" ".repeat(e)),new Array(su).fill(0).map((t,e)=>`
`+"	".repeat(e)),new Array(su).fill(0).map((t,e)=>"\r"+"	".repeat(e)),new Array(su).fill(0).map((t,e)=>`\r
`+"	".repeat(e));var Bf;(function(t){t.DEFAULT={allowTrailingComma:!1}})(Bf||(Bf={}));function wA(t,e=[],n=Bf.DEFAULT){let r=null,i=[];const s=[];function a(f){Array.isArray(i)?i.push(f):r!==null&&(i[r]=f)}return _A(t,{onObjectBegin:()=>{const f={};a(f),s.push(i),i=f,r=null},onObjectProperty:f=>{r=f},onObjectEnd:()=>{i=s.pop()},onArrayBegin:()=>{const f=[];a(f),s.push(i),i=f,r=null},onArrayEnd:()=>{i=s.pop()},onLiteralValue:a,onError:(f,d,h)=>{e.push({error:f,offset:d,length:h})}},n),i[0]}function Ym(t){switch(t.type){case"array":return t.children.map(Ym);case"object":const e=Object.create(null);for(let n of t.children){const r=n.children[1];r&&(e[n.children[0].value]=Ym(r))}return e;case"null":case"string":case"number":case"boolean":return t.value;default:return}}function _A(t,e,n=Bf.DEFAULT){const r=DA(t,!1),i=[];let s=0;function a(ne){return ne?()=>s===0&&ne(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function l(ne){return ne?ge=>s===0&&ne(ge,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function f(ne){return ne?ge=>s===0&&ne(ge,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>i.slice()):()=>!0}function d(ne){return ne?()=>{s>0?s++:ne(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>i.slice())===!1&&(s=1)}:()=>!0}function h(ne){return ne?()=>{s>0&&s--,s===0&&ne(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:()=>!0}const g=d(e.onObjectBegin),S=f(e.onObjectProperty),O=h(e.onObjectEnd),I=d(e.onArrayBegin),P=h(e.onArrayEnd),C=f(e.onLiteralValue),R=l(e.onSeparator),T=a(e.onComment),v=l(e.onError),D=n&&n.disallowComments,b=n&&n.allowTrailingComma;function _(){for(;;){const ne=r.scan();switch(r.getTokenError()){case 4:$(14);break;case 5:$(15);break;case 3:$(13);break;case 1:D||$(11);break;case 2:$(12);break;case 6:$(16);break}switch(ne){case 12:case 13:D?$(10):T();break;case 16:$(1);break;case 15:case 14:break;default:return ne}}}function $(ne,ge=[],pe=[]){if(v(ne),ge.length+pe.length>0){let $e=r.getToken();for(;$e!==17;){if(ge.indexOf($e)!==-1){_();break}else if(pe.indexOf($e)!==-1)break;$e=_()}}}function q(ne){const ge=r.getTokenValue();return ne?C(ge):(S(ge),i.push(ge)),_(),!0}function F(){switch(r.getToken()){case 11:const ne=r.getTokenValue();let ge=Number(ne);isNaN(ge)&&($(2),ge=0),C(ge);break;case 7:C(null);break;case 8:C(!0);break;case 9:C(!1);break;default:return!1}return _(),!0}function L(){return r.getToken()!==10?($(3,[],[2,5]),!1):(q(!1),r.getToken()===6?(R(":"),_(),H()||$(4,[],[2,5])):$(5,[],[2,5]),i.pop(),!0)}function M(){g(),_();let ne=!1;for(;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(ne||$(4,[],[]),R(","),_(),r.getToken()===2&&b)break}else ne&&$(6,[],[]);L()||$(4,[],[2,5]),ne=!0}return O(),r.getToken()!==2?$(7,[2],[]):_(),!0}function Y(){I(),_();let ne=!0,ge=!1;for(;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(ge||$(4,[],[]),R(","),_(),r.getToken()===4&&b)break}else ge&&$(6,[],[]);ne?(i.push(0),ne=!1):i[i.length-1]++,H()||$(4,[],[4,5]),ge=!0}return P(),ne||i.pop(),r.getToken()!==4?$(8,[4],[]):_(),!0}function H(){switch(r.getToken()){case 3:return Y();case 1:return M();case 10:return q(!0);default:return F()}}return _(),r.getToken()===17?n.allowEmptyContent?!0:($(4,[],[]),!1):H()?(r.getToken()!==17&&$(9,[],[]),!0):($(4,[],[]),!1)}var mD;(function(t){t[t.None=0]="None",t[t.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=2]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",t[t.InvalidUnicode=4]="InvalidUnicode",t[t.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",t[t.InvalidCharacter=6]="InvalidCharacter"})(mD||(mD={}));var gD;(function(t){t[t.OpenBraceToken=1]="OpenBraceToken",t[t.CloseBraceToken=2]="CloseBraceToken",t[t.OpenBracketToken=3]="OpenBracketToken",t[t.CloseBracketToken=4]="CloseBracketToken",t[t.CommaToken=5]="CommaToken",t[t.ColonToken=6]="ColonToken",t[t.NullKeyword=7]="NullKeyword",t[t.TrueKeyword=8]="TrueKeyword",t[t.FalseKeyword=9]="FalseKeyword",t[t.StringLiteral=10]="StringLiteral",t[t.NumericLiteral=11]="NumericLiteral",t[t.LineCommentTrivia=12]="LineCommentTrivia",t[t.BlockCommentTrivia=13]="BlockCommentTrivia",t[t.LineBreakTrivia=14]="LineBreakTrivia",t[t.Trivia=15]="Trivia",t[t.Unknown=16]="Unknown",t[t.EOF=17]="EOF"})(gD||(gD={}));const $A=wA,EA=Ym;var yD;(function(t){t[t.InvalidSymbol=1]="InvalidSymbol",t[t.InvalidNumberFormat=2]="InvalidNumberFormat",t[t.PropertyNameExpected=3]="PropertyNameExpected",t[t.ValueExpected=4]="ValueExpected",t[t.ColonExpected=5]="ColonExpected",t[t.CommaExpected=6]="CommaExpected",t[t.CloseBraceExpected=7]="CloseBraceExpected",t[t.CloseBracketExpected=8]="CloseBracketExpected",t[t.EndOfFileExpected=9]="EndOfFileExpected",t[t.InvalidCommentToken=10]="InvalidCommentToken",t[t.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=12]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",t[t.InvalidUnicode=14]="InvalidUnicode",t[t.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",t[t.InvalidCharacter=16]="InvalidCharacter"})(yD||(yD={}));function SA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vD={exports:{}},Ln=vD.exports={},zi,Yi;function Gm(){throw new Error("setTimeout has not been defined")}function Jm(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?zi=setTimeout:zi=Gm}catch{zi=Gm}try{typeof clearTimeout=="function"?Yi=clearTimeout:Yi=Jm}catch{Yi=Jm}})();function bD(t){if(zi===setTimeout)return setTimeout(t,0);if((zi===Gm||!zi)&&setTimeout)return zi=setTimeout,setTimeout(t,0);try{return zi(t,0)}catch{try{return zi.call(null,t,0)}catch{return zi.call(this,t,0)}}}function TA(t){if(Yi===clearTimeout)return clearTimeout(t);if((Yi===Jm||!Yi)&&clearTimeout)return Yi=clearTimeout,clearTimeout(t);try{return Yi(t)}catch{try{return Yi.call(null,t)}catch{return Yi.call(this,t)}}}var _s=[],ou=!1,Qo,qf=-1;function kA(){!ou||!Qo||(ou=!1,Qo.length?_s=Qo.concat(_s):qf=-1,_s.length&&DD())}function DD(){if(!ou){var t=bD(kA);ou=!0;for(var e=_s.length;e;){for(Qo=_s,_s=[];++qf<e;)Qo&&Qo[qf].run();qf=-1,e=_s.length}Qo=null,ou=!1,TA(t)}}Ln.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];_s.push(new wD(t,e)),_s.length===1&&!ou&&bD(DD)};function wD(t,e){this.fun=t,this.array=e}wD.prototype.run=function(){this.fun.apply(null,this.array)},Ln.title="browser",Ln.browser=!0,Ln.env={},Ln.argv=[],Ln.version="",Ln.versions={};function $s(){}Ln.on=$s,Ln.addListener=$s,Ln.once=$s,Ln.off=$s,Ln.removeListener=$s,Ln.removeAllListeners=$s,Ln.emit=$s,Ln.prependListener=$s,Ln.prependOnceListener=$s,Ln.listeners=function(t){return[]},Ln.binding=function(t){throw new Error("process.binding is not supported")},Ln.cwd=function(){return"/"},Ln.chdir=function(t){throw new Error("process.chdir is not supported")},Ln.umask=function(){return 0};var AA=vD.exports;const Xo=SA(AA);var _D;(()=>{var t={470:i=>{function s(f){if(typeof f!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(f))}function a(f,d){for(var h,g="",S=0,O=-1,I=0,P=0;P<=f.length;++P){if(P<f.length)h=f.charCodeAt(P);else{if(h===47)break;h=47}if(h===47){if(!(O===P-1||I===1))if(O!==P-1&&I===2){if(g.length<2||S!==2||g.charCodeAt(g.length-1)!==46||g.charCodeAt(g.length-2)!==46){if(g.length>2){var C=g.lastIndexOf("/");if(C!==g.length-1){C===-1?(g="",S=0):S=(g=g.slice(0,C)).length-1-g.lastIndexOf("/"),O=P,I=0;continue}}else if(g.length===2||g.length===1){g="",S=0,O=P,I=0;continue}}d&&(g.length>0?g+="/..":g="..",S=2)}else g.length>0?g+="/"+f.slice(O+1,P):g=f.slice(O+1,P),S=P-O-1;O=P,I=0}else h===46&&I!==-1?++I:I=-1}return g}var l={resolve:function(){for(var f,d="",h=!1,g=arguments.length-1;g>=-1&&!h;g--){var S;g>=0?S=arguments[g]:(f===void 0&&(f=Xo.cwd()),S=f),s(S),S.length!==0&&(d=S+"/"+d,h=S.charCodeAt(0)===47)}return d=a(d,!h),h?d.length>0?"/"+d:"/":d.length>0?d:"."},normalize:function(f){if(s(f),f.length===0)return".";var d=f.charCodeAt(0)===47,h=f.charCodeAt(f.length-1)===47;return(f=a(f,!d)).length!==0||d||(f="."),f.length>0&&h&&(f+="/"),d?"/"+f:f},isAbsolute:function(f){return s(f),f.length>0&&f.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var f,d=0;d<arguments.length;++d){var h=arguments[d];s(h),h.length>0&&(f===void 0?f=h:f+="/"+h)}return f===void 0?".":l.normalize(f)},relative:function(f,d){if(s(f),s(d),f===d||(f=l.resolve(f))===(d=l.resolve(d)))return"";for(var h=1;h<f.length&&f.charCodeAt(h)===47;++h);for(var g=f.length,S=g-h,O=1;O<d.length&&d.charCodeAt(O)===47;++O);for(var I=d.length-O,P=S<I?S:I,C=-1,R=0;R<=P;++R){if(R===P){if(I>P){if(d.charCodeAt(O+R)===47)return d.slice(O+R+1);if(R===0)return d.slice(O+R)}else S>P&&(f.charCodeAt(h+R)===47?C=R:R===0&&(C=0));break}var T=f.charCodeAt(h+R);if(T!==d.charCodeAt(O+R))break;T===47&&(C=R)}var v="";for(R=h+C+1;R<=g;++R)R!==g&&f.charCodeAt(R)!==47||(v.length===0?v+="..":v+="/..");return v.length>0?v+d.slice(O+C):(O+=C,d.charCodeAt(O)===47&&++O,d.slice(O))},_makeLong:function(f){return f},dirname:function(f){if(s(f),f.length===0)return".";for(var d=f.charCodeAt(0),h=d===47,g=-1,S=!0,O=f.length-1;O>=1;--O)if((d=f.charCodeAt(O))===47){if(!S){g=O;break}}else S=!1;return g===-1?h?"/":".":h&&g===1?"//":f.slice(0,g)},basename:function(f,d){if(d!==void 0&&typeof d!="string")throw new TypeError('"ext" argument must be a string');s(f);var h,g=0,S=-1,O=!0;if(d!==void 0&&d.length>0&&d.length<=f.length){if(d.length===f.length&&d===f)return"";var I=d.length-1,P=-1;for(h=f.length-1;h>=0;--h){var C=f.charCodeAt(h);if(C===47){if(!O){g=h+1;break}}else P===-1&&(O=!1,P=h+1),I>=0&&(C===d.charCodeAt(I)?--I==-1&&(S=h):(I=-1,S=P))}return g===S?S=P:S===-1&&(S=f.length),f.slice(g,S)}for(h=f.length-1;h>=0;--h)if(f.charCodeAt(h)===47){if(!O){g=h+1;break}}else S===-1&&(O=!1,S=h+1);return S===-1?"":f.slice(g,S)},extname:function(f){s(f);for(var d=-1,h=0,g=-1,S=!0,O=0,I=f.length-1;I>=0;--I){var P=f.charCodeAt(I);if(P!==47)g===-1&&(S=!1,g=I+1),P===46?d===-1?d=I:O!==1&&(O=1):d!==-1&&(O=-1);else if(!S){h=I+1;break}}return d===-1||g===-1||O===0||O===1&&d===g-1&&d===h+1?"":f.slice(d,g)},format:function(f){if(f===null||typeof f!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof f);return function(d,h){var g=h.dir||h.root,S=h.base||(h.name||"")+(h.ext||"");return g?g===h.root?g+S:g+"/"+S:S}(0,f)},parse:function(f){s(f);var d={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return d;var h,g=f.charCodeAt(0),S=g===47;S?(d.root="/",h=1):h=0;for(var O=-1,I=0,P=-1,C=!0,R=f.length-1,T=0;R>=h;--R)if((g=f.charCodeAt(R))!==47)P===-1&&(C=!1,P=R+1),g===46?O===-1?O=R:T!==1&&(T=1):O!==-1&&(T=-1);else if(!C){I=R+1;break}return O===-1||P===-1||T===0||T===1&&O===P-1&&O===I+1?P!==-1&&(d.base=d.name=I===0&&S?f.slice(1,P):f.slice(I,P)):(I===0&&S?(d.name=f.slice(1,O),d.base=f.slice(1,P)):(d.name=f.slice(I,O),d.base=f.slice(I,P)),d.ext=f.slice(O,P)),I>0?d.dir=f.slice(0,I-1):S&&(d.dir="/"),d},sep:"/",delimiter:":",win32:null,posix:null};l.posix=l,i.exports=l}},e={};function n(i){var s=e[i];if(s!==void 0)return s.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}n.d=(i,s)=>{for(var a in s)n.o(s,a)&&!n.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:s[a]})},n.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{let i;n.r(r),n.d(r,{URI:()=>S,Utils:()=>L}),typeof Xo=="object"?i=Xo.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);const s=/^\w[\w\d+.-]*$/,a=/^\//,l=/^\/\//;function f(M,Y){if(!M.scheme&&Y)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${M.authority}", path: "${M.path}", query: "${M.query}", fragment: "${M.fragment}"}`);if(M.scheme&&!s.test(M.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(M.path){if(M.authority){if(!a.test(M.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(M.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const d="",h="/",g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class S{constructor(Y,H,ne,ge,pe,$e=!1){ni(this,"scheme");ni(this,"authority");ni(this,"path");ni(this,"query");ni(this,"fragment");typeof Y=="object"?(this.scheme=Y.scheme||d,this.authority=Y.authority||d,this.path=Y.path||d,this.query=Y.query||d,this.fragment=Y.fragment||d):(this.scheme=function(Ve,lt){return Ve||lt?Ve:"file"}(Y,$e),this.authority=H||d,this.path=function(Ve,lt){switch(Ve){case"https":case"http":case"file":lt?lt[0]!==h&&(lt=h+lt):lt=h}return lt}(this.scheme,ne||d),this.query=ge||d,this.fragment=pe||d,f(this,$e))}static isUri(Y){return Y instanceof S||!!Y&&typeof Y.authority=="string"&&typeof Y.fragment=="string"&&typeof Y.path=="string"&&typeof Y.query=="string"&&typeof Y.scheme=="string"&&typeof Y.fsPath=="string"&&typeof Y.with=="function"&&typeof Y.toString=="function"}get fsPath(){return T(this,!1)}with(Y){if(!Y)return this;let{scheme:H,authority:ne,path:ge,query:pe,fragment:$e}=Y;return H===void 0?H=this.scheme:H===null&&(H=d),ne===void 0?ne=this.authority:ne===null&&(ne=d),ge===void 0?ge=this.path:ge===null&&(ge=d),pe===void 0?pe=this.query:pe===null&&(pe=d),$e===void 0?$e=this.fragment:$e===null&&($e=d),H===this.scheme&&ne===this.authority&&ge===this.path&&pe===this.query&&$e===this.fragment?this:new I(H,ne,ge,pe,$e)}static parse(Y,H=!1){const ne=g.exec(Y);return ne?new I(ne[2]||d,_(ne[4]||d),_(ne[5]||d),_(ne[7]||d),_(ne[9]||d),H):new I(d,d,d,d,d)}static file(Y){let H=d;if(i&&(Y=Y.replace(/\\/g,h)),Y[0]===h&&Y[1]===h){const ne=Y.indexOf(h,2);ne===-1?(H=Y.substring(2),Y=h):(H=Y.substring(2,ne),Y=Y.substring(ne)||h)}return new I("file",H,Y,d,d)}static from(Y){const H=new I(Y.scheme,Y.authority,Y.path,Y.query,Y.fragment);return f(H,!0),H}toString(Y=!1){return v(this,Y)}toJSON(){return this}static revive(Y){if(Y){if(Y instanceof S)return Y;{const H=new I(Y);return H._formatted=Y.external,H._fsPath=Y._sep===O?Y.fsPath:null,H}}return Y}}const O=i?1:void 0;class I extends S{constructor(){super(...arguments);ni(this,"_formatted",null);ni(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=T(this,!1)),this._fsPath}toString(H=!1){return H?v(this,!0):(this._formatted||(this._formatted=v(this,!1)),this._formatted)}toJSON(){const H={$mid:1};return this._fsPath&&(H.fsPath=this._fsPath,H._sep=O),this._formatted&&(H.external=this._formatted),this.path&&(H.path=this.path),this.scheme&&(H.scheme=this.scheme),this.authority&&(H.authority=this.authority),this.query&&(H.query=this.query),this.fragment&&(H.fragment=this.fragment),H}}const P={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function C(M,Y,H){let ne,ge=-1;for(let pe=0;pe<M.length;pe++){const $e=M.charCodeAt(pe);if($e>=97&&$e<=122||$e>=65&&$e<=90||$e>=48&&$e<=57||$e===45||$e===46||$e===95||$e===126||Y&&$e===47||H&&$e===91||H&&$e===93||H&&$e===58)ge!==-1&&(ne+=encodeURIComponent(M.substring(ge,pe)),ge=-1),ne!==void 0&&(ne+=M.charAt(pe));else{ne===void 0&&(ne=M.substr(0,pe));const Ve=P[$e];Ve!==void 0?(ge!==-1&&(ne+=encodeURIComponent(M.substring(ge,pe)),ge=-1),ne+=Ve):ge===-1&&(ge=pe)}}return ge!==-1&&(ne+=encodeURIComponent(M.substring(ge))),ne!==void 0?ne:M}function R(M){let Y;for(let H=0;H<M.length;H++){const ne=M.charCodeAt(H);ne===35||ne===63?(Y===void 0&&(Y=M.substr(0,H)),Y+=P[ne]):Y!==void 0&&(Y+=M[H])}return Y!==void 0?Y:M}function T(M,Y){let H;return H=M.authority&&M.path.length>1&&M.scheme==="file"?`//${M.authority}${M.path}`:M.path.charCodeAt(0)===47&&(M.path.charCodeAt(1)>=65&&M.path.charCodeAt(1)<=90||M.path.charCodeAt(1)>=97&&M.path.charCodeAt(1)<=122)&&M.path.charCodeAt(2)===58?Y?M.path.substr(1):M.path[1].toLowerCase()+M.path.substr(2):M.path,i&&(H=H.replace(/\//g,"\\")),H}function v(M,Y){const H=Y?R:C;let ne="",{scheme:ge,authority:pe,path:$e,query:Ve,fragment:lt}=M;if(ge&&(ne+=ge,ne+=":"),(pe||ge==="file")&&(ne+=h,ne+=h),pe){let Se=pe.indexOf("@");if(Se!==-1){const K=pe.substr(0,Se);pe=pe.substr(Se+1),Se=K.lastIndexOf(":"),Se===-1?ne+=H(K,!1,!1):(ne+=H(K.substr(0,Se),!1,!1),ne+=":",ne+=H(K.substr(Se+1),!1,!0)),ne+="@"}pe=pe.toLowerCase(),Se=pe.lastIndexOf(":"),Se===-1?ne+=H(pe,!1,!0):(ne+=H(pe.substr(0,Se),!1,!0),ne+=pe.substr(Se))}if($e){if($e.length>=3&&$e.charCodeAt(0)===47&&$e.charCodeAt(2)===58){const Se=$e.charCodeAt(1);Se>=65&&Se<=90&&($e=`/${String.fromCharCode(Se+32)}:${$e.substr(3)}`)}else if($e.length>=2&&$e.charCodeAt(1)===58){const Se=$e.charCodeAt(0);Se>=65&&Se<=90&&($e=`${String.fromCharCode(Se+32)}:${$e.substr(2)}`)}ne+=H($e,!0,!1)}return Ve&&(ne+="?",ne+=H(Ve,!1,!1)),lt&&(ne+="#",ne+=Y?lt:C(lt,!1,!1)),ne}function D(M){try{return decodeURIComponent(M)}catch{return M.length>3?M.substr(0,3)+D(M.substr(3)):M}}const b=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function _(M){return M.match(b)?M.replace(b,Y=>D(Y)):M}var $=n(470);const q=$.posix||$,F="/";var L;(function(M){M.joinPath=function(Y,...H){return Y.with({path:q.join(Y.path,...H)})},M.resolvePath=function(Y,...H){let ne=Y.path,ge=!1;ne[0]!==F&&(ne=F+ne,ge=!0);let pe=q.resolve(ne,...H);return ge&&pe[0]===F&&!Y.authority&&(pe=pe.substring(1)),Y.with({path:pe})},M.dirname=function(Y){if(Y.path.length===0||Y.path===F)return Y;let H=q.dirname(Y.path);return H.length===1&&H.charCodeAt(0)===46&&(H=""),Y.with({path:H})},M.basename=function(Y){return q.basename(Y.path)},M.extname=function(Y){return q.extname(Y.path)}})(L||(L={}))})(),_D=r})();const{URI:Wr,Utils:T9}=_D;function $D(t,e){if(t.length<e.length)return!1;for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!1;return!0}function Qm(t,e){var n=t.length-e.length;return n>0?t.lastIndexOf(e)===n:n===0?t===e:!1}function CA(t){return $D(t,"(?i)")?new RegExp(t.substring(4),"i"):new RegExp(t)}function au(t){return typeof t=="boolean"}class Fc{constructor(e,n,r,i){this._uri=e,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){for(const r of e)if(Fc.isIncremental(r)){const i=TD(r.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+r.text+this._content.substring(a,this._content.length);const l=Math.max(i.start.line,0),f=Math.max(i.end.line,0);let d=this._lineOffsets;const h=ED(r.text,!1,s);if(f-l===h.length)for(let S=0,O=h.length;S<O;S++)d[S+l+1]=h[S];else h.length<1e4?d.splice(l+1,f-l,...h):this._lineOffsets=d=d.slice(0,l+1).concat(h,d.slice(f+1));const g=r.text.length-(a-s);if(g!==0)for(let S=l+1+h.length,O=d.length;S<O;S++)d[S]=d[S]+g}else if(Fc.isFull(r))this._content=r.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=n}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=ED(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const n=this.getLineOffsets();let r=0,i=n.length;if(i===0)return{line:0,character:e};for(;r<i;){const a=Math.floor((r+i)/2);n[a]>e?i=a:r=a+1}const s=r-1;return e=this.ensureBeforeEOL(e,n[s]),{line:s,character:e-n[s]}}offsetAt(e){const n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;const r=n[e.line];if(e.character<=0)return r;const i=e.line+1<n.length?n[e.line+1]:this._content.length,s=Math.min(r+e.character,i);return this.ensureBeforeEOL(s,r)}ensureBeforeEOL(e,n){for(;e>n&&SD(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){const n=e;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}static isFull(e){const n=e;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}}var Wf;(function(t){function e(i,s,a,l){return new Fc(i,s,a,l)}t.create=e;function n(i,s,a){if(i instanceof Fc)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}t.update=n;function r(i,s){const a=i.getText(),l=Xm(s.map(OA),(h,g)=>{const S=h.range.start.line-g.range.start.line;return S===0?h.range.start.character-g.range.start.character:S});let f=0;const d=[];for(const h of l){const g=i.offsetAt(h.range.start);if(g<f)throw new Error("Overlapping edit");g>f&&d.push(a.substring(f,g)),h.newText.length&&d.push(h.newText),f=i.offsetAt(h.range.end)}return d.push(a.substr(f)),d.join("")}t.applyEdits=r})(Wf||(Wf={}));function Xm(t,e){if(t.length<=1)return t;const n=t.length/2|0,r=t.slice(0,n),i=t.slice(n);Xm(r,e),Xm(i,e);let s=0,a=0,l=0;for(;s<r.length&&a<i.length;)e(r[s],i[a])<=0?t[l++]=r[s++]:t[l++]=i[a++];for(;s<r.length;)t[l++]=r[s++];for(;a<i.length;)t[l++]=i[a++];return t}function ED(t,e,n=0){const r=e?[n]:[];for(let i=0;i<t.length;i++){const s=t.charCodeAt(i);SD(s)&&(s===13&&i+1<t.length&&t.charCodeAt(i+1)===10&&i++,r.push(n+i+1))}return r}function SD(t){return t===13||t===10}function TD(t){const e=t.start,n=t.end;return e.line>n.line||e.line===n.line&&e.character>n.character?{start:n,end:e}:t}function OA(t){const e=TD(t.range);return e!==t.range?{newText:t.newText,range:e}:t}var Or;(function(t){t[t.Undefined=0]="Undefined",t[t.EnumValueMismatch=1]="EnumValueMismatch",t[t.Deprecated=2]="Deprecated",t[t.UnexpectedEndOfComment=257]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=258]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=259]="UnexpectedEndOfNumber",t[t.InvalidUnicode=260]="InvalidUnicode",t[t.InvalidEscapeCharacter=261]="InvalidEscapeCharacter",t[t.InvalidCharacter=262]="InvalidCharacter",t[t.PropertyExpected=513]="PropertyExpected",t[t.CommaExpected=514]="CommaExpected",t[t.ColonExpected=515]="ColonExpected",t[t.ValueExpected=516]="ValueExpected",t[t.CommaOrCloseBacketExpected=517]="CommaOrCloseBacketExpected",t[t.CommaOrCloseBraceExpected=518]="CommaOrCloseBraceExpected",t[t.TrailingComma=519]="TrailingComma",t[t.DuplicateKey=520]="DuplicateKey",t[t.CommentNotPermitted=521]="CommentNotPermitted",t[t.SchemaResolveError=768]="SchemaResolveError"})(Or||(Or={}));var kD;(function(t){t.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[Vi.Markdown,Vi.PlainText],commitCharactersSupport:!0}}}}})(kD||(kD={}));var Es={},Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});var Zm;function eg(){if(Zm===void 0)throw new Error("No runtime abstraction layer installed");return Zm}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Zm=n}t.install=e})(eg||(eg={})),Uf.default=eg;var tg={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.loadMessageBundle=t.localize=t.format=t.setPseudo=t.isPseudo=t.isDefined=t.BundleFormat=t.MessageFormat=void 0;var e=Uf;(function(d){d.file="file",d.bundle="bundle",d.both="both"})(t.MessageFormat||(t.MessageFormat={})),function(d){d.standalone="standalone",d.languagePack="languagePack"}(t.BundleFormat||(t.BundleFormat={}));var n;(function(d){function h(g){var S=g;return S&&r(S.key)&&r(S.comment)}d.is=h})(n||(n={}));function r(d){return typeof d<"u"}t.isDefined=r,t.isPseudo=!1;function i(d){t.isPseudo=d}t.setPseudo=i;function s(d,h){var g;return t.isPseudo&&(d="\uFF3B"+d.replace(/[aouei]/g,"$&$&")+"\uFF3D"),h.length===0?g=d:g=d.replace(/\{(\d+)\}/g,function(S,O){var I=O[0],P=h[I],C=S;return typeof P=="string"?C=P:(typeof P=="number"||typeof P=="boolean"||P===void 0||P===null)&&(C=String(P)),C}),g}t.format=s;function a(d,h){for(var g=[],S=2;S<arguments.length;S++)g[S-2]=arguments[S];return s(h,g)}t.localize=a;function l(d){return(0,e.default)().loadMessageBundle(d)}t.loadMessageBundle=l;function f(d){return(0,e.default)().config(d)}t.config=f})(tg),function(t){var e=Wt&&Wt.__spreadArray||function(l,f,d){if(d||arguments.length===2)for(var h=0,g=f.length,S;h<g;h++)(S||!(h in f))&&(S||(S=Array.prototype.slice.call(f,0,h)),S[h]=f[h]);return l.concat(S||Array.prototype.slice.call(f))};Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.loadMessageBundle=t.BundleFormat=t.MessageFormat=void 0;var n=Uf,r=tg,i=tg;Object.defineProperty(t,"MessageFormat",{enumerable:!0,get:function(){return i.MessageFormat}}),Object.defineProperty(t,"BundleFormat",{enumerable:!0,get:function(){return i.BundleFormat}});function s(l){return function(f,d){for(var h=[],g=2;g<arguments.length;g++)h[g-2]=arguments[g];if(typeof f=="number")throw new Error("Browser implementation does currently not support externalized strings.");return r.localize.apply(void 0,e([f,d],h,!1))}}t.loadMessageBundle=s;function a(l){var f;return(0,r.setPseudo)(((f=l==null?void 0:l.locale)===null||f===void 0?void 0:f.toLowerCase())==="pseudo"),s}t.config=a,n.default.install(Object.freeze({loadMessageBundle:s,config:a}))}(Es);var Zo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rc=Es.loadMessageBundle();Rc("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),Rc("dateTimeFormatWarning","String is not a RFC3339 date-time."),Rc("dateFormatWarning","String is not a RFC3339 date."),Rc("timeFormatWarning","String is not a RFC3339 time."),Rc("emailFormatWarning","String is not an e-mail address.");var ea=function(){function t(e,n,r){r===void 0&&(r=0),this.offset=n,this.length=r,this.parent=e}return Object.defineProperty(t.prototype,"children",{get:function(){return[]},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")},t}();(function(t){Zo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.type="null",i.value=null,i}return e})(ea),function(t){Zo(e,t);function e(n,r,i){var s=t.call(this,n,i)||this;return s.type="boolean",s.value=r,s}return e}(ea),function(t){Zo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.type="array",i.items=[],i}return Object.defineProperty(e.prototype,"children",{get:function(){return this.items},enumerable:!1,configurable:!0}),e}(ea),function(t){Zo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.type="number",i.isInteger=!0,i.value=Number.NaN,i}return e}(ea),function(t){Zo(e,t);function e(n,r,i){var s=t.call(this,n,r,i)||this;return s.type="string",s.value="",s}return e}(ea),function(t){Zo(e,t);function e(n,r,i){var s=t.call(this,n,r)||this;return s.type="property",s.colonOffset=-1,s.keyNode=i,s}return Object.defineProperty(e.prototype,"children",{get:function(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]},enumerable:!1,configurable:!0}),e}(ea),function(t){Zo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.type="object",i.properties=[],i}return Object.defineProperty(e.prototype,"children",{get:function(){return this.properties},enumerable:!1,configurable:!0}),e}(ea);function PA(t){return au(t)?t?{}:{not:{}}:t}var AD;(function(t){t[t.Key=0]="Key",t[t.Enum=1]="Enum"})(AD||(AD={})),function(){function t(){}return Object.defineProperty(t.prototype,"schemas",{get:function(){return[]},enumerable:!1,configurable:!0}),t.prototype.add=function(e){},t.prototype.merge=function(e){},t.prototype.include=function(e){return!0},t.prototype.newSub=function(){return this},t.instance=new t,t}();function Vf(t){return EA(t)}function NA(t,e){if(typeof t!="string")throw new TypeError("Expected a string");for(var n=String(t),r="",i=e?!!e.extended:!1,s=e?!!e.globstar:!1,a=!1,l=e&&typeof e.flags=="string"?e.flags:"",f,d=0,h=n.length;d<h;d++)switch(f=n[d],f){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":r+="\\"+f;break;case"?":if(i){r+=".";break}case"[":case"]":if(i){r+=f;break}case"{":if(i){a=!0,r+="(";break}case"}":if(i){a=!1,r+=")";break}case",":if(a){r+="|";break}r+="\\"+f;break;case"*":for(var g=n[d-1],S=1;n[d+1]==="*";)S++,d++;var O=n[d+1];if(!s)r+=".*";else{var I=S>1&&(g==="/"||g===void 0||g==="{"||g===",")&&(O==="/"||O===void 0||O===","||O==="}");I?(O==="/"?d++:g==="/"&&r.endsWith("\\/")&&(r=r.substr(0,r.length-2)),r+="((?:[^/]*(?:/|$))*)"):r+="([^/]*)"}break;default:r+=f}return(!l||!~l.indexOf("g"))&&(r="^"+r+"$"),new RegExp(r,l)}var uo=Es.loadMessageBundle(),FA="!",RA="/",IA=function(){function t(e,n){this.globWrappers=[];try{for(var r=0,i=e;r<i.length;r++){var s=i[r],a=s[0]!==FA;a||(s=s.substring(1)),s.length>0&&(s[0]===RA&&(s=s.substring(1)),this.globWrappers.push({regexp:NA("**/"+s,{extended:!0,globstar:!0}),include:a}))}this.uris=n}catch{this.globWrappers.length=0,this.uris=[]}}return t.prototype.matchesPattern=function(e){for(var n=!1,r=0,i=this.globWrappers;r<i.length;r++){var s=i[r],a=s.regexp,l=s.include;a.test(e)&&(n=l)}return n},t.prototype.getURIs=function(){return this.uris},t}(),MA=function(){function t(e,n,r){this.service=e,this.url=n,this.dependencies={},r&&(this.unresolvedSchema=this.service.promise.resolve(new Ti(r)))}return t.prototype.getUnresolvedSchema=function(){return this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.url)),this.unresolvedSchema},t.prototype.getResolvedSchema=function(){var e=this;return this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then(function(n){return e.service.resolveSchemaContent(n,e.url,e.dependencies)})),this.resolvedSchema},t.prototype.clearSchema=function(){this.resolvedSchema=void 0,this.unresolvedSchema=void 0,this.dependencies={}},t}(),Ti=function(){function t(e,n){n===void 0&&(n=[]),this.schema=e,this.errors=n}return t}(),Ic=function(){function t(e,n){n===void 0&&(n=[]),this.schema=e,this.errors=n}return t.prototype.getSection=function(e){var n=this.getSectionRecursive(e,this.schema);if(n)return PA(n)},t.prototype.getSectionRecursive=function(e,n){if(!n||typeof n=="boolean"||e.length===0)return n;var r=e.shift();if(n.properties&&typeof n.properties[r])return this.getSectionRecursive(e,n.properties[r]);if(n.patternProperties)for(var i=0,s=Object.keys(n.patternProperties);i<s.length;i++){var a=s[i],l=CA(a);if(l.test(r))return this.getSectionRecursive(e,n.patternProperties[a])}else{if(typeof n.additionalProperties=="object")return this.getSectionRecursive(e,n.additionalProperties);if(r.match("[0-9]+")){if(Array.isArray(n.items)){var f=parseInt(r,10);if(!isNaN(f)&&n.items[f])return this.getSectionRecursive(e,n.items[f])}else if(n.items)return this.getSectionRecursive(e,n.items)}}},t}(),LA=function(){function t(e,n,r){this.contextService=n,this.requestService=e,this.promiseConstructor=r||Promise,this.callOnDispose=[],this.contributionSchemas={},this.contributionAssociations=[],this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={}}return t.prototype.getRegisteredSchemaIds=function(e){return Object.keys(this.registeredSchemasIds).filter(function(n){var r=Wr.parse(n).scheme;return r!=="schemaservice"&&(!e||e(r))})},Object.defineProperty(t.prototype,"promise",{get:function(){return this.promiseConstructor},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()},t.prototype.onResourceChange=function(e){var n=this;this.cachedSchemaForResource=void 0;var r=!1;e=co(e);for(var i=[e],s=Object.keys(this.schemasById).map(function(d){return n.schemasById[d]});i.length;)for(var a=i.pop(),l=0;l<s.length;l++){var f=s[l];f&&(f.url===a||f.dependencies[a])&&(f.url!==a&&i.push(f.url),f.clearSchema(),s[l]=void 0,r=!0)}return r},t.prototype.setSchemaContributions=function(e){if(e.schemas){var n=e.schemas;for(var r in n){var i=co(r);this.contributionSchemas[i]=this.addSchemaHandle(i,n[r])}}if(Array.isArray(e.schemaAssociations))for(var s=e.schemaAssociations,a=0,l=s;a<l.length;a++){var f=l[a],d=f.uris.map(co),h=this.addFilePatternAssociation(f.pattern,d);this.contributionAssociations.push(h)}},t.prototype.addSchemaHandle=function(e,n){var r=new MA(this,e,n);return this.schemasById[e]=r,r},t.prototype.getOrAddSchemaHandle=function(e,n){return this.schemasById[e]||this.addSchemaHandle(e,n)},t.prototype.addFilePatternAssociation=function(e,n){var r=new IA(e,n);return this.filePatternAssociations.push(r),r},t.prototype.registerExternalSchema=function(e,n,r){var i=co(e);return this.registeredSchemasIds[i]=!0,this.cachedSchemaForResource=void 0,n&&this.addFilePatternAssociation(n,[e]),r?this.addSchemaHandle(i,r):this.getOrAddSchemaHandle(i)},t.prototype.clearExternalSchemas=function(){this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={},this.cachedSchemaForResource=void 0;for(var e in this.contributionSchemas)this.schemasById[e]=this.contributionSchemas[e],this.registeredSchemasIds[e]=!0;for(var n=0,r=this.contributionAssociations;n<r.length;n++){var i=r[n];this.filePatternAssociations.push(i)}},t.prototype.getResolvedSchema=function(e){var n=co(e),r=this.schemasById[n];return r?r.getResolvedSchema():this.promise.resolve(void 0)},t.prototype.loadSchema=function(e){if(!this.requestService){var n=uo("json.schema.norequestservice","Unable to load schema from '{0}'. No schema request service available",Hf(e));return this.promise.resolve(new Ti({},[n]))}return this.requestService(e).then(function(r){if(!r){var i=uo("json.schema.nocontent","Unable to load schema from '{0}': No content.",Hf(e));return new Ti({},[i])}var s={},a=[];s=$A(r,a);var l=a.length?[uo("json.schema.invalidFormat","Unable to parse content from '{0}': Parse error at offset {1}.",Hf(e),a[0].offset)]:[];return new Ti(s,l)},function(r){var i=r.toString(),s=r.toString().split("Error: ");return s.length>1&&(i=s[1]),Qm(i,".")&&(i=i.substr(0,i.length-1)),new Ti({},[uo("json.schema.nocontent","Unable to load schema from '{0}': {1}.",Hf(e),i)])})},t.prototype.resolveSchemaContent=function(e,n,r){var i=this,s=e.errors.slice(0),a=e.schema;if(a.$schema){var l=co(a.$schema);if(l==="http://json-schema.org/draft-03/schema")return this.promise.resolve(new Ic({},[uo("json.schema.draft03.notsupported","Draft-03 schemas are not supported.")]));l==="https://json-schema.org/draft/2019-09/schema"&&s.push(uo("json.schema.draft201909.notsupported","Draft 2019-09 schemas are not yet fully supported."))}var f=this.contextService,d=function(O,I){if(!I)return O;var P=O;return I[0]==="/"&&(I=I.substr(1)),I.split("/").some(function(C){return C=C.replace(/~1/g,"/").replace(/~0/g,"~"),P=P[C],!P}),P},h=function(O,I,P,C){var R=C?decodeURIComponent(C):void 0,T=d(I,R);if(T)for(var v in T)T.hasOwnProperty(v)&&!O.hasOwnProperty(v)&&(O[v]=T[v]);else s.push(uo("json.schema.invalidref","$ref '{0}' in '{1}' can not be resolved.",R,P))},g=function(O,I,P,C,R){f&&!/^[A-Za-z][A-Za-z0-9+\-.+]*:\/\/.*/.test(I)&&(I=f.resolveRelativePath(I,C)),I=co(I);var T=i.getOrAddSchemaHandle(I);return T.getUnresolvedSchema().then(function(v){if(R[I]=!0,v.errors.length){var D=P?I+"#"+P:I;s.push(uo("json.schema.problemloadingref","Problems loading reference '{0}': {1}",D,v.errors[0]))}return h(O,v.schema,I,P),S(O,v.schema,I,T.dependencies)})},S=function(O,I,P,C){if(!O||typeof O!="object")return Promise.resolve(null);for(var R=[O],T=[],v=[],D=function(){for(var F=[],L=0;L<arguments.length;L++)F[L]=arguments[L];for(var M=0,Y=F;M<Y.length;M++){var H=Y[M];typeof H=="object"&&R.push(H)}},b=function(){for(var F=[],L=0;L<arguments.length;L++)F[L]=arguments[L];for(var M=0,Y=F;M<Y.length;M++){var H=Y[M];if(typeof H=="object")for(var ne in H){var ge=ne,pe=H[ge];typeof pe=="object"&&R.push(pe)}}},_=function(){for(var F=[],L=0;L<arguments.length;L++)F[L]=arguments[L];for(var M=0,Y=F;M<Y.length;M++){var H=Y[M];if(Array.isArray(H))for(var ne=0,ge=H;ne<ge.length;ne++){var pe=ge[ne];typeof pe=="object"&&R.push(pe)}}},$=function(F){for(var L=[];F.$ref;){var M=F.$ref,Y=M.split("#",2);if(delete F.$ref,Y[0].length>0){v.push(g(F,Y[0],Y[1],P,C));return}else L.indexOf(M)===-1&&(h(F,I,P,Y[1]),L.push(M))}D(F.items,F.additionalItems,F.additionalProperties,F.not,F.contains,F.propertyNames,F.if,F.then,F.else),b(F.definitions,F.properties,F.patternProperties,F.dependencies),_(F.anyOf,F.allOf,F.oneOf,F.items)};R.length;){var q=R.pop();T.indexOf(q)>=0||(T.push(q),$(q))}return i.promise.all(v)};return S(a,a,n,r).then(function(O){return new Ic(a,s)})},t.prototype.getSchemaForResource=function(e,n){if(n&&n.root&&n.root.type==="object"){var r=n.root.properties.filter(function(R){return R.keyNode.value==="$schema"&&R.valueNode&&R.valueNode.type==="string"});if(r.length>0){var i=r[0].valueNode;if(i&&i.type==="string"){var s=Vf(i);if(s&&$D(s,".")&&this.contextService&&(s=this.contextService.resolveRelativePath(s,e)),s){var a=co(s);return this.getOrAddSchemaHandle(a).getResolvedSchema()}}}}if(this.cachedSchemaForResource&&this.cachedSchemaForResource.resource===e)return this.cachedSchemaForResource.resolvedSchema;for(var l=Object.create(null),f=[],d=xA(e),h=0,g=this.filePatternAssociations;h<g.length;h++){var S=g[h];if(S.matchesPattern(d))for(var O=0,I=S.getURIs();O<I.length;O++){var P=I[O];l[P]||(f.push(P),l[P]=!0)}}var C=f.length>0?this.createCombinedSchema(e,f).getResolvedSchema():this.promise.resolve(void 0);return this.cachedSchemaForResource={resource:e,resolvedSchema:C},C},t.prototype.createCombinedSchema=function(e,n){if(n.length===1)return this.getOrAddSchemaHandle(n[0]);var r="schemaservice://combinedSchema/"+encodeURIComponent(e),i={allOf:n.map(function(s){return{$ref:s}})};return this.addSchemaHandle(r,i)},t.prototype.getMatchingSchemas=function(e,n,r){if(r){var i=r.id||"schemaservice://untitled/matchingSchemas/"+jA++;return this.resolveSchemaContent(new Ti(r),i,{}).then(function(s){return n.getMatchingSchemas(s.schema).filter(function(a){return!a.inverted})})}return this.getSchemaForResource(e.uri,n).then(function(s){return s?n.getMatchingSchemas(s.schema).filter(function(a){return!a.inverted}):[]})},t}(),jA=0;function co(t){try{return Wr.parse(t).toString()}catch{return t}}function xA(t){try{return Wr.parse(t).with({fragment:null,query:null}).toString()}catch{return t}}function Hf(t){try{var e=Wr.parse(t);if(e.scheme==="file")return e.fsPath}catch{}return t}function BA(t){return t.replace(/[-\\{}+?|^$.,[\]()#\s]/g,"\\$&").replace(/[*]/g,".*")}function qA(t,e){if(t.length<e)return 0;for(let n=0;n<e;n++){const r=t.charCodeAt(n);if(r!==32&&r!==9)return n}return e}function CD(t){try{return new RegExp(t,"u")}catch{return new RegExp(t)}}function WA(t,e){e++;for(let n=e;n<t.length;n++){const r=t.charAt(n);if(r===" "||r==="	")e++;else return e}return e}const ng=Symbol.for("yaml.alias"),rg=Symbol.for("yaml.document"),lo=Symbol.for("yaml.map"),OD=Symbol.for("yaml.pair"),Ss=Symbol.for("yaml.scalar"),uu=Symbol.for("yaml.seq"),ai=Symbol.for("yaml.node.type"),Gi=t=>!!t&&typeof t=="object"&&t[ai]===ng,Kf=t=>!!t&&typeof t=="object"&&t[ai]===rg,Fn=t=>!!t&&typeof t=="object"&&t[ai]===lo,Xt=t=>!!t&&typeof t=="object"&&t[ai]===OD,Dt=t=>!!t&&typeof t=="object"&&t[ai]===Ss,jn=t=>!!t&&typeof t=="object"&&t[ai]===uu;function Rn(t){if(t&&typeof t=="object")switch(t[ai]){case lo:case uu:return!0}return!1}function an(t){if(t&&typeof t=="object")switch(t[ai]){case ng:case lo:case Ss:case uu:return!0}return!1}const UA=t=>(Dt(t)||Rn(t))&&!!t.anchor;class ig{constructor(e){Object.defineProperty(this,ai,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}}const ta=Symbol("break visit"),VA=Symbol("skip children"),Mc=Symbol("remove node");function _n(t,e){const n=HA(e);Kf(t)?cu(null,t.contents,n,Object.freeze([t]))===Mc&&(t.contents=null):cu(null,t,n,Object.freeze([]))}_n.BREAK=ta,_n.SKIP=VA,_n.REMOVE=Mc;function cu(t,e,n,r){const i=KA(t,e,n,r);if(an(i)||Xt(i))return zA(t,r,i),cu(t,i,n,r);if(typeof i!="symbol"){if(Rn(e)){r=Object.freeze(r.concat(e));for(let s=0;s<e.items.length;++s){const a=cu(s,e.items[s],n,r);if(typeof a=="number")s=a-1;else{if(a===ta)return ta;a===Mc&&(e.items.splice(s,1),s-=1)}}}else if(Xt(e)){r=Object.freeze(r.concat(e));const s=cu("key",e.key,n,r);if(s===ta)return ta;s===Mc&&(e.key=null);const a=cu("value",e.value,n,r);if(a===ta)return ta;a===Mc&&(e.value=null)}}return i}function HA(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function KA(t,e,n,r){var i,s,a,l,f;if(typeof n=="function")return n(t,e,r);if(Fn(e))return(i=n.Map)==null?void 0:i.call(n,t,e,r);if(jn(e))return(s=n.Seq)==null?void 0:s.call(n,t,e,r);if(Xt(e))return(a=n.Pair)==null?void 0:a.call(n,t,e,r);if(Dt(e))return(l=n.Scalar)==null?void 0:l.call(n,t,e,r);if(Gi(e))return(f=n.Alias)==null?void 0:f.call(n,t,e,r)}function zA(t,e,n){const r=e[e.length-1];if(Rn(r))r.items[t]=n;else if(Xt(r))t==="key"?r.key=n:r.value=n;else if(Kf(r))r.contents=n;else{const i=Gi(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const YA={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},GA=t=>t.replace(/[!,[\]{}]/g,e=>YA[e]);class vr{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},vr.defaultYaml,e),this.tags=Object.assign({},vr.defaultTags,n)}clone(){const e=new vr(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new vr(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:vr.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},vr.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:vr.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},vr.defaultTags),this.atNextDocument=!1);const r=e.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[s,a]=r;return this.tags[s]=a,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[s]=r;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{const a=/^\d+\.\d+$/.test(s);return n(6,`Unsupported YAML version ${s}`,a),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const a=e.slice(2,-1);return a==="!"||a==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),a)}const[,r,i]=e.match(/^(.*!)([^!]*)$/);i||n(`The ${e} tag has no suffix`);const s=this.tags[r];return s?s+decodeURIComponent(i):r==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,r]of Object.entries(this.tags))if(e.startsWith(r))return n+GA(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(e&&r.length>0&&an(e.contents)){const s={};_n(e.contents,(a,l)=>{an(l)&&l.tag&&(s[l.tag]=!0)}),i=Object.keys(s)}else i=[];for(const[s,a]of r)s==="!!"&&a==="tag:yaml.org,2002:"||(!e||i.some(l=>l.startsWith(a)))&&n.push(`%TAG ${s} ${a}`);return n.join(`
`)}}vr.defaultYaml={explicit:!1,version:"1.2"},vr.defaultTags={"!!":"tag:yaml.org,2002:"};function PD(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function ND(t){const e=new Set;return _n(t,{Value(n,r){r.anchor&&e.add(r.anchor)}}),e}function FD(t,e){for(let n=1;;++n){const r=`${t}${n}`;if(!e.has(r))return r}}function JA(t,e){const n=[],r=new Map;let i=null;return{onAnchor:s=>{n.push(s),i||(i=ND(t));const a=FD(e,i);return i.add(a),a},setAnchors:()=>{for(const s of n){const a=r.get(s);if(typeof a=="object"&&a.anchor&&(Dt(a.node)||Rn(a.node)))a.node.anchor=a.anchor;else{const l=new Error("Failed to resolve repeated object (this should not happen)");throw l.source=s,l}}},sourceObjects:r}}class sg extends ig{constructor(e){super(ng),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return _n(e,{Node:(r,i)=>{if(i===this)return _n.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(e,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:s}=n,a=this.resolve(i);if(!a){const f=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(f)}const l=r.get(a);if(!l||l.res===void 0){const f="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(f)}if(s>=0&&(l.count+=1,l.aliasCount===0&&(l.aliasCount=zf(i,a,r)),l.count*l.aliasCount>s)){const f="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(f)}return l.res}toString(e,n,r){const i=`*${this.source}`;if(e){if(PD(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${i} `}return i}}function zf(t,e,n){if(Gi(e)){const r=e.resolve(t),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(Rn(e)){let r=0;for(const i of e.items){const s=zf(t,i,n);s>r&&(r=s)}return r}else if(Xt(e)){const r=zf(t,e.key,n),i=zf(t,e.value,n);return Math.max(r,i)}return 1}function Ji(t,e,n){if(Array.isArray(t))return t.map((r,i)=>Ji(r,String(i),n));if(t&&typeof t.toJSON=="function"){if(!n||!UA(t))return t.toJSON(e,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=s=>{r.res=s,delete n.onCreate};const i=t.toJSON(e,n);return n.onCreate&&n.onCreate(i),i}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}const RD=t=>!t||typeof t!="function"&&typeof t!="object";class Tt extends ig{constructor(e){super(Ss),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:Ji(this.value,e,n)}toString(){return String(this.value)}}Tt.BLOCK_FOLDED="BLOCK_FOLDED",Tt.BLOCK_LITERAL="BLOCK_LITERAL",Tt.PLAIN="PLAIN",Tt.QUOTE_DOUBLE="QUOTE_DOUBLE",Tt.QUOTE_SINGLE="QUOTE_SINGLE";const QA="tag:yaml.org,2002:";function XA(t,e,n){var r;if(e){const i=n.filter(a=>a.tag===e),s=(r=i.find(a=>!a.format))!=null?r:i[0];if(!s)throw new Error(`Tag ${e} not found`);return s}return n.find(i=>{var s;return((s=i.identify)==null?void 0:s.call(i,t))&&!i.format})}function Lc(t,e,n){var g,S;if(Kf(t)&&(t=t.contents),an(t))return t;if(Xt(t)){const O=(S=(g=n.schema[lo]).createNode)==null?void 0:S.call(g,n.schema,null,n);return O.items.push(t),O}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:s,schema:a,sourceObjects:l}=n;let f;if(r&&t&&typeof t=="object"){if(f=l.get(t),f)return f.anchor||(f.anchor=i(t)),new sg(f.anchor);f={anchor:null,node:null},l.set(t,f)}e!=null&&e.startsWith("!!")&&(e=QA+e.slice(2));let d=XA(t,e,a.tags);if(!d){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const O=new Tt(t);return f&&(f.node=O),O}d=t instanceof Map?a[lo]:Symbol.iterator in Object(t)?a[uu]:a[lo]}s&&(s(d),delete n.onTagObj);const h=d!=null&&d.createNode?d.createNode(n.schema,t,n):new Tt(t);return e&&(h.tag=e),f&&(f.node=h),h}function Yf(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){const s=e[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){const a=[];a[s]=r,r=a}else r=new Map([[s,r]])}return Lc(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const jc=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class Gf extends ig{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>an(r)||Xt(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(jc(e))this.add(n);else{const[r,...i]=e,s=this.get(r,!0);if(Rn(s))s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,Yf(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(e){const[n,...r]=e;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(Rn(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){const[r,...i]=e,s=this.get(r,!0);return i.length===0?!n&&Dt(s)?s.value:s:Rn(s)?s.getIn(i,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Xt(n))return!1;const r=n.value;return r==null||e&&Dt(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){const[n,...r]=e;if(r.length===0)return this.has(n);const i=this.get(n,!0);return Rn(i)?i.hasIn(r):!1}setIn(e,n){const[r,...i]=e;if(i.length===0)this.set(r,n);else{const s=this.get(r,!0);if(Rn(s))s.setIn(i,n);else if(s===void 0&&this.schema)this.set(r,Yf(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}Gf.maxFlowStringSingleLineLength=60;const ZA=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Ts(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const fo=(t,e,n)=>t.endsWith(`
`)?Ts(n,e):n.includes(`
`)?`
`+Ts(n,e):(t.endsWith(" ")?"":" ")+n,ID="flow",og="block",Jf="quoted";function Qf(t,e,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:a,onOverflow:l}={}){if(!i||i<0)return t;const f=Math.max(1+s,1+i-e.length);if(t.length<=f)return t;const d=[],h={};let g=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?d.push(0):g=i-r);let S,O,I=!1,P=-1,C=-1,R=-1;n===og&&(P=MD(t,P),P!==-1&&(g=P+f));for(let v;v=t[P+=1];){if(n===Jf&&v==="\\"){switch(C=P,t[P+1]){case"x":P+=3;break;case"u":P+=5;break;case"U":P+=9;break;default:P+=1}R=P}if(v===`
`)n===og&&(P=MD(t,P)),g=P+f,S=void 0;else{if(v===" "&&O&&O!==" "&&O!==`
`&&O!=="	"){const D=t[P+1];D&&D!==" "&&D!==`
`&&D!=="	"&&(S=P)}if(P>=g)if(S)d.push(S),g=S+f,S=void 0;else if(n===Jf){for(;O===" "||O==="	";)O=v,v=t[P+=1],I=!0;const D=P>R+1?P-2:C-1;if(h[D])return t;d.push(D),h[D]=!0,g=D+f,S=void 0}else I=!0}O=v}if(I&&l&&l(),d.length===0)return t;a&&a();let T=t.slice(0,d[0]);for(let v=0;v<d.length;++v){const D=d[v],b=d[v+1]||t.length;D===0?T=`
${e}${t.slice(0,b)}`:(n===Jf&&h[D]&&(T+=`${t[D]}\\`),T+=`
${e}${t.slice(D+1,b)}`)}return T}function MD(t,e){let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1]}return e}const Xf=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),Zf=t=>/^(%|---|\.\.\.)/m.test(t);function eC(t,e,n){if(!e||e<0)return!1;const r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,a=0;s<i;++s)if(t[s]===`
`){if(s-a>r)return!0;if(a=s+1,i-a<=r)return!1}return!0}function xc(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=e,i=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(Zf(t)?"  ":"");let a="",l=0;for(let f=0,d=n[f];d;d=n[++f])if(d===" "&&n[f+1]==="\\"&&n[f+2]==="n"&&(a+=n.slice(l,f)+"\\ ",f+=1,l=f,d="\\"),d==="\\")switch(n[f+1]){case"u":{a+=n.slice(l,f);const h=n.substr(f+2,4);switch(h){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:h.substr(0,2)==="00"?a+="\\x"+h.substr(2):a+=n.substr(f,6)}f+=5,l=f+1}break;case"n":if(r||n[f+2]==='"'||n.length<i)f+=1;else{for(a+=n.slice(l,f)+`

`;n[f+2]==="\\"&&n[f+3]==="n"&&n[f+4]!=='"';)a+=`
`,f+=2;a+=s,n[f+2]===" "&&(a+="\\"),f+=1,l=f+1}break;default:f+=1}return a=l?a+n.slice(l):n,r?a:Qf(a,s,Jf,Xf(e,!1))}function ag(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return xc(t,e);const n=e.indent||(Zf(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:Qf(r,n,ID,Xf(e,!1))}function lu(t,e){const{singleQuote:n}=e.options;let r;if(n===!1)r=xc;else{const i=t.includes('"'),s=t.includes("'");i&&!s?r=ag:s&&!i?r=xc:r=n?ag:xc}return r(t,e)}function ed({comment:t,type:e,value:n},r,i,s){const{blockQuote:a,commentString:l,lineWidth:f}=r.options;if(!a||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return lu(n,r);const d=r.indent||(r.forceBlockIndent||Zf(n)?"  ":""),h=a==="literal"?!0:a==="folded"||e===Tt.BLOCK_FOLDED?!1:e===Tt.BLOCK_LITERAL?!0:!eC(n,f,d.length);if(!n)return h?`|
`:`>
`;let g,S;for(S=n.length;S>0;--S){const _=n[S-1];if(_!==`
`&&_!=="	"&&_!==" ")break}let O=n.substring(S);const I=O.indexOf(`
`);I===-1?g="-":n===O||I!==O.length-1?(g="+",s&&s()):g="",O&&(n=n.slice(0,-O.length),O[O.length-1]===`
`&&(O=O.slice(0,-1)),O=O.replace(/\n+(?!\n|$)/g,`$&${d}`));let P=!1,C,R=-1;for(C=0;C<n.length;++C){const _=n[C];if(_===" ")P=!0;else if(_===`
`)R=C;else break}let T=n.substring(0,R<C?R+1:C);T&&(n=n.substring(T.length),T=T.replace(/\n+/g,`$&${d}`));let D=(h?"|":">")+(P?d?"2":"1":"")+g;if(t&&(D+=" "+l(t.replace(/ ?[\r\n]+/g," ")),i&&i()),h)return n=n.replace(/\n+/g,`$&${d}`),`${D}
${d}${T}${n}${O}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${d}`);const b=Qf(`${T}${n}${O}`,d,og,Xf(r,!0));return`${D}
${d}${b}`}function tC(t,e,n,r){const{type:i,value:s}=t,{actualString:a,implicitKey:l,indent:f,indentStep:d,inFlow:h}=e;if(l&&/[\n[\]{},]/.test(s)||h&&/[[\]{},]/.test(s))return lu(s,e);if(!s||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return l||h||!s.includes(`
`)?lu(s,e):ed(t,e,n,r);if(!l&&!h&&i!==Tt.PLAIN&&s.includes(`
`))return ed(t,e,n,r);if(Zf(s)){if(f==="")return e.forceBlockIndent=!0,ed(t,e,n,r);if(l&&f===d)return lu(s,e)}const g=s.replace(/\n+/g,`$&
${f}`);if(a){const S=P=>{var C;return P.default&&P.tag!=="tag:yaml.org,2002:str"&&((C=P.test)==null?void 0:C.test(g))},{compat:O,tags:I}=e.doc.schema;if(I.some(S)||(O==null?void 0:O.some(S)))return lu(s,e)}return l?g:Qf(g,f,ID,Xf(e,!1))}function ug(t,e,n,r){const{implicitKey:i,inFlow:s}=e,a=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:l}=t;l!==Tt.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value)&&(l=Tt.QUOTE_DOUBLE);const f=h=>{switch(h){case Tt.BLOCK_FOLDED:case Tt.BLOCK_LITERAL:return i||s?lu(a.value,e):ed(a,e,n,r);case Tt.QUOTE_DOUBLE:return xc(a.value,e);case Tt.QUOTE_SINGLE:return ag(a.value,e);case Tt.PLAIN:return tC(a,e,n,r);default:return null}};let d=f(l);if(d===null){const{defaultKeyType:h,defaultStringType:g}=e.options,S=i&&h||g;if(d=f(S),d===null)throw new Error(`Unsupported default string type ${S}`)}return d}function LD(t,e){const n=Object.assign({blockQuote:!0,commentString:ZA,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function nC(t,e){var i,s,a,l;if(e.tag){const f=t.filter(d=>d.tag===e.tag);if(f.length>0)return(i=f.find(d=>d.format===e.format))!=null?i:f[0]}let n,r;if(Dt(e)){r=e.value;const f=t.filter(d=>{var h;return(h=d.identify)==null?void 0:h.call(d,r)});n=(s=f.find(d=>d.format===e.format))!=null?s:f.find(d=>!d.format)}else r=e,n=t.find(f=>f.nodeClass&&r instanceof f.nodeClass);if(!n){const f=(l=(a=r==null?void 0:r.constructor)==null?void 0:a.name)!=null?l:typeof r;throw new Error(`Tag not resolved for ${f} value`)}return n}function rC(t,e,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],s=(Dt(t)||Rn(t))&&t.anchor;s&&PD(s)&&(n.add(s),i.push(`&${s}`));const a=t.tag?t.tag:e.default?null:e.tag;return a&&i.push(r.directives.tagString(a)),i.join(" ")}function na(t,e,n,r){var f,d;if(Xt(t))return t.toString(e,n,r);if(Gi(t)){if(e.doc.directives)return t.toString(e);if((f=e.resolvedAliases)!=null&&f.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i;const s=an(t)?t:e.doc.createNode(t,{onTagObj:h=>i=h});i||(i=nC(e.doc.schema.tags,s));const a=rC(s,i,e);a.length>0&&(e.indentAtStart=((d=e.indentAtStart)!=null?d:0)+a.length+1);const l=typeof i.stringify=="function"?i.stringify(s,e,n,r):Dt(s)?ug(s,e,n,r):s.toString(e,n,r);return a?Dt(s)||l[0]==="{"||l[0]==="["?`${a} ${l}`:`${a}
${e.indent}${l}`:l}function iC({key:t,value:e},n,r,i){var $,q;const{allNullValues:s,doc:a,indent:l,indentStep:f,options:{commentString:d,indentSeq:h,simpleKeys:g}}=n;let S=an(t)&&t.comment||null;if(g){if(S)throw new Error("With simple keys, key nodes cannot have comments");if(Rn(t)){const F="With simple keys, collection cannot be used as a key value";throw new Error(F)}}let O=!g&&(!t||S&&e==null&&!n.inFlow||Rn(t)||(Dt(t)?t.type===Tt.BLOCK_FOLDED||t.type===Tt.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!O&&(g||!s),indent:l+f});let I=!1,P=!1,C=na(t,n,()=>I=!0,()=>P=!0);if(!O&&!n.inFlow&&C.length>1024){if(g)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");O=!0}if(n.inFlow){if(s||e==null)return I&&r&&r(),C===""?"?":O?`? ${C}`:C}else if(s&&!g||e==null&&O)return C=`? ${C}`,S&&!I?C+=fo(C,n.indent,d(S)):P&&i&&i(),C;I&&(S=null),O?(S&&(C+=fo(C,n.indent,d(S))),C=`? ${C}
${l}:`):(C=`${C}:`,S&&(C+=fo(C,n.indent,d(S))));let R,T,v;an(e)?(R=!!e.spaceBefore,T=e.commentBefore,v=e.comment):(R=!1,T=null,v=null,e&&typeof e=="object"&&(e=a.createNode(e))),n.implicitKey=!1,!O&&!S&&Dt(e)&&(n.indentAtStart=C.length+1),P=!1,!h&&f.length>=2&&!n.inFlow&&!O&&jn(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let D=!1;const b=na(e,n,()=>D=!0,()=>P=!0);let _=" ";if(S||R||T){if(_=R?`
`:"",T){const F=d(T);_+=`
${Ts(F,n.indent)}`}b===""&&!n.inFlow?_===`
`&&(_=`

`):_+=`
${n.indent}`}else if(!O&&Rn(e)){const F=b[0],L=b.indexOf(`
`),M=L!==-1,Y=(q=($=n.inFlow)!=null?$:e.flow)!=null?q:e.items.length===0;if(M||!Y){let H=!1;if(M&&(F==="&"||F==="!")){let ne=b.indexOf(" ");F==="&"&&ne!==-1&&ne<L&&b[ne+1]==="!"&&(ne=b.indexOf(" ",ne+1)),(ne===-1||L<ne)&&(H=!0)}H||(_=`
${n.indent}`)}}else(b===""||b[0]===`
`)&&(_="");return C+=_+b,n.inFlow?D&&r&&r():v&&!D?C+=fo(C,n.indent,d(v)):P&&i&&i(),C}function jD(t,e){(t==="debug"||t==="warn")&&(typeof Xo<"u"&&Xo.emitWarning?Xo.emitWarning(e):console.warn(e))}const xD="<<";function BD(t,e,{key:n,value:r}){if((t==null?void 0:t.doc.schema.merge)&&sC(n))if(r=Gi(r)?r.resolve(t.doc):r,jn(r))for(const i of r.items)cg(t,e,i);else if(Array.isArray(r))for(const i of r)cg(t,e,i);else cg(t,e,r);else{const i=Ji(n,"",t);if(e instanceof Map)e.set(i,Ji(r,i,t));else if(e instanceof Set)e.add(i);else{const s=oC(n,i,t),a=Ji(r,s,t);s in e?Object.defineProperty(e,s,{value:a,writable:!0,enumerable:!0,configurable:!0}):e[s]=a}}return e}const sC=t=>t===xD||Dt(t)&&t.value===xD&&(!t.type||t.type===Tt.PLAIN);function cg(t,e,n){const r=t&&Gi(n)?n.resolve(t.doc):n;if(!Fn(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,t,Map);for(const[s,a]of i)e instanceof Map?e.has(s)||e.set(s,a):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:a,writable:!0,enumerable:!0,configurable:!0});return e}function oC(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(an(t)&&n&&n.doc){const r=LD(n.doc,{});r.anchors=new Set;for(const s of n.anchors.keys())r.anchors.add(s.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=t.toString(r);if(!n.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),jD(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(e)}function lg(t,e,n){const r=Lc(t,void 0,n),i=Lc(e,void 0,n);return new br(r,i)}class br{constructor(e,n=null){Object.defineProperty(this,ai,{value:OD}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return an(n)&&(n=n.clone(e)),an(r)&&(r=r.clone(e)),new br(n,r)}toJSON(e,n){const r=n!=null&&n.mapAsMap?new Map:{};return BD(n,r,this)}toString(e,n,r){return e!=null&&e.doc?iC(this,e,n,r):JSON.stringify(this)}}function qD(t,e,n){var s;return(((s=e.inFlow)!=null?s:t.flow)?uC:aC)(t,e,n)}function aC({comment:t,items:e},n,{blockItemPrefix:r,flowChars:i,itemIndent:s,onChompKeep:a,onComment:l}){const{indent:f,options:{commentString:d}}=n,h=Object.assign({},n,{indent:s,type:null});let g=!1;const S=[];for(let I=0;I<e.length;++I){const P=e[I];let C=null;if(an(P))!g&&P.spaceBefore&&S.push(""),td(n,S,P.commentBefore,g),P.comment&&(C=P.comment);else if(Xt(P)){const T=an(P.key)?P.key:null;T&&(!g&&T.spaceBefore&&S.push(""),td(n,S,T.commentBefore,g))}g=!1;let R=na(P,h,()=>C=null,()=>g=!0);C&&(R+=fo(R,s,d(C))),g&&C&&(g=!1),S.push(r+R)}let O;if(S.length===0)O=i.start+i.end;else{O=S[0];for(let I=1;I<S.length;++I){const P=S[I];O+=P?`
${f}${P}`:`
`}}return t?(O+=`
`+Ts(d(t),f),l&&l()):g&&a&&a(),O}function uC({comment:t,items:e},n,{flowChars:r,itemIndent:i,onComment:s}){const{indent:a,indentStep:l,flowCollectionPadding:f,options:{commentString:d}}=n;i+=l;const h=Object.assign({},n,{indent:i,inFlow:!0,type:null});let g=!1,S=0;const O=[];for(let R=0;R<e.length;++R){const T=e[R];let v=null;if(an(T))T.spaceBefore&&O.push(""),td(n,O,T.commentBefore,!1),T.comment&&(v=T.comment);else if(Xt(T)){const b=an(T.key)?T.key:null;b&&(b.spaceBefore&&O.push(""),td(n,O,b.commentBefore,!1),b.comment&&(g=!0));const _=an(T.value)?T.value:null;_?(_.comment&&(v=_.comment),_.commentBefore&&(g=!0)):T.value==null&&b&&b.comment&&(v=b.comment)}v&&(g=!0);let D=na(T,h,()=>v=null);R<e.length-1&&(D+=","),v&&(D+=fo(D,i,d(v))),!g&&(O.length>S||D.includes(`
`))&&(g=!0),O.push(D),S=O.length}let I;const{start:P,end:C}=r;if(O.length===0)I=P+C;else if(g||(g=O.reduce((T,v)=>T+v.length+2,2)>Gf.maxFlowStringSingleLineLength),g){I=P;for(const R of O)I+=R?`
${l}${a}${R}`:`
`;I+=`
${a}${C}`}else I=`${P}${f}${O.join(" ")}${f}${C}`;return t&&(I+=fo(I,a,d(t)),s&&s()),I}function td({indent:t,options:{commentString:e}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const s=Ts(e(r),t);n.push(s.trimStart())}}function ra(t,e){const n=Dt(e)?e.value:e;for(const r of t)if(Xt(r)&&(r.key===e||r.key===n||Dt(r.key)&&r.key.value===n))return r}class ki extends Gf{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(lo,e),this.items=[]}add(e,n){var a;let r;Xt(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new br(e,e==null?void 0:e.value):r=new br(e.key,e.value);const i=ra(this.items,r.key),s=(a=this.schema)==null?void 0:a.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);Dt(i.value)&&RD(r.value)?i.value.value=r.value:i.value=r.value}else if(s){const l=this.items.findIndex(f=>s(r,f)<0);l===-1?this.items.push(r):this.items.splice(l,0,r)}else this.items.push(r)}delete(e){const n=ra(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){var s;const r=ra(this.items,e),i=r==null?void 0:r.value;return(s=!n&&Dt(i)?i.value:i)!=null?s:void 0}has(e){return!!ra(this.items,e)}set(e,n){this.add(new br(e,n),!0)}toJSON(e,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const s of this.items)BD(n,i,s);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(const i of this.items)if(!Xt(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),qD(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}}function cC(t,e,n){const{keepUndefined:r,replacer:i}=n,s=new ki(t),a=(l,f)=>{if(typeof i=="function")f=i.call(e,l,f);else if(Array.isArray(i)&&!i.includes(l))return;(f!==void 0||r)&&s.items.push(lg(l,f,n))};if(e instanceof Map)for(const[l,f]of e)a(l,f);else if(e&&typeof e=="object")for(const l of Object.keys(e))a(l,e[l]);return typeof t.sortMapEntries=="function"&&s.items.sort(t.sortMapEntries),s}const fu={collection:"map",createNode:cC,default:!0,nodeClass:ki,tag:"tag:yaml.org,2002:map",resolve(t,e){return Fn(t)||e("Expected a mapping for this tag"),t}};class du extends Gf{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(uu,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=nd(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const r=nd(e);if(typeof r!="number")return;const i=this.items[r];return!n&&Dt(i)?i.value:i}has(e){const n=nd(e);return typeof n=="number"&&n<this.items.length}set(e,n){const r=nd(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[r];Dt(i)&&RD(n)?i.value=n:this.items[r]=n}toJSON(e,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const s of this.items)r.push(Ji(s,String(i++),n));return r}toString(e,n,r){return e?qD(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}}function nd(t){let e=Dt(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function lC(t,e,n){const{replacer:r}=n,i=new du(t);if(e&&Symbol.iterator in Object(e)){let s=0;for(let a of e){if(typeof r=="function"){const l=e instanceof Set?a:String(s++);a=r.call(e,l,a)}i.items.push(Lc(a,void 0,n))}}return i}const hu={collection:"seq",createNode:lC,default:!0,nodeClass:du,tag:"tag:yaml.org,2002:seq",resolve(t,e){return jn(t)||e("Expected a sequence for this tag"),t}},rd={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),ug(t,e,n,r)}},id={identify:t=>t==null,createNode:()=>new Tt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Tt(null),stringify:({source:t},e)=>typeof t=="string"&&id.test.test(t)?t:e.options.nullStr},fg={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new Tt(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&fg.test.test(t)){const r=t[0]==="t"||t[0]==="T";if(e===r)return t}return e?n.options.trueStr:n.options.falseStr}};function Ai({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let a=s.indexOf(".");a<0&&(a=s.length,s+=".");let l=e-(s.length-a-1);for(;l-- >0;)s+="0"}return s}const WD={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ai},UD={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Ai(t)}},VD={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new Tt(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:Ai},sd=t=>typeof t=="bigint"||Number.isInteger(t),dg=(t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n);function HD(t,e,n){const{value:r}=t;return sd(r)&&r>=0?n+r.toString(e):Ai(t)}const KD={identify:t=>sd(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>dg(t,2,8,n),stringify:t=>HD(t,8,"0o")},zD={identify:sd,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>dg(t,0,10,n),stringify:Ai},YD={identify:t=>sd(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>dg(t,2,16,n),stringify:t=>HD(t,16,"0x")},fC=[fu,hu,rd,id,fg,KD,zD,YD,WD,UD,VD];function GD(t){return typeof t=="bigint"||Number.isInteger(t)}const od=({value:t})=>JSON.stringify(t),dC=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:od},{identify:t=>t==null,createNode:()=>new Tt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:od},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:od},{identify:GD,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>GD(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:od}],hC={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},pC=[fu,hu].concat(dC,hC);var Qn={},ad={};ad.byteLength=yC,ad.toByteArray=bC,ad.fromByteArray=_C;for(var Qi=[],ui=[],mC=typeof Uint8Array<"u"?Uint8Array:Array,hg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pu=0,gC=hg.length;pu<gC;++pu)Qi[pu]=hg[pu],ui[hg.charCodeAt(pu)]=pu;ui["-".charCodeAt(0)]=62,ui["_".charCodeAt(0)]=63;function JD(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function yC(t){var e=JD(t),n=e[0],r=e[1];return(n+r)*3/4-r}function vC(t,e,n){return(e+n)*3/4-n}function bC(t){var e,n=JD(t),r=n[0],i=n[1],s=new mC(vC(t,r,i)),a=0,l=i>0?r-4:r,f;for(f=0;f<l;f+=4)e=ui[t.charCodeAt(f)]<<18|ui[t.charCodeAt(f+1)]<<12|ui[t.charCodeAt(f+2)]<<6|ui[t.charCodeAt(f+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return i===2&&(e=ui[t.charCodeAt(f)]<<2|ui[t.charCodeAt(f+1)]>>4,s[a++]=e&255),i===1&&(e=ui[t.charCodeAt(f)]<<10|ui[t.charCodeAt(f+1)]<<4|ui[t.charCodeAt(f+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function DC(t){return Qi[t>>18&63]+Qi[t>>12&63]+Qi[t>>6&63]+Qi[t&63]}function wC(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(DC(r));return i.join("")}function _C(t){for(var e,n=t.length,r=n%3,i=[],s=16383,a=0,l=n-r;a<l;a+=s)i.push(wC(t,a,a+s>l?l:a+s));return r===1?(e=t[n-1],i.push(Qi[e>>2]+Qi[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Qi[e>>10]+Qi[e>>4&63]+Qi[e<<2&63]+"=")),i.join("")}var pg={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */pg.read=function(t,e,n,r,i){var s,a,l=i*8-r-1,f=(1<<l)-1,d=f>>1,h=-7,g=n?i-1:0,S=n?-1:1,O=t[e+g];for(g+=S,s=O&(1<<-h)-1,O>>=-h,h+=l;h>0;s=s*256+t[e+g],g+=S,h-=8);for(a=s&(1<<-h)-1,s>>=-h,h+=r;h>0;a=a*256+t[e+g],g+=S,h-=8);if(s===0)s=1-d;else{if(s===f)return a?NaN:(O?-1:1)*(1/0);a=a+Math.pow(2,r),s=s-d}return(O?-1:1)*a*Math.pow(2,s-r)},pg.write=function(t,e,n,r,i,s){var a,l,f,d=s*8-i-1,h=(1<<d)-1,g=h>>1,S=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,O=r?0:s-1,I=r?1:-1,P=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-a))<1&&(a--,f*=2),a+g>=1?e+=S/f:e+=S*Math.pow(2,1-g),e*f>=2&&(a++,f/=2),a+g>=h?(l=0,a=h):a+g>=1?(l=(e*f-1)*Math.pow(2,i),a=a+g):(l=e*Math.pow(2,g-1)*Math.pow(2,i),a=0));i>=8;t[n+O]=l&255,O+=I,l/=256,i-=8);for(a=a<<i|l,d+=i;d>0;t[n+O]=a&255,O+=I,a/=256,d-=8);t[n+O-I]|=P*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=ad,n=pg,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:a,SharedArrayBuffer:l}=globalThis;h.TYPED_ARRAY_SUPPORT=f(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{const A=new s(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,s.prototype),Object.setPrototypeOf(A,y),A.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.byteOffset}});function d(A){if(A>i)throw new RangeError('The value "'+A+'" is invalid for option "size"');const y=new s(A);return Object.setPrototypeOf(y,h.prototype),y}function h(A,y,w){if(typeof A=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(A)}return g(A,y,w)}h.poolSize=8192;function g(A,y,w){if(typeof A=="string")return P(A,y);if(a.isView(A))return R(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(gt(A,a)||A&&gt(A.buffer,a)||typeof l<"u"&&(gt(A,l)||A&&gt(A.buffer,l)))return T(A,y,w);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const B=A.valueOf&&A.valueOf();if(B!=null&&B!==A)return h.from(B,y,w);const J=v(A);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return h.from(A[Symbol.toPrimitive]("string"),y,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}h.from=function(A,y,w){return g(A,y,w)},Object.setPrototypeOf(h.prototype,s.prototype),Object.setPrototypeOf(h,s);function S(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function O(A,y,w){return S(A),A<=0?d(A):y!==void 0?typeof w=="string"?d(A).fill(y,w):d(A).fill(y):d(A)}h.alloc=function(A,y,w){return O(A,y,w)};function I(A){return S(A),d(A<0?0:D(A)|0)}h.allocUnsafe=function(A){return I(A)},h.allocUnsafeSlow=function(A){return I(A)};function P(A,y){if((typeof y!="string"||y==="")&&(y="utf8"),!h.isEncoding(y))throw new TypeError("Unknown encoding: "+y);const w=_(A,y)|0;let B=d(w);const J=B.write(A,y);return J!==w&&(B=B.slice(0,J)),B}function C(A){const y=A.length<0?0:D(A.length)|0,w=d(y);for(let B=0;B<y;B+=1)w[B]=A[B]&255;return w}function R(A){if(gt(A,s)){const y=new s(A);return T(y.buffer,y.byteOffset,y.byteLength)}return C(A)}function T(A,y,w){if(y<0||A.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<y+(w||0))throw new RangeError('"length" is outside of buffer bounds');let B;return y===void 0&&w===void 0?B=new s(A):w===void 0?B=new s(A,y):B=new s(A,y,w),Object.setPrototypeOf(B,h.prototype),B}function v(A){if(h.isBuffer(A)){const y=D(A.length)|0,w=d(y);return w.length===0||A.copy(w,0,0,y),w}if(A.length!==void 0)return typeof A.length!="number"||Q(A.length)?d(0):C(A);if(A.type==="Buffer"&&Array.isArray(A.data))return C(A.data)}function D(A){if(A>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return A|0}function b(A){return+A!=A&&(A=0),h.alloc(+A)}h.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==h.prototype},h.compare=function(y,w){if(gt(y,s)&&(y=h.from(y,y.offset,y.byteLength)),gt(w,s)&&(w=h.from(w,w.offset,w.byteLength)),!h.isBuffer(y)||!h.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===w)return 0;let B=y.length,J=w.length;for(let re=0,fe=Math.min(B,J);re<fe;++re)if(y[re]!==w[re]){B=y[re],J=w[re];break}return B<J?-1:J<B?1:0},h.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(y,w){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return h.alloc(0);let B;if(w===void 0)for(w=0,B=0;B<y.length;++B)w+=y[B].length;const J=h.allocUnsafe(w);let re=0;for(B=0;B<y.length;++B){let fe=y[B];if(gt(fe,s))re+fe.length>J.length?(h.isBuffer(fe)||(fe=h.from(fe)),fe.copy(J,re)):s.prototype.set.call(J,fe,re);else if(h.isBuffer(fe))fe.copy(J,re);else throw new TypeError('"list" argument must be an Array of Buffers');re+=fe.length}return J};function _(A,y){if(h.isBuffer(A))return A.length;if(a.isView(A)||gt(A,a))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const w=A.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&w===0)return 0;let J=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return Yt(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return dn(A).length;default:if(J)return B?-1:Yt(A).length;y=(""+y).toLowerCase(),J=!0}}h.byteLength=_;function $(A,y,w){let B=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,y>>>=0,w<=y))return"";for(A||(A="utf8");;)switch(A){case"hex":return de(this,y,w);case"utf8":case"utf-8":return $e(this,y,w);case"ascii":return Se(this,y,w);case"latin1":case"binary":return K(this,y,w);case"base64":return pe(this,y,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,y,w);default:if(B)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),B=!0}}h.prototype._isBuffer=!0;function q(A,y,w){const B=A[y];A[y]=A[w],A[w]=B}h.prototype.swap16=function(){const y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<y;w+=2)q(this,w,w+1);return this},h.prototype.swap32=function(){const y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<y;w+=4)q(this,w,w+3),q(this,w+1,w+2);return this},h.prototype.swap64=function(){const y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<y;w+=8)q(this,w,w+7),q(this,w+1,w+6),q(this,w+2,w+5),q(this,w+3,w+4);return this},h.prototype.toString=function(){const y=this.length;return y===0?"":arguments.length===0?$e(this,0,y):$.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(y){if(!h.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:h.compare(this,y)===0},h.prototype.inspect=function(){let y="";const w=t.INSPECT_MAX_BYTES;return y=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(y+=" ... "),"<Buffer "+y+">"},r&&(h.prototype[r]=h.prototype.inspect),h.prototype.compare=function(y,w,B,J,re){if(gt(y,s)&&(y=h.from(y,y.offset,y.byteLength)),!h.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(w===void 0&&(w=0),B===void 0&&(B=y?y.length:0),J===void 0&&(J=0),re===void 0&&(re=this.length),w<0||B>y.length||J<0||re>this.length)throw new RangeError("out of range index");if(J>=re&&w>=B)return 0;if(J>=re)return-1;if(w>=B)return 1;if(w>>>=0,B>>>=0,J>>>=0,re>>>=0,this===y)return 0;let fe=re-J,Ne=B-w;const Xe=Math.min(fe,Ne),We=this.slice(J,re),Ye=y.slice(w,B);for(let je=0;je<Xe;++je)if(We[je]!==Ye[je]){fe=We[je],Ne=Ye[je];break}return fe<Ne?-1:Ne<fe?1:0};function F(A,y,w,B,J){if(A.length===0)return-1;if(typeof w=="string"?(B=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,Q(w)&&(w=J?0:A.length-1),w<0&&(w=A.length+w),w>=A.length){if(J)return-1;w=A.length-1}else if(w<0)if(J)w=0;else return-1;if(typeof y=="string"&&(y=h.from(y,B)),h.isBuffer(y))return y.length===0?-1:L(A,y,w,B,J);if(typeof y=="number")return y=y&255,typeof s.prototype.indexOf=="function"?J?s.prototype.indexOf.call(A,y,w):s.prototype.lastIndexOf.call(A,y,w):L(A,[y],w,B,J);throw new TypeError("val must be string, number or Buffer")}function L(A,y,w,B,J){let re=1,fe=A.length,Ne=y.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(A.length<2||y.length<2)return-1;re=2,fe/=2,Ne/=2,w/=2}function Xe(Ye,je){return re===1?Ye[je]:Ye.readUInt16BE(je*re)}let We;if(J){let Ye=-1;for(We=w;We<fe;We++)if(Xe(A,We)===Xe(y,Ye===-1?0:We-Ye)){if(Ye===-1&&(Ye=We),We-Ye+1===Ne)return Ye*re}else Ye!==-1&&(We-=We-Ye),Ye=-1}else for(w+Ne>fe&&(w=fe-Ne),We=w;We>=0;We--){let Ye=!0;for(let je=0;je<Ne;je++)if(Xe(A,We+je)!==Xe(y,je)){Ye=!1;break}if(Ye)return We}return-1}h.prototype.includes=function(y,w,B){return this.indexOf(y,w,B)!==-1},h.prototype.indexOf=function(y,w,B){return F(this,y,w,B,!0)},h.prototype.lastIndexOf=function(y,w,B){return F(this,y,w,B,!1)};function M(A,y,w,B){w=Number(w)||0;const J=A.length-w;B?(B=Number(B),B>J&&(B=J)):B=J;const re=y.length;B>re/2&&(B=re/2);let fe;for(fe=0;fe<B;++fe){const Ne=parseInt(y.substr(fe*2,2),16);if(Q(Ne))return fe;A[w+fe]=Ne}return fe}function Y(A,y,w,B){return vn(Yt(y,A.length-w),A,w,B)}function H(A,y,w,B){return vn(mt(y),A,w,B)}function ne(A,y,w,B){return vn(dn(y),A,w,B)}function ge(A,y,w,B){return vn(un(y,A.length-w),A,w,B)}h.prototype.write=function(y,w,B,J){if(w===void 0)J="utf8",B=this.length,w=0;else if(B===void 0&&typeof w=="string")J=w,B=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(B)?(B=B>>>0,J===void 0&&(J="utf8")):(J=B,B=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const re=this.length-w;if((B===void 0||B>re)&&(B=re),y.length>0&&(B<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");let fe=!1;for(;;)switch(J){case"hex":return M(this,y,w,B);case"utf8":case"utf-8":return Y(this,y,w,B);case"ascii":case"latin1":case"binary":return H(this,y,w,B);case"base64":return ne(this,y,w,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,y,w,B);default:if(fe)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),fe=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function pe(A,y,w){return y===0&&w===A.length?e.fromByteArray(A):e.fromByteArray(A.slice(y,w))}function $e(A,y,w){w=Math.min(A.length,w);const B=[];let J=y;for(;J<w;){const re=A[J];let fe=null,Ne=re>239?4:re>223?3:re>191?2:1;if(J+Ne<=w){let Xe,We,Ye,je;switch(Ne){case 1:re<128&&(fe=re);break;case 2:Xe=A[J+1],(Xe&192)===128&&(je=(re&31)<<6|Xe&63,je>127&&(fe=je));break;case 3:Xe=A[J+1],We=A[J+2],(Xe&192)===128&&(We&192)===128&&(je=(re&15)<<12|(Xe&63)<<6|We&63,je>2047&&(je<55296||je>57343)&&(fe=je));break;case 4:Xe=A[J+1],We=A[J+2],Ye=A[J+3],(Xe&192)===128&&(We&192)===128&&(Ye&192)===128&&(je=(re&15)<<18|(Xe&63)<<12|(We&63)<<6|Ye&63,je>65535&&je<1114112&&(fe=je))}}fe===null?(fe=65533,Ne=1):fe>65535&&(fe-=65536,B.push(fe>>>10&1023|55296),fe=56320|fe&1023),B.push(fe),J+=Ne}return lt(B)}const Ve=4096;function lt(A){const y=A.length;if(y<=Ve)return String.fromCharCode.apply(String,A);let w="",B=0;for(;B<y;)w+=String.fromCharCode.apply(String,A.slice(B,B+=Ve));return w}function Se(A,y,w){let B="";w=Math.min(A.length,w);for(let J=y;J<w;++J)B+=String.fromCharCode(A[J]&127);return B}function K(A,y,w){let B="";w=Math.min(A.length,w);for(let J=y;J<w;++J)B+=String.fromCharCode(A[J]);return B}function de(A,y,w){const B=A.length;(!y||y<0)&&(y=0),(!w||w<0||w>B)&&(w=B);let J="";for(let re=y;re<w;++re)J+=V[A[re]];return J}function ce(A,y,w){const B=A.slice(y,w);let J="";for(let re=0;re<B.length-1;re+=2)J+=String.fromCharCode(B[re]+B[re+1]*256);return J}h.prototype.slice=function(y,w){const B=this.length;y=~~y,w=w===void 0?B:~~w,y<0?(y+=B,y<0&&(y=0)):y>B&&(y=B),w<0?(w+=B,w<0&&(w=0)):w>B&&(w=B),w<y&&(w=y);const J=this.subarray(y,w);return Object.setPrototypeOf(J,h.prototype),J};function U(A,y,w){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+y>w)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(y,w,B){y=y>>>0,w=w>>>0,B||U(y,w,this.length);let J=this[y],re=1,fe=0;for(;++fe<w&&(re*=256);)J+=this[y+fe]*re;return J},h.prototype.readUintBE=h.prototype.readUIntBE=function(y,w,B){y=y>>>0,w=w>>>0,B||U(y,w,this.length);let J=this[y+--w],re=1;for(;w>0&&(re*=256);)J+=this[y+--w]*re;return J},h.prototype.readUint8=h.prototype.readUInt8=function(y,w){return y=y>>>0,w||U(y,1,this.length),this[y]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(y,w){return y=y>>>0,w||U(y,2,this.length),this[y]|this[y+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(y,w){return y=y>>>0,w||U(y,2,this.length),this[y]<<8|this[y+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(y,w){return y=y>>>0,w||U(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(y,w){return y=y>>>0,w||U(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},h.prototype.readBigUInt64LE=Z(function(y){y=y>>>0,Gt(y,"offset");const w=this[y],B=this[y+7];(w===void 0||B===void 0)&&_t(y,this.length-8);const J=w+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,re=this[++y]+this[++y]*2**8+this[++y]*2**16+B*2**24;return BigInt(J)+(BigInt(re)<<BigInt(32))}),h.prototype.readBigUInt64BE=Z(function(y){y=y>>>0,Gt(y,"offset");const w=this[y],B=this[y+7];(w===void 0||B===void 0)&&_t(y,this.length-8);const J=w*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],re=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+B;return(BigInt(J)<<BigInt(32))+BigInt(re)}),h.prototype.readIntLE=function(y,w,B){y=y>>>0,w=w>>>0,B||U(y,w,this.length);let J=this[y],re=1,fe=0;for(;++fe<w&&(re*=256);)J+=this[y+fe]*re;return re*=128,J>=re&&(J-=Math.pow(2,8*w)),J},h.prototype.readIntBE=function(y,w,B){y=y>>>0,w=w>>>0,B||U(y,w,this.length);let J=w,re=1,fe=this[y+--J];for(;J>0&&(re*=256);)fe+=this[y+--J]*re;return re*=128,fe>=re&&(fe-=Math.pow(2,8*w)),fe},h.prototype.readInt8=function(y,w){return y=y>>>0,w||U(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},h.prototype.readInt16LE=function(y,w){y=y>>>0,w||U(y,2,this.length);const B=this[y]|this[y+1]<<8;return B&32768?B|4294901760:B},h.prototype.readInt16BE=function(y,w){y=y>>>0,w||U(y,2,this.length);const B=this[y+1]|this[y]<<8;return B&32768?B|4294901760:B},h.prototype.readInt32LE=function(y,w){return y=y>>>0,w||U(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},h.prototype.readInt32BE=function(y,w){return y=y>>>0,w||U(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},h.prototype.readBigInt64LE=Z(function(y){y=y>>>0,Gt(y,"offset");const w=this[y],B=this[y+7];(w===void 0||B===void 0)&&_t(y,this.length-8);const J=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+(B<<24);return(BigInt(J)<<BigInt(32))+BigInt(w+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),h.prototype.readBigInt64BE=Z(function(y){y=y>>>0,Gt(y,"offset");const w=this[y],B=this[y+7];(w===void 0||B===void 0)&&_t(y,this.length-8);const J=(w<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(J)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+B)}),h.prototype.readFloatLE=function(y,w){return y=y>>>0,w||U(y,4,this.length),n.read(this,y,!0,23,4)},h.prototype.readFloatBE=function(y,w){return y=y>>>0,w||U(y,4,this.length),n.read(this,y,!1,23,4)},h.prototype.readDoubleLE=function(y,w){return y=y>>>0,w||U(y,8,this.length),n.read(this,y,!0,52,8)},h.prototype.readDoubleBE=function(y,w){return y=y>>>0,w||U(y,8,this.length),n.read(this,y,!1,52,8)};function te(A,y,w,B,J,re){if(!h.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>J||y<re)throw new RangeError('"value" argument is out of bounds');if(w+B>A.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(y,w,B,J){if(y=+y,w=w>>>0,B=B>>>0,!J){const Ne=Math.pow(2,8*B)-1;te(this,y,w,B,Ne,0)}let re=1,fe=0;for(this[w]=y&255;++fe<B&&(re*=256);)this[w+fe]=y/re&255;return w+B},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(y,w,B,J){if(y=+y,w=w>>>0,B=B>>>0,!J){const Ne=Math.pow(2,8*B)-1;te(this,y,w,B,Ne,0)}let re=B-1,fe=1;for(this[w+re]=y&255;--re>=0&&(fe*=256);)this[w+re]=y/fe&255;return w+B},h.prototype.writeUint8=h.prototype.writeUInt8=function(y,w,B){return y=+y,w=w>>>0,B||te(this,y,w,1,255,0),this[w]=y&255,w+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(y,w,B){return y=+y,w=w>>>0,B||te(this,y,w,2,65535,0),this[w]=y&255,this[w+1]=y>>>8,w+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(y,w,B){return y=+y,w=w>>>0,B||te(this,y,w,2,65535,0),this[w]=y>>>8,this[w+1]=y&255,w+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(y,w,B){return y=+y,w=w>>>0,B||te(this,y,w,4,4294967295,0),this[w+3]=y>>>24,this[w+2]=y>>>16,this[w+1]=y>>>8,this[w]=y&255,w+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(y,w,B){return y=+y,w=w>>>0,B||te(this,y,w,4,4294967295,0),this[w]=y>>>24,this[w+1]=y>>>16,this[w+2]=y>>>8,this[w+3]=y&255,w+4};function ye(A,y,w,B,J){qt(y,B,J,A,w,7);let re=Number(y&BigInt(4294967295));A[w++]=re,re=re>>8,A[w++]=re,re=re>>8,A[w++]=re,re=re>>8,A[w++]=re;let fe=Number(y>>BigInt(32)&BigInt(4294967295));return A[w++]=fe,fe=fe>>8,A[w++]=fe,fe=fe>>8,A[w++]=fe,fe=fe>>8,A[w++]=fe,w}function Ie(A,y,w,B,J){qt(y,B,J,A,w,7);let re=Number(y&BigInt(4294967295));A[w+7]=re,re=re>>8,A[w+6]=re,re=re>>8,A[w+5]=re,re=re>>8,A[w+4]=re;let fe=Number(y>>BigInt(32)&BigInt(4294967295));return A[w+3]=fe,fe=fe>>8,A[w+2]=fe,fe=fe>>8,A[w+1]=fe,fe=fe>>8,A[w]=fe,w+8}h.prototype.writeBigUInt64LE=Z(function(y,w=0){return ye(this,y,w,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Z(function(y,w=0){return Ie(this,y,w,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(y,w,B,J){if(y=+y,w=w>>>0,!J){const Xe=Math.pow(2,8*B-1);te(this,y,w,B,Xe-1,-Xe)}let re=0,fe=1,Ne=0;for(this[w]=y&255;++re<B&&(fe*=256);)y<0&&Ne===0&&this[w+re-1]!==0&&(Ne=1),this[w+re]=(y/fe>>0)-Ne&255;return w+B},h.prototype.writeIntBE=function(y,w,B,J){if(y=+y,w=w>>>0,!J){const Xe=Math.pow(2,8*B-1);te(this,y,w,B,Xe-1,-Xe)}let re=B-1,fe=1,Ne=0;for(this[w+re]=y&255;--re>=0&&(fe*=256);)y<0&&Ne===0&&this[w+re+1]!==0&&(Ne=1),this[w+re]=(y/fe>>0)-Ne&255;return w+B},h.prototype.writeInt8=function(y,w,B){return y=+y,w=w>>>0,B||te(this,y,w,1,127,-128),y<0&&(y=255+y+1),this[w]=y&255,w+1},h.prototype.writeInt16LE=function(y,w,B){return y=+y,w=w>>>0,B||te(this,y,w,2,32767,-32768),this[w]=y&255,this[w+1]=y>>>8,w+2},h.prototype.writeInt16BE=function(y,w,B){return y=+y,w=w>>>0,B||te(this,y,w,2,32767,-32768),this[w]=y>>>8,this[w+1]=y&255,w+2},h.prototype.writeInt32LE=function(y,w,B){return y=+y,w=w>>>0,B||te(this,y,w,4,2147483647,-2147483648),this[w]=y&255,this[w+1]=y>>>8,this[w+2]=y>>>16,this[w+3]=y>>>24,w+4},h.prototype.writeInt32BE=function(y,w,B){return y=+y,w=w>>>0,B||te(this,y,w,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[w]=y>>>24,this[w+1]=y>>>16,this[w+2]=y>>>8,this[w+3]=y&255,w+4},h.prototype.writeBigInt64LE=Z(function(y,w=0){return ye(this,y,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Z(function(y,w=0){return Ie(this,y,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Le(A,y,w,B,J,re){if(w+B>A.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function ze(A,y,w,B,J){return y=+y,w=w>>>0,J||Le(A,y,w,4),n.write(A,y,w,B,23,4),w+4}h.prototype.writeFloatLE=function(y,w,B){return ze(this,y,w,!0,B)},h.prototype.writeFloatBE=function(y,w,B){return ze(this,y,w,!1,B)};function Je(A,y,w,B,J){return y=+y,w=w>>>0,J||Le(A,y,w,8),n.write(A,y,w,B,52,8),w+8}h.prototype.writeDoubleLE=function(y,w,B){return Je(this,y,w,!0,B)},h.prototype.writeDoubleBE=function(y,w,B){return Je(this,y,w,!1,B)},h.prototype.copy=function(y,w,B,J){if(!h.isBuffer(y))throw new TypeError("argument should be a Buffer");if(B||(B=0),!J&&J!==0&&(J=this.length),w>=y.length&&(w=y.length),w||(w=0),J>0&&J<B&&(J=B),J===B||y.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),y.length-w<J-B&&(J=y.length-w+B);const re=J-B;return this===y&&typeof s.prototype.copyWithin=="function"?this.copyWithin(w,B,J):s.prototype.set.call(y,this.subarray(B,J),w),re},h.prototype.fill=function(y,w,B,J){if(typeof y=="string"){if(typeof w=="string"?(J=w,w=0,B=this.length):typeof B=="string"&&(J=B,B=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!h.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(y.length===1){const fe=y.charCodeAt(0);(J==="utf8"&&fe<128||J==="latin1")&&(y=fe)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(w<0||this.length<w||this.length<B)throw new RangeError("Out of range index");if(B<=w)return this;w=w>>>0,B=B===void 0?this.length:B>>>0,y||(y=0);let re;if(typeof y=="number")for(re=w;re<B;++re)this[re]=y;else{const fe=h.isBuffer(y)?y:h.from(y,J),Ne=fe.length;if(Ne===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(re=0;re<B-w;++re)this[re+w]=fe[re%Ne]}return this};const et={};function rt(A,y,w){et[A]=class extends w{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(J){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:J,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}rt("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),rt("ERR_INVALID_ARG_TYPE",function(A,y){return`The "${A}" argument must be of type number. Received type ${typeof y}`},TypeError),rt("ERR_OUT_OF_RANGE",function(A,y,w){let B=`The value of "${A}" is out of range.`,J=w;return Number.isInteger(w)&&Math.abs(w)>2**32?J=tn(String(w)):typeof w=="bigint"&&(J=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&(J=tn(J)),J+="n"),B+=` It must be ${y}. Received ${J}`,B},RangeError);function tn(A){let y="",w=A.length;const B=A[0]==="-"?1:0;for(;w>=B+4;w-=3)y=`_${A.slice(w-3,w)}${y}`;return`${A.slice(0,w)}${y}`}function tt(A,y,w){Gt(y,"offset"),(A[y]===void 0||A[y+w]===void 0)&&_t(y,A.length-(w+1))}function qt(A,y,w,B,J,re){if(A>w||A<y){const fe=typeof y=="bigint"?"n":"";let Ne;throw re>3?y===0||y===BigInt(0)?Ne=`>= 0${fe} and < 2${fe} ** ${(re+1)*8}${fe}`:Ne=`>= -(2${fe} ** ${(re+1)*8-1}${fe}) and < 2 ** ${(re+1)*8-1}${fe}`:Ne=`>= ${y}${fe} and <= ${w}${fe}`,new et.ERR_OUT_OF_RANGE("value",Ne,A)}tt(B,J,re)}function Gt(A,y){if(typeof A!="number")throw new et.ERR_INVALID_ARG_TYPE(y,"number",A)}function _t(A,y,w){throw Math.floor(A)!==A?(Gt(A,w),new et.ERR_OUT_OF_RANGE(w||"offset","an integer",A)):y<0?new et.ERR_BUFFER_OUT_OF_BOUNDS:new et.ERR_OUT_OF_RANGE(w||"offset",`>= ${w?1:0} and <= ${y}`,A)}const Dn=/[^+/0-9A-Za-z-_]/g;function nn(A){if(A=A.split("=")[0],A=A.trim().replace(Dn,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function Yt(A,y){y=y||1/0;let w;const B=A.length;let J=null;const re=[];for(let fe=0;fe<B;++fe){if(w=A.charCodeAt(fe),w>55295&&w<57344){if(!J){if(w>56319){(y-=3)>-1&&re.push(239,191,189);continue}else if(fe+1===B){(y-=3)>-1&&re.push(239,191,189);continue}J=w;continue}if(w<56320){(y-=3)>-1&&re.push(239,191,189),J=w;continue}w=(J-55296<<10|w-56320)+65536}else J&&(y-=3)>-1&&re.push(239,191,189);if(J=null,w<128){if((y-=1)<0)break;re.push(w)}else if(w<2048){if((y-=2)<0)break;re.push(w>>6|192,w&63|128)}else if(w<65536){if((y-=3)<0)break;re.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((y-=4)<0)break;re.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return re}function mt(A){const y=[];for(let w=0;w<A.length;++w)y.push(A.charCodeAt(w)&255);return y}function un(A,y){let w,B,J;const re=[];for(let fe=0;fe<A.length&&!((y-=2)<0);++fe)w=A.charCodeAt(fe),B=w>>8,J=w%256,re.push(J),re.push(B);return re}function dn(A){return e.toByteArray(nn(A))}function vn(A,y,w,B){let J;for(J=0;J<B&&!(J+w>=y.length||J>=A.length);++J)y[J+w]=A[J];return J}function gt(A,y){return A instanceof y||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===y.name}function Q(A){return A!==A}const V=function(){const A="0123456789abcdef",y=new Array(256);for(let w=0;w<16;++w){const B=w*16;for(let J=0;J<16;++J)y[B+J]=A[w]+A[J]}return y}();function Z(A){return typeof BigInt>"u"?ie:A}function ie(){throw new Error("BigInt not supported")}})(Qn);const Xi=Qn.Buffer;Qn.Blob,Qn.BlobOptions,Qn.Buffer,Qn.File,Qn.FileOptions,Qn.INSPECT_MAX_BYTES,Qn.SlowBuffer,Qn.TranscodeEncoding,Qn.atob,Qn.btoa,Qn.constants,Qn.isAscii,Qn.isUtf8,Qn.kMaxLength,Qn.kStringMaxLength,Qn.resolveObjectURL,Qn.transcode;const mg={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Xi=="function")return Xi.from(t,"base64");if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,i,s){const a=n;let l;if(typeof Xi=="function")l=a instanceof Xi?a.toString("base64"):Xi.from(a.buffer).toString("base64");else if(typeof btoa=="function"){let f="";for(let d=0;d<a.length;++d)f+=String.fromCharCode(a[d]);l=btoa(f)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Tt.BLOCK_LITERAL),e!==Tt.QUOTE_DOUBLE){const f=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),d=Math.ceil(l.length/f),h=new Array(d);for(let g=0,S=0;g<d;++g,S+=f)h[g]=l.substr(S,f);l=h.join(e===Tt.BLOCK_LITERAL?`
`:" ")}return ug({comment:t,type:e,value:l},r,i,s)}};function QD(t,e){var n;if(jn(t))for(let r=0;r<t.items.length;++r){let i=t.items[r];if(!Xt(i)){if(Fn(i)){i.items.length>1&&e("Each pair must have its own sequence indicator");const s=i.items[0]||new br(new Tt(null));if(i.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${i.commentBefore}
${s.key.commentBefore}`:i.commentBefore),i.comment){const a=(n=s.value)!=null?n:s.key;a.comment=a.comment?`${i.comment}
${a.comment}`:i.comment}i=s}t.items[r]=Xt(i)?i:new br(i)}}else e("Expected a sequence for this tag");return t}function XD(t,e,n){const{replacer:r}=n,i=new du(t);i.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let a of e){typeof r=="function"&&(a=r.call(e,String(s++),a));let l,f;if(Array.isArray(a))if(a.length===2)l=a[0],f=a[1];else throw new TypeError(`Expected [key, value] tuple: ${a}`);else if(a&&a instanceof Object){const d=Object.keys(a);if(d.length===1)l=d[0],f=a[l];else throw new TypeError(`Expected { key: value } tuple: ${a}`)}else l=a;i.items.push(lg(l,f,n))}return i}const gg={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:QD,createNode:XD};class mu extends du{constructor(){super(),this.add=ki.prototype.add.bind(this),this.delete=ki.prototype.delete.bind(this),this.get=ki.prototype.get.bind(this),this.has=ki.prototype.has.bind(this),this.set=ki.prototype.set.bind(this),this.tag=mu.tag}toJSON(e,n){if(!n)return super.toJSON(e);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let s,a;if(Xt(i)?(s=Ji(i.key,"",n),a=Ji(i.value,s,n)):s=Ji(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,a)}return r}}mu.tag="tag:yaml.org,2002:omap";const yg={collection:"seq",identify:t=>t instanceof Map,nodeClass:mu,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=QD(t,e),r=[];for(const{key:i}of n.items)Dt(i)&&(r.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new mu,n)},createNode(t,e,n){const r=XD(t,e,n),i=new mu;return i.items=r.items,i}};function ZD({value:t,source:e},n){return e&&(t?ew:tw).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const ew={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Tt(!0),stringify:ZD},tw={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new Tt(!1),stringify:ZD},$C={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ai},EC={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Ai(t)}},SC={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new Tt(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const r=t.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length)}return e},stringify:Ai},Bc=t=>typeof t=="bigint"||Number.isInteger(t);function ud(t,e,n,{intAsBigInt:r}){const i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const a=BigInt(t);return i==="-"?BigInt(-1)*a:a}const s=parseInt(t,n);return i==="-"?-1*s:s}function vg(t,e,n){const{value:r}=t;if(Bc(r)){const i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return Ai(t)}const TC={identify:Bc,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>ud(t,2,2,n),stringify:t=>vg(t,2,"0b")},kC={identify:Bc,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>ud(t,1,8,n),stringify:t=>vg(t,8,"0")},AC={identify:Bc,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>ud(t,0,10,n),stringify:Ai},CC={identify:Bc,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>ud(t,2,16,n),stringify:t=>vg(t,16,"0x")};class gu extends ki{constructor(e){super(e),this.tag=gu.tag}add(e){let n;Xt(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new br(e.key,null):n=new br(e,null),ra(this.items,n.key)||this.items.push(n)}get(e,n){const r=ra(this.items,e);return!n&&Xt(r)?Dt(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=ra(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new br(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}}gu.tag="tag:yaml.org,2002:set";const bg={collection:"map",identify:t=>t instanceof Set,nodeClass:gu,default:!1,tag:"tag:yaml.org,2002:set",resolve(t,e){if(Fn(t)){if(t.hasAllNullValues(!0))return Object.assign(new gu,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t},createNode(t,e,n){const{replacer:r}=n,i=new gu(t);if(e&&Symbol.iterator in Object(e))for(let s of e)typeof r=="function"&&(s=r.call(e,s,s)),i.items.push(lg(s,null,n));return i}};function Dg(t,e){const n=t[0],r=n==="-"||n==="+"?t.substring(1):t,i=a=>e?BigInt(a):Number(a),s=r.replace(/_/g,"").split(":").reduce((a,l)=>a*i(60)+i(l),i(0));return n==="-"?i(-1)*s:s}function nw(t){let{value:e}=t,n=a=>a;if(typeof e=="bigint")n=a=>BigInt(a);else if(isNaN(e)||!isFinite(e))return Ai(t);let r="";e<0&&(r="-",e*=n(-1));const i=n(60),s=[e%i];return e<60?s.unshift(0):(e=(e-s[0])/i,s.unshift(e%i),e>=60&&(e=(e-s[0])/i,s.unshift(e))),r+s.map(a=>a<10?"0"+String(a):String(a)).join(":").replace(/000000\d*$/,"")}const rw={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>Dg(t,n),stringify:nw},iw={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>Dg(t,!1),stringify:nw},cd={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(cd.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,s,a,l]=e.map(Number),f=e[7]?Number((e[7]+"00").substr(1,3)):0;let d=Date.UTC(n,r-1,i,s||0,a||0,l||0,f);const h=e[8];if(h&&h!=="Z"){let g=Dg(h,!1);Math.abs(g)<30&&(g*=60),d-=6e4*g}return new Date(d)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},sw=[fu,hu,rd,id,ew,tw,TC,kC,AC,CC,$C,EC,SC,mg,yg,gg,bg,rw,iw,cd],ow=new Map([["core",fC],["failsafe",[fu,hu,rd]],["json",pC],["yaml11",sw],["yaml-1.1",sw]]),aw={binary:mg,bool:fg,float:VD,floatExp:UD,floatNaN:WD,floatTime:iw,int:zD,intHex:YD,intOct:KD,intTime:rw,map:fu,null:id,omap:yg,pairs:gg,seq:hu,set:bg,timestamp:cd},OC={"tag:yaml.org,2002:binary":mg,"tag:yaml.org,2002:omap":yg,"tag:yaml.org,2002:pairs":gg,"tag:yaml.org,2002:set":bg,"tag:yaml.org,2002:timestamp":cd};function wg(t,e){let n=ow.get(e);if(!n)if(Array.isArray(t))n=[];else{const r=Array.from(ow.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${r} or define customTags array`)}if(Array.isArray(t))for(const r of t)n=n.concat(r);else typeof t=="function"&&(n=t(n.slice()));return n.map(r=>{if(typeof r!="string")return r;const i=aw[r];if(i)return i;const s=Object.keys(aw).map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown custom tag "${r}"; use one of ${s}`)})}const PC=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class _g{constructor({compat:e,customTags:n,merge:r,resolveKnownTags:i,schema:s,sortMapEntries:a,toStringDefaults:l}){this.compat=Array.isArray(e)?wg(e,"compat"):e?wg(null,e):null,this.merge=!!r,this.name=typeof s=="string"&&s||"core",this.knownTags=i?OC:{},this.tags=wg(n,this.name),this.toStringOptions=l!=null?l:null,Object.defineProperty(this,lo,{value:fu}),Object.defineProperty(this,Ss,{value:rd}),Object.defineProperty(this,uu,{value:hu}),this.sortMapEntries=typeof a=="function"?a:a===!0?PC:null}clone(){const e=Object.create(_g.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function NC(t,e){var f;const n=[];let r=e.directives===!0;if(e.directives!==!1&&t.directives){const d=t.directives.toString(t);d?(n.push(d),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");const i=LD(t,e),{commentString:s}=i.options;if(t.commentBefore){n.length!==1&&n.unshift("");const d=s(t.commentBefore);n.unshift(Ts(d,""))}let a=!1,l=null;if(t.contents){if(an(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){const g=s(t.contents.commentBefore);n.push(Ts(g,""))}i.forceBlockIndent=!!t.comment,l=t.contents.comment}const d=l?void 0:()=>a=!0;let h=na(t.contents,i,()=>l=null,d);l&&(h+=fo(h,"",s(l))),(h[0]==="|"||h[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${h}`:n.push(h)}else n.push(na(t.contents,i));if((f=t.directives)!=null&&f.docEnd)if(t.comment){const d=s(t.comment);d.includes(`
`)?(n.push("..."),n.push(Ts(d,""))):n.push(`... ${d}`)}else n.push("...");else{let d=t.comment;d&&a&&(d=d.replace(/^\n+/,"")),d&&((!a||l)&&n[n.length-1]!==""&&n.push(""),n.push(Ts(s(d),"")))}return n.join(`
`)+`
`}function qc(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,s=r.length;i<s;++i){const a=r[i],l=qc(t,r,String(i),a);l===void 0?delete r[i]:l!==a&&(r[i]=l)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const s=r.get(i),a=qc(t,r,i,s);a===void 0?r.delete(i):a!==s&&r.set(i,a)}else if(r instanceof Set)for(const i of Array.from(r)){const s=qc(t,r,i,i);s===void 0?r.delete(i):s!==i&&(r.delete(i),r.add(s))}else for(const[i,s]of Object.entries(r)){const a=qc(t,r,i,s);a===void 0?delete r[i]:a!==s&&(r[i]=a)}return t.call(e,n,r)}class Wc{constructor(e,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,ai,{value:rg});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},r);this.options=s;let{version:a}=s;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(a=this.directives.yaml.version)):this.directives=new vr({version:a}),this.setSchema(a,r),e===void 0?this.contents=null:this.contents=this.createNode(e,i,r)}clone(){const e=Object.create(Wc.prototype,{[ai]:{value:rg}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=an(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){yu(this.contents)&&this.contents.add(e)}addIn(e,n){yu(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const r=ND(this);e.anchor=!n||r.has(n)?FD(n||"a",r):n}return new sg(e.anchor)}createNode(e,n,r){let i;if(typeof n=="function")e=n.call({"":e},"",e),i=n;else if(Array.isArray(n)){const C=T=>typeof T=="number"||T instanceof String||T instanceof Number,R=n.filter(C).map(String);R.length>0&&(n=n.concat(R)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:s,anchorPrefix:a,flow:l,keepUndefined:f,onTagObj:d,tag:h}=r!=null?r:{},{onAnchor:g,setAnchors:S,sourceObjects:O}=JA(this,a||"a"),I={aliasDuplicateObjects:s!=null?s:!0,keepUndefined:f!=null?f:!1,onAnchor:g,onTagObj:d,replacer:i,schema:this.schema,sourceObjects:O},P=Lc(e,h,I);return l&&Rn(P)&&(P.flow=!0),S(),P}createPair(e,n,r={}){const i=this.createNode(e,null,r),s=this.createNode(n,null,r);return new br(i,s)}delete(e){return yu(this.contents)?this.contents.delete(e):!1}deleteIn(e){return jc(e)?this.contents==null?!1:(this.contents=null,!0):yu(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return Rn(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return jc(e)?!n&&Dt(this.contents)?this.contents.value:this.contents:Rn(this.contents)?this.contents.getIn(e,n):void 0}has(e){return Rn(this.contents)?this.contents.has(e):!1}hasIn(e){return jc(e)?this.contents!==void 0:Rn(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=Yf(this.schema,[e],n):yu(this.contents)&&this.contents.set(e,n)}setIn(e,n){jc(e)?this.contents=n:this.contents==null?this.contents=Yf(this.schema,Array.from(e),n):yu(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new vr({version:"1.1"}),r={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new vr({version:e}),r={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new _g(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:s,reviver:a}={}){const l={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100,stringify:na},f=Ji(this.contents,n!=null?n:"",l);if(typeof s=="function")for(const{count:d,res:h}of l.anchors.values())s(h,d);return typeof a=="function"?qc(a,{"":f},"",f):f}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return NC(this,e)}}function yu(t){if(Rn(t))return!0;throw new Error("Expected a YAML collection as document contents")}class uw extends Error{constructor(e,n,r,i){super(),this.name=e,this.code=r,this.message=i,this.pos=n}}class Uc extends uw{constructor(e,n,r){super("YAMLParseError",e,n,r)}}class FC extends uw{constructor(e,n,r){super("YAMLWarning",e,n,r)}}const cw=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(l=>e.linePos(l));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let s=i-1,a=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(s>=60&&a.length>80){const l=Math.min(s-39,a.length-79);a="\u2026"+a.substring(l),s-=l-1}if(a.length>80&&(a=a.substring(0,79)+"\u2026"),r>1&&/^ *$/.test(a.substring(0,s))){let l=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);l.length>80&&(l=l.substring(0,79)+`\u2026
`),a=l+a}if(/[^ ]/.test(a)){let l=1;const f=n.linePos[1];f&&f.line===r&&f.col>i&&(l=Math.max(1,Math.min(f.col-i,80-s)));const d=" ".repeat(s)+"^".repeat(l);n.message+=`:

${a}
${d}
`}};function vu(t,{flow:e,indicator:n,next:r,offset:i,onError:s,startOnNewline:a}){let l=!1,f=a,d=a,h="",g="",S=!1,O=!1,I=!1,P=null,C=null,R=null,T=null,v=null;for(const _ of t)switch(I&&(_.type!=="space"&&_.type!=="newline"&&_.type!=="comma"&&s(_.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),I=!1),_.type){case"space":!e&&f&&n!=="doc-start"&&_.source[0]==="	"&&s(_,"TAB_AS_INDENT","Tabs are not allowed as indentation"),d=!0;break;case"comment":{d||s(_,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const $=_.source.substring(1)||" ";h?h+=g+$:h=$,g="",f=!1;break}case"newline":f?h?h+=_.source:l=!0:g+=_.source,f=!0,S=!0,(P||C)&&(O=!0),d=!0;break;case"anchor":P&&s(_,"MULTIPLE_ANCHORS","A node can have at most one anchor"),_.source.endsWith(":")&&s(_.offset+_.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),P=_,v===null&&(v=_.offset),f=!1,d=!1,I=!0;break;case"tag":{C&&s(_,"MULTIPLE_TAGS","A node can have at most one tag"),C=_,v===null&&(v=_.offset),f=!1,d=!1,I=!0;break}case n:(P||C)&&s(_,"BAD_PROP_ORDER",`Anchors and tags must be after the ${_.source} indicator`),T&&s(_,"UNEXPECTED_TOKEN",`Unexpected ${_.source} in ${e!=null?e:"collection"}`),T=_,f=!1,d=!1;break;case"comma":if(e){R&&s(_,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),R=_,f=!1,d=!1;break}default:s(_,"UNEXPECTED_TOKEN",`Unexpected ${_.type} token`),f=!1,d=!1}const D=t[t.length-1],b=D?D.offset+D.source.length:i;return I&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&s(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:R,found:T,spaceBefore:l,comment:h,hasNewline:S,hasNewlineAfterProp:O,anchor:P,tag:C,end:b,start:v!=null?v:b}}function Vc(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(Vc(e.key)||Vc(e.value))return!0}return!1;default:return!0}}function $g(t,e,n){if((e==null?void 0:e.type)==="flow-collection"){const r=e.end[0];r.indent===t&&(r.source==="]"||r.source==="}")&&Vc(e)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function lw(t,e,n){const{uniqueKeys:r}=t.options;if(r===!1)return!1;const i=typeof r=="function"?r:(s,a)=>s===a||Dt(s)&&Dt(a)&&s.value===a.value&&!(s.value==="<<"&&t.schema.merge);return e.some(s=>i(s.key,n))}const fw="All mapping items must start at the same column";function RC({composeNode:t,composeEmptyNode:e},n,r,i){var f;const s=new ki(n.schema);n.atRoot&&(n.atRoot=!1);let a=r.offset,l=null;for(const d of r.items){const{start:h,key:g,sep:S,value:O}=d,I=vu(h,{indicator:"explicit-key-ind",next:g!=null?g:S==null?void 0:S[0],offset:a,onError:i,startOnNewline:!0}),P=!I.found;if(P){if(g&&(g.type==="block-seq"?i(a,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in g&&g.indent!==r.indent&&i(a,"BAD_INDENT",fw)),!I.anchor&&!I.tag&&!S){l=I.end,I.comment&&(s.comment?s.comment+=`
`+I.comment:s.comment=I.comment);continue}(I.hasNewlineAfterProp||Vc(g))&&i(g!=null?g:h[h.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((f=I.found)==null?void 0:f.indent)!==r.indent&&i(a,"BAD_INDENT",fw);const C=I.end,R=g?t(n,g,I,i):e(n,C,h,null,I,i);n.schema.compat&&$g(r.indent,g,i),lw(n,s.items,R)&&i(C,"DUPLICATE_KEY","Map keys must be unique");const T=vu(S!=null?S:[],{indicator:"map-value-ind",next:O,offset:R.range[2],onError:i,startOnNewline:!g||g.type==="block-scalar"});if(a=T.end,T.found){P&&((O==null?void 0:O.type)==="block-map"&&!T.hasNewline&&i(a,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&I.start<T.found.offset-1024&&i(R.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const v=O?t(n,O,T,i):e(n,a,S,null,T,i);n.schema.compat&&$g(r.indent,O,i),a=v.range[2];const D=new br(R,v);n.options.keepSourceTokens&&(D.srcToken=d),s.items.push(D)}else{P&&i(R.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),T.comment&&(R.comment?R.comment+=`
`+T.comment:R.comment=T.comment);const v=new br(R);n.options.keepSourceTokens&&(v.srcToken=d),s.items.push(v)}}return l&&l<a&&i(l,"IMPOSSIBLE","Map comment with trailing content"),s.range=[r.offset,a,l!=null?l:a],s}function IC({composeNode:t,composeEmptyNode:e},n,r,i){const s=new du(n.schema);n.atRoot&&(n.atRoot=!1);let a=r.offset,l=null;for(const{start:f,value:d}of r.items){const h=vu(f,{indicator:"seq-item-ind",next:d,offset:a,onError:i,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||d)d&&d.type==="block-seq"?i(h.end,"BAD_INDENT","All sequence items must start at the same column"):i(a,"MISSING_CHAR","Sequence item without - indicator");else{l=h.end,h.comment&&(s.comment=h.comment);continue}const g=d?t(n,d,h,i):e(n,h.end,f,null,h,i);n.schema.compat&&$g(r.indent,d,i),a=g.range[2],s.items.push(g)}return s.range=[r.offset,a,l!=null?l:a],s}function Hc(t,e,n,r){let i="";if(t){let s=!1,a="";for(const l of t){const{source:f,type:d}=l;switch(d){case"space":s=!0;break;case"comment":{n&&!s&&r(l,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const h=f.substring(1)||" ";i?i+=a+h:i=h,a="";break}case"newline":i&&(a+=f),s=!0;break;default:r(l,"UNEXPECTED_TOKEN",`Unexpected ${d} at node end`)}e+=f.length}}return{comment:i,offset:e}}const Eg="Block collections are not allowed within flow collections",Sg=t=>t&&(t.type==="block-map"||t.type==="block-seq");function MC({composeNode:t,composeEmptyNode:e},n,r,i){var I;const s=r.start.source==="{",a=s?"flow map":"flow sequence",l=s?new ki(n.schema):new du(n.schema);l.flow=!0;const f=n.atRoot;f&&(n.atRoot=!1);let d=r.offset+r.start.source.length;for(let P=0;P<r.items.length;++P){const C=r.items[P],{start:R,key:T,sep:v,value:D}=C,b=vu(R,{flow:a,indicator:"explicit-key-ind",next:T!=null?T:v==null?void 0:v[0],offset:d,onError:i,startOnNewline:!1});if(!b.found){if(!b.anchor&&!b.tag&&!v&&!D){P===0&&b.comma?i(b.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):P<r.items.length-1&&i(b.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),b.comment&&(l.comment?l.comment+=`
`+b.comment:l.comment=b.comment),d=b.end;continue}!s&&n.options.strict&&Vc(T)&&i(T,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(P===0)b.comma&&i(b.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(b.comma||i(b.start,"MISSING_CHAR",`Missing , between ${a} items`),b.comment){let _="";e:for(const $ of R)switch($.type){case"comma":case"space":break;case"comment":_=$.source.substring(1);break e;default:break e}if(_){let $=l.items[l.items.length-1];Xt($)&&($=(I=$.value)!=null?I:$.key),$.comment?$.comment+=`
`+_:$.comment=_,b.comment=b.comment.substring(_.length+1)}}if(!s&&!v&&!b.found){const _=D?t(n,D,b,i):e(n,b.end,v,null,b,i);l.items.push(_),d=_.range[2],Sg(D)&&i(_.range,"BLOCK_IN_FLOW",Eg)}else{const _=b.end,$=T?t(n,T,b,i):e(n,_,R,null,b,i);Sg(T)&&i($.range,"BLOCK_IN_FLOW",Eg);const q=vu(v!=null?v:[],{flow:a,indicator:"map-value-ind",next:D,offset:$.range[2],onError:i,startOnNewline:!1});if(q.found){if(!s&&!b.found&&n.options.strict){if(v)for(const M of v){if(M===q.found)break;if(M.type==="newline"){i(M,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}b.start<q.found.offset-1024&&i(q.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else D&&("source"in D&&D.source&&D.source[0]===":"?i(D,"MISSING_CHAR",`Missing space after : in ${a}`):i(q.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const F=D?t(n,D,q,i):q.found?e(n,q.end,v,null,q,i):null;F?Sg(D)&&i(F.range,"BLOCK_IN_FLOW",Eg):q.comment&&($.comment?$.comment+=`
`+q.comment:$.comment=q.comment);const L=new br($,F);if(n.options.keepSourceTokens&&(L.srcToken=C),s){const M=l;lw(n,M.items,$)&&i(_,"DUPLICATE_KEY","Map keys must be unique"),M.items.push(L)}else{const M=new ki(n.schema);M.flow=!0,M.items.push(L),l.items.push(M)}d=F?F.range[2]:q.end}}const h=s?"}":"]",[g,...S]=r.end;let O=d;if(g&&g.source===h)O=g.offset+g.source.length;else{const P=a[0].toUpperCase()+a.substring(1),C=f?`${P} must end with a ${h}`:`${P} in block collection must be sufficiently indented and end with a ${h}`;i(d,f?"MISSING_CHAR":"BAD_INDENT",C),g&&g.source.length!==1&&S.unshift(g)}if(S.length>0){const P=Hc(S,O,n.options.strict,i);P.comment&&(l.comment?l.comment+=`
`+P.comment:l.comment=P.comment),l.range=[r.offset,O,P.offset]}else l.range=[r.offset,O,O];return l}function LC(t,e,n,r,i){let s;switch(n.type){case"block-map":{s=RC(t,e,n,i);break}case"block-seq":{s=IC(t,e,n,i);break}case"flow-collection":{s=MC(t,e,n,i);break}}if(!r)return s;const a=e.directives.tagName(r.source,S=>i(r,"TAG_RESOLVE_FAILED",S));if(!a)return s;const l=s.constructor;if(a==="!"||a===l.tagName)return s.tag=l.tagName,s;const f=Fn(s)?"map":"seq";let d=e.schema.tags.find(S=>S.collection===f&&S.tag===a);if(!d){const S=e.schema.knownTags[a];if(S&&S.collection===f)e.schema.tags.push(Object.assign({},S,{default:!1})),d=S;else return i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${a}`,!0),s.tag=a,s}const h=d.resolve(s,S=>i(r,"TAG_RESOLVE_FAILED",S),e.options),g=an(h)?h:new Tt(h);return g.range=s.range,g.tag=a,d!=null&&d.format&&(g.format=d.format),g}function jC(t,e,n){const r=t.offset,i=xC(t,e,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const s=i.mode===">"?Tt.BLOCK_FOLDED:Tt.BLOCK_LITERAL,a=t.source?BC(t.source):[];let l=a.length;for(let P=a.length-1;P>=0;--P){const C=a[P][1];if(C===""||C==="\r")l=P;else break}if(l===0){const P=i.chomp==="+"&&a.length>0?`
`.repeat(Math.max(1,a.length-1)):"";let C=r+i.length;return t.source&&(C+=t.source.length),{value:P,type:s,comment:i.comment,range:[r,C,C]}}let f=t.indent+i.indent,d=t.offset+i.length,h=0;for(let P=0;P<l;++P){const[C,R]=a[P];if(R===""||R==="\r")i.indent===0&&C.length>f&&(f=C.length);else{if(C.length<f){const T="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(d+C.length,"MISSING_CHAR",T)}i.indent===0&&(f=C.length),h=P;break}d+=C.length+R.length+1}for(let P=a.length-1;P>=l;--P)a[P][0].length>f&&(l=P+1);let g="",S="",O=!1;for(let P=0;P<h;++P)g+=a[P][0].slice(f)+`
`;for(let P=h;P<l;++P){let[C,R]=a[P];d+=C.length+R.length+1;const T=R[R.length-1]==="\r";if(T&&(R=R.slice(0,-1)),R&&C.length<f){const D=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(d-R.length-(T?2:1),"BAD_INDENT",D),C=""}s===Tt.BLOCK_LITERAL?(g+=S+C.slice(f)+R,S=`
`):C.length>f||R[0]==="	"?(S===" "?S=`
`:!O&&S===`
`&&(S=`

`),g+=S+C.slice(f)+R,S=`
`,O=!0):R===""?S===`
`?g+=`
`:S=`
`:(g+=S+R,S=" ",O=!1)}switch(i.chomp){case"-":break;case"+":for(let P=l;P<a.length;++P)g+=`
`+a[P][0].slice(f);g[g.length-1]!==`
`&&(g+=`
`);break;default:g+=`
`}const I=r+i.length+t.source.length;return{value:g,type:s,comment:i.comment,range:[r,I,I]}}function xC({offset:t,props:e},n,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=e[0],s=i[0];let a=0,l="",f=-1;for(let S=1;S<i.length;++S){const O=i[S];if(!l&&(O==="-"||O==="+"))l=O;else{const I=Number(O);!a&&I?a=I:f===-1&&(f=t+S)}}f!==-1&&r(f,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let d=!1,h="",g=i.length;for(let S=1;S<e.length;++S){const O=e[S];switch(O.type){case"space":d=!0;case"newline":g+=O.source.length;break;case"comment":n&&!d&&r(O,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),g+=O.source.length,h=O.source.substring(1);break;case"error":r(O,"UNEXPECTED_TOKEN",O.message),g+=O.source.length;break;default:{const I=`Unexpected token in block scalar header: ${O.type}`;r(O,"UNEXPECTED_TOKEN",I);const P=O.source;P&&typeof P=="string"&&(g+=P.length)}}}return{mode:s,indent:a,chomp:l,comment:h,length:g}}function BC(t){const e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),s=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let a=1;a<e.length;a+=2)s.push([e[a],e[a+1]]);return s}function qC(t,e,n){const{offset:r,type:i,source:s,end:a}=t;let l,f;const d=(S,O,I)=>n(r+S,O,I);switch(i){case"scalar":l=Tt.PLAIN,f=WC(s,d);break;case"single-quoted-scalar":l=Tt.QUOTE_SINGLE,f=UC(s,d);break;case"double-quoted-scalar":l=Tt.QUOTE_DOUBLE,f=VC(s,d);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+s.length,r+s.length]}}const h=r+s.length,g=Hc(a,h,e,n);return{value:f,type:l,comment:g.comment,range:[r,h,g.offset]}}function WC(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),dw(t)}function UC(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),dw(t.slice(1,-1)).replace(/''/g,"'")}function dw(t){var f;let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let i=r[1],s=" ",a=e.lastIndex;for(n.lastIndex=a;r=n.exec(t);)r[1]===""?s===`
`?i+=s:s=`
`:(i+=s+r[1],s=" "),a=n.lastIndex;const l=/[ \t]*(.*)/sy;return l.lastIndex=a,r=l.exec(t),i+s+((f=r==null?void 0:r[1])!=null?f:"")}function VC(t,e){let n="";for(let r=1;r<t.length-1;++r){const i=t[r];if(!(i==="\r"&&t[r+1]===`
`))if(i===`
`){const{fold:s,offset:a}=HC(t,r);n+=s,r=a}else if(i==="\\"){let s=t[++r];const a=KC[s];if(a)n+=a;else if(s===`
`)for(s=t[r+1];s===" "||s==="	";)s=t[++r+1];else if(s==="\r"&&t[r+1]===`
`)for(s=t[++r+1];s===" "||s==="	";)s=t[++r+1];else if(s==="x"||s==="u"||s==="U"){const l={x:2,u:4,U:8}[s];n+=zC(t,r+1,l,e),r+=l}else{const l=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${l}`),n+=l}}else if(i===" "||i==="	"){const s=r;let a=t[r+1];for(;a===" "||a==="	";)a=t[++r+1];a!==`
`&&!(a==="\r"&&t[r+2]===`
`)&&(n+=r>s?t.slice(s,r+1):i)}else n+=i}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function HC(t,e){let n="",r=t[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&t[e+2]!==`
`);)r===`
`&&(n+=`
`),e+=1,r=t[e+1];return n||(n=" "),{fold:n,offset:e}}const KC={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function zC(t,e,n,r){const i=t.substr(e,n),a=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(a)){const l=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${l}`),l}return String.fromCodePoint(a)}function hw(t,e,n,r){const{value:i,type:s,comment:a,range:l}=e.type==="block-scalar"?jC(e,t.options.strict,r):qC(e,t.options.strict,r),f=n?t.directives.tagName(n.source,g=>r(n,"TAG_RESOLVE_FAILED",g)):null,d=n&&f?YC(t.schema,i,f,n,r):e.type==="scalar"?GC(t,i,e,r):t.schema[Ss];let h;try{const g=d.resolve(i,S=>r(n!=null?n:e,"TAG_RESOLVE_FAILED",S),t.options);h=Dt(g)?g:new Tt(g)}catch(g){const S=g instanceof Error?g.message:String(g);r(n!=null?n:e,"TAG_RESOLVE_FAILED",S),h=new Tt(i)}return h.range=l,h.source=i,s&&(h.type=s),f&&(h.tag=f),d.format&&(h.format=d.format),a&&(h.comment=a),h}function YC(t,e,n,r,i){var l;if(n==="!")return t[Ss];const s=[];for(const f of t.tags)if(!f.collection&&f.tag===n)if(f.default&&f.test)s.push(f);else return f;for(const f of s)if((l=f.test)!=null&&l.test(e))return f;const a=t.knownTags[n];return a&&!a.collection?(t.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Ss])}function GC({directives:t,schema:e},n,r,i){var a;const s=e.tags.find(l=>{var f;return l.default&&((f=l.test)==null?void 0:f.test(n))})||e[Ss];if(e.compat){const l=(a=e.compat.find(f=>{var d;return f.default&&((d=f.test)==null?void 0:d.test(n))}))!=null?a:e[Ss];if(s.tag!==l.tag){const f=t.tagString(s.tag),d=t.tagString(l.tag),h=`Value may be parsed as either ${f} or ${d}`;i(r,"TAG_RESOLVE_FAILED",h,!0)}}return s}function JC(t,e,n){if(e){n===null&&(n=e.length);for(let r=n-1;r>=0;--r){let i=e[r];switch(i.type){case"space":case"comment":case"newline":t-=i.source.length;continue}for(i=e[++r];(i==null?void 0:i.type)==="space";)t+=i.source.length,i=e[++r];break}}return t}const QC={composeNode:pw,composeEmptyNode:Tg};function pw(t,e,n,r){const{spaceBefore:i,comment:s,anchor:a,tag:l}=n;let f,d=!0;switch(e.type){case"alias":f=XC(t,e,r),(a||l)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":f=hw(t,e,l,r),a&&(f.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":f=LC(QC,t,e,l,r),a&&(f.anchor=a.source.substring(1));break;default:{const h=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",h),f=Tg(t,e.offset,void 0,null,n,r),d=!1}}return a&&f.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(f.spaceBefore=!0),s&&(e.type==="scalar"&&e.source===""?f.comment=s:f.commentBefore=s),t.options.keepSourceTokens&&d&&(f.srcToken=e),f}function Tg(t,e,n,r,{spaceBefore:i,comment:s,anchor:a,tag:l,end:f},d){const h={type:"scalar",offset:JC(e,n,r),indent:-1,source:""},g=hw(t,h,l,d);return a&&(g.anchor=a.source.substring(1),g.anchor===""&&d(a,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(g.spaceBefore=!0),s&&(g.comment=s,g.range[2]=f),g}function XC({options:t},{offset:e,source:n,end:r},i){const s=new sg(n.substring(1));s.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&i(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const a=e+n.length,l=Hc(r,a,t.strict,i);return s.range=[e,a,l.offset],l.comment&&(s.comment=l.comment),s}function ZC(t,e,{offset:n,start:r,value:i,end:s},a){const l=Object.assign({_directives:e},t),f=new Wc(void 0,l),d={atRoot:!0,directives:f.directives,options:f.options,schema:f.schema},h=vu(r,{indicator:"doc-start",next:i!=null?i:s==null?void 0:s[0],offset:n,onError:a,startOnNewline:!0});h.found&&(f.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!h.hasNewline&&a(h.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),f.contents=i?pw(d,i,h,a):Tg(d,h.end,r,null,h,a);const g=f.contents.range[2],S=Hc(s,g,!1,a);return S.comment&&(f.comment=S.comment),f.range=[n,g,S.offset],f}function Kc(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function mw(t){var i;let e="",n=!1,r=!1;for(let s=0;s<t.length;++s){const a=t[s];switch(a[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(a.substring(1)||" "),n=!0,r=!1;break;case"%":((i=t[s+1])==null?void 0:i[0])!=="#"&&(s+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}class gw{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,s)=>{const a=Kc(n);s?this.warnings.push(new FC(a,r,i)):this.errors.push(new Uc(a,r,i))},this.directives=new vr({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:r,afterEmptyLine:i}=mw(this.prelude);if(r){const s=e.contents;if(n)e.comment=e.comment?`${e.comment}
${r}`:r;else if(i||e.directives.docStart||!s)e.commentBefore=r;else if(Rn(s)&&!s.flow&&s.items.length>0){let a=s.items[0];Xt(a)&&(a=a.key);const l=a.commentBefore;a.commentBefore=l?`${r}
${l}`:r}else{const a=s.commentBefore;s.commentBefore=a?`${r}
${a}`:r}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:mw(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,r=-1){for(const i of e)yield*this.next(i);yield*this.end(n,r)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,r,i)=>{const s=Kc(e);s[0]+=n,this.onError(s,"BAD_DIRECTIVE",r,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=ZC(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new Uc(Kc(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new Uc(Kc(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=Hc(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Uc(Kc(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const r=Object.assign({_directives:this.directives},this.options),i=new Wc(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}const yw=t=>"type"in t?ld(t):fd(t);function ld(t){switch(t.type){case"block-scalar":{let e="";for(const n of t.props)e+=ld(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(const n of t.items)e+=fd(n);return e}case"flow-collection":{let e=t.start.source;for(const n of t.items)e+=fd(n);for(const n of t.end)e+=n.source;return e}case"document":{let e=fd(t);if(t.end)for(const n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(const n of t.end)e+=n.source;return e}}}function fd({start:t,key:e,sep:n,value:r}){let i="";for(const s of t)i+=s.source;if(e&&(i+=ld(e)),n)for(const s of n)i+=s.source;return r&&(i+=ld(r)),i}const kg=Symbol("break visit"),eO=Symbol("skip children"),vw=Symbol("remove item");function ia(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),bw(Object.freeze([]),t,e)}ia.BREAK=kg,ia.SKIP=eO,ia.REMOVE=vw,ia.itemAtPath=(t,e)=>{let n=t;for(const[r,i]of e){const s=n==null?void 0:n[r];if(s&&"items"in s)n=s.items[i];else return}return n},ia.parentCollection=(t,e)=>{const n=ia.itemAtPath(t,e.slice(0,-1)),r=e[e.length-1][0],i=n==null?void 0:n[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function bw(t,e,n){let r=n(e,t);if(typeof r=="symbol")return r;for(const i of["key","value"]){const s=e[i];if(s&&"items"in s){for(let a=0;a<s.items.length;++a){const l=bw(Object.freeze(t.concat([[i,a]])),s.items[a],n);if(typeof l=="number")a=l-1;else{if(l===kg)return kg;l===vw&&(s.items.splice(a,1),a-=1)}}typeof r=="function"&&i==="key"&&(r=r(e,t))}}return typeof r=="function"?r(e,t):r}const Dw="\uFEFF",ww="",_w="",Ag="",tO=t=>!!t&&"items"in t,Cg=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function nO(t){switch(t){case Dw:return"byte-order-mark";case ww:return"doc-mode";case _w:return"flow-error-end";case Ag:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function ci(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const $w="0123456789ABCDEFabcdef".split(""),rO="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),Og=",[]{}".split(""),iO=` ,[]{}
\r	`.split(""),Pg=t=>!t||iO.includes(t);class sO{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){var i;e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!n;let r=(i=this.next)!=null?i:"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+e];if(n==="\r"){const i=this.buffer[r+e+1];if(i===`
`||!i&&!this.atEnd)return e+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?e+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&ci(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Dw&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length;const r=e.indexOf("#");if(r!==-1){const s=e[r-1];(s===" "||s==="	")&&(n=r-1)}for(;;){const s=e[n-1];if(s===" "||s==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield ww,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if(n==="---"&&ci(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(n==="..."&&ci(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ci(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&ci(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Pg),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,r=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&ci(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield _w,yield*this.parseLineStart();let s=0;for(;i[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),i[s]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Pg),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const a=this.charAt(1);if(this.flowKey||ci(a)||a===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let s=0;for(;this.buffer[n-1-s]==="\\";)s+=1;if(s%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const s=this.continueScalar(i+1);if(s===-1)break;i=r.indexOf(`
`,s)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>ci(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:e=i,n=0;break;case"\r":{const s=this.buffer[i+1];if(!s&&!this.atEnd)return this.setNext("block-scalar");if(s===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let i=e-1,s=this.buffer[i];s==="\r"&&(s=this.buffer[--i]);const a=i;for(;s===" "||s==="	";)s=this.buffer[--i];if(s===`
`&&i>=this.pos&&i+1+n>a)e=i;else break}while(!0);return yield Ag,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const s=this.buffer[r+1];if(ci(s)||e&&s===",")break;n=r}else if(ci(i)){let s=this.buffer[r+1];if(i==="\r"&&(s===`
`?(r+=1,i=`
`,s=this.buffer[r+1]):n=r),s==="#"||e&&Og.includes(s))break;if(i===`
`){const a=this.continueScalar(r+1);if(a===-1)break;r=Math.max(r,a-2)}}else{if(e&&Og.includes(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield Ag,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Pg))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(ci(n)||e&&Og.includes(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!ci(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(rO.includes(n))n=this.buffer[++e];else if(n==="%"&&$w.includes(this.buffer[e+1])&&$w.includes(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||e&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(e){let n=this.pos,r=this.buffer[n];for(;!e(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Ew{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,r=this.lineStarts.length;for(;n<r;){const s=n+r>>1;this.lineStarts[s]<e?n=s+1:r=s}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const i=this.lineStarts[n-1];return{line:n,col:e-i+1}}}}function Ci(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function Sw(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Tw(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function dd(t){var e;switch(t.type){case"document":return t.start;case"block-map":{const n=t.items[t.items.length-1];return(e=n.sep)!=null?e:n.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function bu(t){var n;if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=t[++e])==null?void 0:n.type)==="space";);return t.splice(e,t.length)}function kw(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!Ci(e.start,"explicit-key-ind")&&!Ci(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,Tw(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class Ng{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new sO,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(e,n))yield*this.next(r);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=nO(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e!=null?e:this.stack.pop();if(n)if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&kw(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!Ci(i.start,"explicit-key-ind");return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&Sw(i.start)===-1&&(n.indent===0||i.start.every(s=>s.type!=="comment"||s.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}else{const r="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:r}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Sw(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=dd(this.peek(2)),r=bu(n);let i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var r;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,s=Array.isArray(i)?i[i.length-1]:void 0;(s==null?void 0:s.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2],s=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const i=!this.onKeyLine&&this.indent===e.indent&&n.sep;let s=[];if(i&&n.sep&&!n.value){const a=[];for(let l=0;l<n.sep.length;++l){const f=n.sep[l];switch(f.type){case"newline":a.push(l);break;case"space":break;case"comment":f.indent>e.indent&&(a.length=0);break;default:a.length=0}}a.length>=2&&(s=n.sep.splice(a[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(s.push(this.sourceToken),e.items.push({start:s}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!Ci(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?(s.push(this.sourceToken),e.items.push({start:s})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(Ci(n.start,"explicit-key-ind"))if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Ci(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(Tw(n.key)&&!Ci(n.sep,"newline")){const a=bu(n.start),l=n.key,f=n.sep;f.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:l,sep:f}]})}else s.length>0?n.sep=n.sep.concat(s,this.sourceToken):n.sep.push(this.sourceToken);else if(Ci(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const a=bu(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?e.items.push({start:s,key:null,sep:[this.sourceToken]}):Ci(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);i||n.value?(e.items.push({start:s,key:a,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(a):(Object.assign(n,{key:a,sep:[]}),this.onKeyLine=!0);return}default:{const a=this.startBlockValue(e);if(a){i&&a.type!=="block-seq"&&Ci(n.start,"explicit-key-ind")&&e.items.push({start:s}),this.stack.push(a);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var r;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,s=Array.isArray(i)?i[i.length-1]:void 0;(s==null?void 0:s.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2],s=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||Ci(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const i=this.startBlockValue(e);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=dd(r),s=bu(i);kw(e);const a=e.end.splice(1,e.end.length);a.push(this.sourceToken);const l={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:a}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=l}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=dd(e),r=bu(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r}]}}case"map-value-ind":{this.onKeyLine=!0;const n=dd(e),r=bu(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function oO(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new Ew||null,prettyErrors:e}}function aO(t,e={}){const{lineCounter:n,prettyErrors:r}=oO(e),i=new Ng(n==null?void 0:n.addNewLine),s=new gw(e);let a=null;for(const l of s.compose(i.parse(t),!0,t.length))if(!a)a=l;else if(a.options.logLevel!=="silent"){a.errors.push(new Uc(l.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(a.errors.forEach(cw(t,n)),a.warnings.forEach(cw(t,n))),a}function uO(t,e,n){let r;typeof e=="function"?r=e:n===void 0&&e&&typeof e=="object"&&(n=e);const i=aO(t,n);if(!i)return null;if(i.warnings.forEach(s=>jD(i.options.logLevel,s)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function cO(t,e,n){var i;let r=null;if(typeof e=="function"||Array.isArray(e)?r=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){const s=Math.round(n);n=s<1?void 0:s>8?{indent:8}:{indent:s}}if(t===void 0){const{keepUndefined:s}=(i=n!=null?n:e)!=null?i:{};if(!s)return}return new Wc(t,r,n).toString(n)}function Zi(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function Aw(t,e){for(var n="",r=0,i=-1,s=0,a,l=0;l<=t.length;++l){if(l<t.length)a=t.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var f=n.lastIndexOf("/");if(f!==n.length-1){f===-1?(n="",r=0):(n=n.slice(0,f),r=n.length-1-n.lastIndexOf("/")),i=l,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=l,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(i+1,l):n=t.slice(i+1,l),r=l-i-1;i=l,s=0}else a===46&&s!==-1?++s:s=-1}return n}function lO(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}var Du={resolve:function(){for(var e="",n=!1,r,i=arguments.length-1;i>=-1&&!n;i--){var s;i>=0?s=arguments[i]:(r===void 0&&(r=Xo.cwd()),s=r),Zi(s),s.length!==0&&(e=s+"/"+e,n=s.charCodeAt(0)===47)}return e=Aw(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Zi(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=Aw(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return Zi(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];Zi(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Du.normalize(e)},relative:function(e,n){if(Zi(e),Zi(n),e===n||(e=Du.resolve(e),n=Du.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,s=i-r,a=1;a<n.length&&n.charCodeAt(a)===47;++a);for(var l=n.length,f=l-a,d=s<f?s:f,h=-1,g=0;g<=d;++g){if(g===d){if(f>d){if(n.charCodeAt(a+g)===47)return n.slice(a+g+1);if(g===0)return n.slice(a+g)}else s>d&&(e.charCodeAt(r+g)===47?h=g:g===0&&(h=0));break}var S=e.charCodeAt(r+g),O=n.charCodeAt(a+g);if(S!==O)break;S===47&&(h=g)}var I="";for(g=r+h+1;g<=i;++g)(g===i||e.charCodeAt(g)===47)&&(I.length===0?I+="..":I+="/..");return I.length>0?I+n.slice(a+h):(a+=h,n.charCodeAt(a)===47&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(Zi(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,i=-1,s=!0,a=e.length-1;a>=1;--a)if(n=e.charCodeAt(a),n===47){if(!s){i=a;break}}else s=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Zi(e);var r=0,i=-1,s=!0,a;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var l=n.length-1,f=-1;for(a=e.length-1;a>=0;--a){var d=e.charCodeAt(a);if(d===47){if(!s){r=a+1;break}}else f===-1&&(s=!1,f=a+1),l>=0&&(d===n.charCodeAt(l)?--l===-1&&(i=a):(l=-1,i=f))}return r===i?i=f:i===-1&&(i=e.length),e.slice(r,i)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!s){r=a+1;break}}else i===-1&&(s=!1,i=a+1);return i===-1?"":e.slice(r,i)}},extname:function(e){Zi(e);for(var n=-1,r=0,i=-1,s=!0,a=0,l=e.length-1;l>=0;--l){var f=e.charCodeAt(l);if(f===47){if(!s){r=l+1;break}continue}i===-1&&(s=!1,i=l+1),f===46?n===-1?n=l:a!==1&&(a=1):n!==-1&&(a=-1)}return n===-1||i===-1||a===0||a===1&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return lO("/",e)},parse:function(e){Zi(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),i=r===47,s;i?(n.root="/",s=1):s=0;for(var a=-1,l=0,f=-1,d=!0,h=e.length-1,g=0;h>=s;--h){if(r=e.charCodeAt(h),r===47){if(!d){l=h+1;break}continue}f===-1&&(d=!1,f=h+1),r===46?a===-1?a=h:g!==1&&(g=1):a!==-1&&(g=-1)}return a===-1||f===-1||g===0||g===1&&a===f-1&&a===l+1?f!==-1&&(l===0&&i?n.base=n.name=e.slice(1,f):n.base=n.name=e.slice(l,f)):(l===0&&i?(n.name=e.slice(1,a),n.base=e.slice(1,f)):(n.name=e.slice(l,a),n.base=e.slice(l,f)),n.ext=e.slice(a,f)),l>0?n.dir=e.slice(0,l-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};Du.posix=Du;var sa=Du;function zc(t,e){if(t===e)return!0;if(t==null||e===null||e===void 0||typeof t!=typeof e||typeof t!="object"||Array.isArray(t)!==Array.isArray(e))return!1;let n,r;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(!zc(t[n],e[n]))return!1}else{const i=[];for(r in t)i.push(r);i.sort();const s=[];for(r in e)s.push(r);if(s.sort(),!zc(i,s))return!1;for(n=0;n<i.length;n++)if(!zc(t[i[n]],e[i[n]]))return!1}return!0}function li(t){return typeof t=="number"}function oa(t){return typeof t<"u"}function wu(t){return typeof t=="boolean"}function _u(t){return typeof t=="string"}function fO(t){return Symbol.iterator in Object(t)}function Fg(t){const e=t.type&&t.closestTitle;return t.title?t.title:t.$id?Cw(t.$id):t.$ref||t._$ref?Cw(t.$ref||t._$ref):Array.isArray(t.type)?t.type.join(" | "):e?t.type.concat("(",t.closestTitle,")"):t.type||t.closestTitle}function Cw(t){const e=t.match(/^(?:.*\/)?(.*?)(?:\.schema\.json)?$/);let n=!!e&&e[1];return n||(n="typeNotFound",console.error(`$ref (${t}) not parsed properly`)),n}function Ow(t,e){const n=Wr.parse(e);let r=sa.basename(n.fsPath);return sa.extname(n.fsPath)||(r+=".json"),Object.getOwnPropertyDescriptor(t,"name")?Object.getOwnPropertyDescriptor(t,"name").value+` (${r})`:t.title?t.description?t.title+" - "+t.description+` (${r})`:t.title+` (${r})`:r}function dO(t){return t.type!=="object"&&!Rg(t)}function Rg(t){return!!(t.anyOf||t.allOf||t.oneOf)}Es.loadMessageBundle();var hO=Es.loadMessageBundle(),pO=function(){function t(e,n){this.jsonSchemaService=e,this.promise=n,this.validationEnabled=!0}return t.prototype.configure=function(e){e&&(this.validationEnabled=e.validate!==!1,this.commentSeverity=e.allowComments?void 0:$t.Error)},t.prototype.doValidation=function(e,n,r,i){var s=this;if(!this.validationEnabled)return this.promise.resolve([]);var a=[],l={},f=function(g){var S=g.range.start.line+" "+g.range.start.character+" "+g.message;l[S]||(l[S]=!0,a.push(g))},d=function(g){var S=r!=null&&r.trailingCommas?hd(r.trailingCommas):$t.Error,O=r!=null&&r.comments?hd(r.comments):s.commentSeverity,I=r!=null&&r.schemaValidation?hd(r.schemaValidation):$t.Warning,P=r!=null&&r.schemaRequest?hd(r.schemaRequest):$t.Warning;if(g){if(g.errors.length&&n.root&&P){var C=n.root,R=C.type==="object"?C.properties[0]:void 0;if(R&&R.keyNode.value==="$schema"){var T=R.valueNode||R,v=ot.create(e.positionAt(T.offset),e.positionAt(T.offset+T.length));f(kr.create(v,g.errors[0],P,Or.SchemaResolveError))}else{var v=ot.create(e.positionAt(C.offset),e.positionAt(C.offset+1));f(kr.create(v,g.errors[0],P,Or.SchemaResolveError))}}else if(I){var D=n.validate(e,g.schema,I);D&&D.forEach(f)}Pw(g.schema)&&(O=void 0),Nw(g.schema)&&(S=void 0)}for(var b=0,_=n.syntaxErrors;b<_.length;b++){var $=_[b];if($.code===Or.TrailingComma){if(typeof S!="number")continue;$.severity=S}f($)}if(typeof O=="number"){var q=hO("InvalidCommentToken","Comments are not permitted in JSON.");n.comments.forEach(function(F){f(kr.create(F,q,O,Or.CommentNotPermitted))})}return a};if(i){var h=i.id||"schemaservice://untitled/"+mO++;return this.jsonSchemaService.resolveSchemaContent(new Ti(i),h,{}).then(function(g){return d(g)})}return this.jsonSchemaService.getSchemaForResource(e.uri,n).then(function(g){return d(g)})},t}(),mO=0;function Pw(t){if(t&&typeof t=="object"){if(au(t.allowComments))return t.allowComments;if(t.allOf)for(var e=0,n=t.allOf;e<n.length;e++){var r=n[e],i=Pw(r);if(au(i))return i}}}function Nw(t){if(t&&typeof t=="object"){if(au(t.allowTrailingCommas))return t.allowTrailingCommas;var e=t;if(au(e.allowsTrailingCommas))return e.allowsTrailingCommas;if(t.allOf)for(var n=0,r=t.allOf;n<r.length;n++){var i=r[n],s=Nw(i);if(au(s))return s}}}function hd(t){switch(t){case"error":return $t.Error;case"warning":return $t.Warning;case"ignore":return}}var Fw=48,gO=57,yO=65,pd=97,vO=102;function xn(t){return t<Fw?0:t<=gO?t-Fw:(t<pd&&(t+=pd-yO),t>=pd&&t<=vO?t-pd+10:0)}function bO(t){if(t[0]==="#")switch(t.length){case 4:return{red:xn(t.charCodeAt(1))*17/255,green:xn(t.charCodeAt(2))*17/255,blue:xn(t.charCodeAt(3))*17/255,alpha:1};case 5:return{red:xn(t.charCodeAt(1))*17/255,green:xn(t.charCodeAt(2))*17/255,blue:xn(t.charCodeAt(3))*17/255,alpha:xn(t.charCodeAt(4))*17/255};case 7:return{red:(xn(t.charCodeAt(1))*16+xn(t.charCodeAt(2)))/255,green:(xn(t.charCodeAt(3))*16+xn(t.charCodeAt(4)))/255,blue:(xn(t.charCodeAt(5))*16+xn(t.charCodeAt(6)))/255,alpha:1};case 9:return{red:(xn(t.charCodeAt(1))*16+xn(t.charCodeAt(2)))/255,green:(xn(t.charCodeAt(3))*16+xn(t.charCodeAt(4)))/255,blue:(xn(t.charCodeAt(5))*16+xn(t.charCodeAt(6)))/255,alpha:(xn(t.charCodeAt(7))*16+xn(t.charCodeAt(8)))/255}}}var DO=function(){function t(e){this.schemaService=e}return t.prototype.findDocumentSymbols=function(e,n,r){var i=this;r===void 0&&(r={resultLimit:Number.MAX_VALUE});var s=n.root;if(!s)return[];var a=r.resultLimit||Number.MAX_VALUE,l=e.uri;if((l==="vscode://defaultsettings/keybindings.json"||Qm(l.toLowerCase(),"/user/keybindings.json"))&&s.type==="array"){for(var f=[],d=0,h=s.items;d<h.length;d++){var g=h[d];if(g.type==="object")for(var S=0,O=g.properties;S<O.length;S++){var I=O[S];if(I.keyNode.value==="key"&&I.valueNode){var P=Go.create(e.uri,ho(e,g));if(f.push({name:Vf(I.valueNode),kind:$i.Function,location:P}),a--,a<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(l),f}}}return f}for(var C=[{node:s,containerName:""}],R=0,T=!1,v=[],D=function(_,$){_.type==="array"?_.items.forEach(function(q){q&&C.push({node:q,containerName:$})}):_.type==="object"&&_.properties.forEach(function(q){var F=q.valueNode;if(F)if(a>0){a--;var L=Go.create(e.uri,ho(e,q)),M=$?$+"."+q.keyNode.value:q.keyNode.value;v.push({name:i.getKeyLabel(q),kind:i.getSymbolKind(F.type),location:L,containerName:$}),C.push({node:F,containerName:M})}else T=!0})};R<C.length;){var b=C[R++];D(b.node,b.containerName)}return T&&r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(l),v},t.prototype.findDocumentSymbols2=function(e,n,r){var i=this;r===void 0&&(r={resultLimit:Number.MAX_VALUE});var s=n.root;if(!s)return[];var a=r.resultLimit||Number.MAX_VALUE,l=e.uri;if((l==="vscode://defaultsettings/keybindings.json"||Qm(l.toLowerCase(),"/user/keybindings.json"))&&s.type==="array"){for(var f=[],d=0,h=s.items;d<h.length;d++){var g=h[d];if(g.type==="object")for(var S=0,O=g.properties;S<O.length;S++){var I=O[S];if(I.keyNode.value==="key"&&I.valueNode){var P=ho(e,g),C=ho(e,I.keyNode);if(f.push({name:Vf(I.valueNode),kind:$i.Function,range:P,selectionRange:C}),a--,a<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(l),f}}}return f}for(var R=[],T=[{node:s,result:R}],v=0,D=!1,b=function($,q){$.type==="array"?$.items.forEach(function(F,L){if(F)if(a>0){a--;var M=ho(e,F),Y=M,H=String(L),ne={name:H,kind:i.getSymbolKind(F.type),range:M,selectionRange:Y,children:[]};q.push(ne),T.push({result:ne.children,node:F})}else D=!0}):$.type==="object"&&$.properties.forEach(function(F){var L=F.valueNode;if(L)if(a>0){a--;var M=ho(e,F),Y=ho(e,F.keyNode),H=[],ne={name:i.getKeyLabel(F),kind:i.getSymbolKind(L.type),range:M,selectionRange:Y,children:H,detail:i.getDetail(L)};q.push(ne),T.push({result:H,node:L})}else D=!0})};v<T.length;){var _=T[v++];b(_.node,_.result)}return D&&r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(l),R},t.prototype.getSymbolKind=function(e){switch(e){case"object":return $i.Module;case"string":return $i.String;case"number":return $i.Number;case"array":return $i.Array;case"boolean":return $i.Boolean;default:return $i.Variable}},t.prototype.getKeyLabel=function(e){var n=e.keyNode.value;return n&&(n=n.replace(/[\n]/g,"\u21B5")),n&&n.trim()?n:'"'+n+'"'},t.prototype.getDetail=function(e){if(!!e){if(e.type==="boolean"||e.type==="number"||e.type==="null"||e.type==="string")return String(e.value);if(e.type==="array")return e.children.length?void 0:"[]";if(e.type==="object")return e.children.length?void 0:"{}"}},t.prototype.findDocumentColors=function(e,n,r){return this.schemaService.getSchemaForResource(e.uri,n).then(function(i){var s=[];if(i)for(var a=r&&typeof r.resultLimit=="number"?r.resultLimit:Number.MAX_VALUE,l=n.getMatchingSchemas(i.schema),f={},d=0,h=l;d<h.length;d++){var g=h[d];if(!g.inverted&&g.schema&&(g.schema.format==="color"||g.schema.format==="color-hex")&&g.node&&g.node.type==="string"){var S=String(g.node.offset);if(!f[S]){var O=bO(Vf(g.node));if(O){var I=ho(e,g.node);s.push({color:O,range:I})}if(f[S]=!0,a--,a<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(e.uri),s}}}return s})},t.prototype.getColorPresentations=function(e,n,r,i){var s=[],a=Math.round(r.red*255),l=Math.round(r.green*255),f=Math.round(r.blue*255);function d(g){var S=g.toString(16);return S.length!==2?"0"+S:S}var h;return r.alpha===1?h="#"+d(a)+d(l)+d(f):h="#"+d(a)+d(l)+d(f)+d(Math.round(r.alpha*255)),s.push({label:h,textEdit:fn.replace(i,JSON.stringify(h))}),s},t}();function ho(t,e){return ot.create(t.positionAt(e.offset),t.positionAt(e.offset+e.length))}var ft=Es.loadMessageBundle(),Rw={schemaAssociations:[],schemas:{"http://json-schema.org/schema#":{$ref:"http://json-schema.org/draft-07/schema#"},"http://json-schema.org/draft-04/schema#":{$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},uniqueItems:{type:"boolean",default:!1},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},required:{allOf:[{$ref:"#/definitions/stringArray"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{anyOf:[{type:"string",enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},not:{allOf:[{$ref:"#"}]}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},"http://json-schema.org/draft-07/schema#":{definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}},wO={id:ft("schema.json.id","A unique identifier for the schema."),$schema:ft("schema.json.$schema","The schema to verify this document against."),title:ft("schema.json.title","A descriptive title of the element."),description:ft("schema.json.description","A long description of the element. Used in hover menus and suggestions."),default:ft("schema.json.default","A default value. Used by suggestions."),multipleOf:ft("schema.json.multipleOf","A number that should cleanly divide the current value (i.e. have no remainder)."),maximum:ft("schema.json.maximum","The maximum numerical value, inclusive by default."),exclusiveMaximum:ft("schema.json.exclusiveMaximum","Makes the maximum property exclusive."),minimum:ft("schema.json.minimum","The minimum numerical value, inclusive by default."),exclusiveMinimum:ft("schema.json.exclusiveMininum","Makes the minimum property exclusive."),maxLength:ft("schema.json.maxLength","The maximum length of a string."),minLength:ft("schema.json.minLength","The minimum length of a string."),pattern:ft("schema.json.pattern","A regular expression to match the string against. It is not implicitly anchored."),additionalItems:ft("schema.json.additionalItems","For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail."),items:ft("schema.json.items","For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),maxItems:ft("schema.json.maxItems","The maximum number of items that can be inside an array. Inclusive."),minItems:ft("schema.json.minItems","The minimum number of items that can be inside an array. Inclusive."),uniqueItems:ft("schema.json.uniqueItems","If all of the items in the array must be unique. Defaults to false."),maxProperties:ft("schema.json.maxProperties","The maximum number of properties an object can have. Inclusive."),minProperties:ft("schema.json.minProperties","The minimum number of properties an object can have. Inclusive."),required:ft("schema.json.required","An array of strings that lists the names of all properties required on this object."),additionalProperties:ft("schema.json.additionalProperties","Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail."),definitions:ft("schema.json.definitions","Not used for validation. Place subschemas here that you wish to reference inline with $ref."),properties:ft("schema.json.properties","A map of property names to schemas for each property."),patternProperties:ft("schema.json.patternProperties","A map of regular expressions on property names to schemas for matching properties."),dependencies:ft("schema.json.dependencies","A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),enum:ft("schema.json.enum","The set of literal values that are valid."),type:ft("schema.json.type","Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),format:ft("schema.json.format","Describes the format expected for the value."),allOf:ft("schema.json.allOf","An array of schemas, all of which must match."),anyOf:ft("schema.json.anyOf","An array of schemas, where at least one must match."),oneOf:ft("schema.json.oneOf","An array of schemas, exactly one of which must match."),not:ft("schema.json.not","A schema which must not match."),$id:ft("schema.json.$id","A unique identifier for the schema."),$ref:ft("schema.json.$ref","Reference a definition hosted on any location."),$comment:ft("schema.json.$comment","Comments from schema authors to readers or maintainers of the schema."),readOnly:ft("schema.json.readOnly","Indicates that the value of the instance is managed exclusively by the owning authority."),examples:ft("schema.json.examples","Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),contains:ft("schema.json.contains",'An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),propertyNames:ft("schema.json.propertyNames","If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),const:ft("schema.json.const","An instance validates successfully against this keyword if its value is equal to the value of the keyword."),contentMediaType:ft("schema.json.contentMediaType","Describes the media type of a string property."),contentEncoding:ft("schema.json.contentEncoding","Describes the content encoding of a string property."),if:ft("schema.json.if",'The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),then:ft("schema.json.then",'The "if" subschema is used for validation when the "if" subschema succeeds.'),else:ft("schema.json.else",'The "else" subschema is used for validation when the "if" subschema fails.')};for(var _O in Rw.schemas){var Ig=Rw.schemas[_O];for(var Yc in Ig.properties){var Mg=Ig.properties[Yc];typeof Mg=="boolean"&&(Mg=Ig.properties[Yc]={});var Iw=wO[Yc];Iw?Mg.description=Iw:console.log(Yc+": localize('schema.json."+Yc+`', "")`)}}function $O(t,e){var n=[];return e.visit(function(r){var i;if(r.type==="property"&&r.keyNode.value==="$ref"&&((i=r.valueNode)===null||i===void 0?void 0:i.type)==="string"){var s=r.valueNode.value,a=SO(e,s);if(a){var l=t.positionAt(a.offset);n.push({target:t.uri+"#"+(l.line+1)+","+(l.character+1),range:EO(t,r.valueNode)})}}return!0}),Promise.resolve(n)}function EO(t,e){return ot.create(t.positionAt(e.offset+1),t.positionAt(e.offset+e.length-1))}function SO(t,e){var n=TO(e);return n?Lg(n,t.root):null}function Lg(t,e){if(!e)return null;if(t.length===0)return e;var n=t.shift();if(e&&e.type==="object"){var r=e.properties.find(function(a){return a.keyNode.value===n});return r?Lg(t,r.valueNode):null}else if(e&&e.type==="array"&&n.match(/^(0|[1-9][0-9]*)$/)){var i=Number.parseInt(n),s=e.items[i];return s?Lg(t,s):null}return null}function TO(t){return t==="#"?[]:t[0]!=="#"||t[1]!=="/"?null:t.substring(2).split(/\//).map(kO)}function kO(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function md(t,e){for(const n of e.documents)if(n.internalDocument&&n.internalDocument.range[0]<=t&&n.internalDocument.range[2]>=t)return n;return e.documents.length===1?e.documents[0]:null}function Mw(t){const e=["mapping","scalar","sequence"];return t?t.filter(n=>{if(typeof n=="string"){const r=n.split(" "),i=r[1]&&r[1].toLowerCase()||"scalar";return i==="map"?!1:e.indexOf(i)!==-1}return!1}):[]}function Lw(t,e){if(!e||!t||e.length!==t.length)return!1;for(let n=t.length-1;n>=0;n--)if(t[n]!==e[n])return!1;return!0}const jt=Es.loadMessageBundle(),jg="Property {0} is not allowed.",AO={"color-hex":{errorMessage:jt("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),pattern:/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},"date-time":{errorMessage:jt("dateTimeFormatWarning","String is not a RFC3339 date-time."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},date:{errorMessage:jt("dateFormatWarning","String is not a RFC3339 date."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},time:{errorMessage:jt("timeFormatWarning","String is not a RFC3339 time."),pattern:/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},email:{errorMessage:jt("emailFormatWarning","String is not an e-mail address."),pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},ipv4:{errorMessage:jt("ipv4FormatWarning","String does not match IPv4 format."),pattern:/^((25[0-5]|(2[0-4]|1\d|[1-9]|)\d)\.?\b){4}$/},ipv6:{errorMessage:jt("ipv6FormatWarning","String does not match IPv6 format."),pattern:/^([0-9a-f]|:){1,4}(:([0-9a-f]{0,4})*){1,7}$/i}},gd="YAML",jw="yaml-schema: ";var Dr;(function(t){t.missingRequiredPropWarning="missingRequiredPropWarning",t.typeMismatchWarning="typeMismatchWarning",t.constWarning="constWarning"})(Dr||(Dr={}));const CO={[Dr.missingRequiredPropWarning]:'Missing property "{0}".',[Dr.typeMismatchWarning]:'Incorrect type. Expected "{0}".',[Dr.constWarning]:"Value must be {0}."};class aa{constructor(e,n,r,i){this.offset=r,this.length=i,this.parent=e,this.internalNode=n}getNodeFromOffsetEndInclusive(e){const n=[],r=l=>{if(e>=l.offset&&e<=l.offset+l.length){const f=l.children;for(let d=0;d<f.length&&f[d].offset<=e;d++){const h=r(f[d]);h&&n.push(h)}return l}return null},i=r(this);let s=Number.MAX_VALUE,a=null;for(const l of n){const f=l.length+l.offset-e+(e-l.offset);f<s&&(a=l,s=f)}return a||i}get children(){return[]}toString(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")}}class OO extends aa{constructor(e,n,r,i){super(e,n,r,i),this.type="null",this.value=null}}class PO extends aa{constructor(e,n,r,i,s){super(e,n,i,s),this.type="boolean",this.value=r}}class NO extends aa{constructor(e,n,r,i){super(e,n,r,i),this.type="array",this.items=[]}get children(){return this.items}}class FO extends aa{constructor(e,n,r,i){super(e,n,r,i),this.type="number",this.isInteger=!0,this.value=Number.NaN}}class yd extends aa{constructor(e,n,r,i){super(e,n,r,i),this.type="string",this.value=""}}class RO extends aa{constructor(e,n,r,i){super(e,n,r,i),this.type="property",this.colonOffset=-1}get children(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]}}class IO extends aa{constructor(e,n,r,i){super(e,n,r,i),this.type="object",this.properties=[]}get children(){return this.properties}}function wr(t){if(t!==void 0)return wu(t)?t?{}:{not:{}}:(typeof t!="object"&&(console.warn(`Wrong schema: ${JSON.stringify(t)}, it MUST be an Object or Boolean`),t={type:t}),t)}var xw;(function(t){t[t.Key=0]="Key",t[t.Enum=1]="Enum"})(xw||(xw={}));class xg{constructor(e=-1,n=null){this.focusOffset=e,this.exclude=n,this.schemas=[]}add(e){this.schemas.push(e)}merge(e){this.schemas.push(...e.schemas)}include(e){return(this.focusOffset===-1||Bw(e,this.focusOffset))&&e!==this.exclude}newSub(){return new xg(-1,this.exclude)}}class Gc{constructor(){}get schemas(){return[]}add(e){}merge(e){}include(e){return!0}newSub(){return this}}Gc.instance=new Gc;class Pr{constructor(e){this.problems=[],this.propertiesMatches=0,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,e?this.enumValues=[]:this.enumValues=null}hasProblems(){return!!this.problems.length}mergeAll(e){for(const n of e)this.merge(n)}merge(e){this.problems=this.problems.concat(e.problems)}mergeEnumValues(e){if(!this.enumValueMatch&&!e.enumValueMatch&&this.enumValues&&e.enumValues){this.enumValues=this.enumValues.concat(e.enumValues);for(const n of this.problems)n.code===Or.EnumValueMismatch&&(n.message=jt("enumWarning","Value is not accepted. Valid values: {0}.",[...new Set(this.enumValues)].map(r=>JSON.stringify(r)).join(", ")))}}mergeWarningGeneric(e,n){var r,i,s;if((r=this.problems)!=null&&r.length)for(const a of n){const l=this.problems.filter(f=>f.problemType===a);for(const f of l){const d=(i=e.problems)==null?void 0:i.find(h=>h.problemType===a&&f.location.offset===h.location.offset&&(a!==Dr.missingRequiredPropWarning||Lw(h.problemArgs,f.problemArgs)));d&&((s=d.problemArgs)!=null&&s.length&&(d.problemArgs.filter(h=>!f.problemArgs.includes(h)).forEach(h=>f.problemArgs.push(h)),f.message=vd(f.problemType,f.problemArgs)),this.mergeSources(d,f))}}}mergePropertyMatch(e){this.merge(e),this.propertiesMatches++,(e.enumValueMatch||!e.hasProblems()&&e.propertiesMatches)&&this.propertiesValueMatches++,e.enumValueMatch&&e.enumValues&&this.primaryValueMatches++}mergeSources(e,n){const r=e.source.replace(jw,"");n.source.includes(r)||(n.source=n.source+" | "+r),n.schemaUri.includes(e.schemaUri[0])||(n.schemaUri=n.schemaUri.concat(e.schemaUri))}compareGeneric(e){const n=this.hasProblems();return n!==e.hasProblems()?n?-1:1:this.enumValueMatch!==e.enumValueMatch?e.enumValueMatch?-1:1:this.propertiesValueMatches!==e.propertiesValueMatches?this.propertiesValueMatches-e.propertiesValueMatches:this.primaryValueMatches!==e.primaryValueMatches?this.primaryValueMatches-e.primaryValueMatches:this.propertiesMatches-e.propertiesMatches}compareKubernetes(e){const n=this.hasProblems();return this.propertiesMatches!==e.propertiesMatches?this.propertiesMatches-e.propertiesMatches:this.enumValueMatch!==e.enumValueMatch?e.enumValueMatch?-1:1:this.primaryValueMatches!==e.primaryValueMatches?this.primaryValueMatches-e.primaryValueMatches:this.propertiesValueMatches!==e.propertiesValueMatches?this.propertiesValueMatches-e.propertiesValueMatches:n!==e.hasProblems()?n?-1:1:this.propertiesMatches-e.propertiesMatches}}function Jc(t){switch(t.type){case"array":return t.children.map(Jc);case"object":{const e=Object.create(null);for(let n=0,r=t.children;n<r.length;n++){const i=r[n],s=i.children[1];s&&(e[i.children[0].value]=Jc(s))}return e}case"null":case"string":case"number":case"boolean":return t.value;default:return}}function Bw(t,e,n=!1){return e>=t.offset&&e<=t.offset+t.length||n&&e===t.offset+t.length}function qw(t,e,n){if(n===void 0&&(n=!1),Bw(t,e,n)){const r=t.children;if(Array.isArray(r))for(let i=0;i<r.length&&r[i].offset<=e;i++){const s=qw(r[i],e,n);if(s)return s}return t}}class MO{constructor(e,n=[],r=[]){this.root=e,this.syntaxErrors=n,this.comments=r}getNodeFromOffset(e,n=!1){if(this.root)return qw(this.root,e,n)}getNodeFromOffsetEndInclusive(e){return this.root&&this.root.getNodeFromOffsetEndInclusive(e)}visit(e){if(this.root){const n=r=>{let i=e(r);const s=r.children;if(Array.isArray(s))for(let a=0;a<s.length&&i;a++)i=n(s[a]);return i};n(this.root)}}validate(e,n){if(this.root&&n){const r=new Pr(this.isKubernetes);return tr(this.root,n,n,r,Gc.instance,{isKubernetes:this.isKubernetes,disableAdditionalProperties:this.disableAdditionalProperties,uri:this.uri}),r.problems.map(i=>{const s=ot.create(e.positionAt(i.location.offset),e.positionAt(i.location.offset+i.location.length)),a=kr.create(s,i.message,i.severity,i.code?i.code:Or.Undefined,i.source);return a.data={schemaUri:i.schemaUri,...i.data},a})}return null}getMatchingSchemas(e,n=-1,r=null,i){const s=new xg(n,r);return this.root&&e&&tr(this.root,e,e,new Pr(this.isKubernetes),s,{isKubernetes:this.isKubernetes,disableAdditionalProperties:this.disableAdditionalProperties,uri:this.uri,callFromAutoComplete:i}),s.schemas}}function tr(t,e,n,r,i,s){const{isKubernetes:a,callFromAutoComplete:l}=s;if(!t||typeof e!="object")return;switch(e.url||(e.url=n.url),e.closestTitle=e.title||n.closestTitle,t.type){case"object":S(t,e,r,i);break;case"array":g(t,e,r,i);break;case"string":h(t,e,r);break;case"number":d(t,e,r);break;case"property":return tr(t.valueNode,e,e,r,i,s)}f(),i.add({node:t,schema:e});function f(){function P(b){return t.type===b||b==="integer"&&t.type==="number"&&t.isInteger}if(Array.isArray(e.type))e.type.some(P)||r.problems.push({location:{offset:t.offset,length:t.length},severity:$t.Warning,message:e.errorMessage||jt("typeArrayMismatchWarning","Incorrect type. Expected one of {0}.",e.type.join(", ")),source:Zt(e,n),schemaUri:en(e,n)});else if(e.type&&!P(e.type)){const b=e.type==="object"?Fg(e):e.type;r.problems.push({location:{offset:t.offset,length:t.length},severity:$t.Warning,message:e.errorMessage||vd(Dr.typeMismatchWarning,[b]),source:Zt(e,n),schemaUri:en(e,n),problemType:Dr.typeMismatchWarning,problemArgs:[b]})}if(Array.isArray(e.allOf))for(const b of e.allOf)tr(t,wr(b),e,r,i,s);const C=wr(e.not);if(C){const b=new Pr(a),_=i.newSub();tr(t,C,e,b,_,s),b.hasProblems()||r.problems.push({location:{offset:t.offset,length:t.length},severity:$t.Warning,message:jt("notSchemaWarning","Matches a schema that is not allowed."),source:Zt(e,n),schemaUri:en(e,n)});for(const $ of _.schemas)$.inverted=!$.inverted,i.add($)}const R=(b,_)=>{var M;const $=[],q=[],F=[];let L=null;for(const Y of b){const H={...wr(Y)},ne=new Pr(a),ge=i.newSub();tr(t,H,e,ne,ge,s),(!ne.hasProblems()||l)&&($.push(H),q.push(H),ne.propertiesMatches===0&&F.push(H),H.format&&q.pop()),L?a?L=O(ne,L,H,ge):L=I(t,_,ne,L,H,ge):L={schema:H,validationResult:ne,matchingSchemas:ge}}return q.length>1&&(q.length>1||F.length===0)&&_&&r.problems.push({location:{offset:t.offset,length:1},severity:$t.Warning,message:jt("oneOfWarning","Matches multiple schemas when only one must validate."),source:Zt(e,n),schemaUri:en(e,n)}),L!==null&&(r.merge(L.validationResult),r.propertiesMatches+=L.validationResult.propertiesMatches,r.propertiesValueMatches+=L.validationResult.propertiesValueMatches,r.enumValueMatch=r.enumValueMatch||L.validationResult.enumValueMatch,(M=L.validationResult.enumValues)!=null&&M.length&&(r.enumValues=(r.enumValues||[]).concat(L.validationResult.enumValues)),i.merge(L.matchingSchemas)),$.length};Array.isArray(e.anyOf)&&R(e.anyOf,!1),Array.isArray(e.oneOf)&&R(e.oneOf,!0);const T=(b,_)=>{const $=new Pr(a),q=i.newSub();tr(t,wr(b),_,$,q,s),r.merge($),r.propertiesMatches+=$.propertiesMatches,r.propertiesValueMatches+=$.propertiesValueMatches,i.merge(q)},v=(b,_,$,q)=>{const F=wr(b),L=new Pr(a),M=i.newSub();tr(t,F,_,L,M,s),i.merge(M);const{filePatternAssociation:Y}=F;Y&&(new eM(Y).matchesPattern(s.uri)||L.problems.push({location:{offset:t.offset,length:t.length},severity:$t.Warning,message:jt("ifFilePatternAssociation",`filePatternAssociation '${Y}' does not match with doc uri '${s.uri}'.`),source:Zt(e,_),schemaUri:en(e,_)})),L.hasProblems()?q&&T(q,_):$&&T($,_)},D=wr(e.if);if(D&&v(D,e,wr(e.then),wr(e.else)),Array.isArray(e.enum)){const b=Jc(t);let _=!1;for(const $ of e.enum)if(zc(b,$)||l&&_u(b)&&_u($)&&b&&$.startsWith(b)){_=!0;break}r.enumValues=e.enum,r.enumValueMatch=_,_||r.problems.push({location:{offset:t.offset,length:t.length},severity:$t.Warning,code:Or.EnumValueMismatch,message:e.errorMessage||jt("enumWarning","Value is not accepted. Valid values: {0}.",e.enum.map($=>JSON.stringify($)).join(", ")),source:Zt(e,n),schemaUri:en(e,n),data:{values:e.enum}})}if(oa(e.const)){const b=Jc(t);!zc(b,e.const)&&!(l&&_u(b)&&_u(e.const)&&e.const.startsWith(b))?(r.problems.push({location:{offset:t.offset,length:t.length},severity:$t.Warning,code:Or.EnumValueMismatch,problemType:Dr.constWarning,message:e.errorMessage||vd(Dr.constWarning,[JSON.stringify(e.const)]),source:Zt(e,n),schemaUri:en(e,n),problemArgs:[JSON.stringify(e.const)],data:{values:[e.const]}}),r.enumValueMatch=!1):r.enumValueMatch=!0,r.enumValues=[e.const]}e.deprecationMessage&&t.parent&&r.problems.push({location:{offset:t.parent.offset,length:t.parent.length},severity:$t.Warning,message:e.deprecationMessage,source:Zt(e,n),schemaUri:en(e,n)})}function d(P,C,R){const T=P.value;li(C.multipleOf)&&T%C.multipleOf!==0&&R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:jt("multipleOfWarning","Value is not divisible by {0}.",C.multipleOf),source:Zt(C,n),schemaUri:en(C,n)});function v(F,L){if(li(L))return L;if(wu(L)&&L)return F}function D(F,L){if(!wu(L)||!L)return F}const b=v(C.minimum,C.exclusiveMinimum);li(b)&&T<=b&&R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:jt("exclusiveMinimumWarning","Value is below the exclusive minimum of {0}.",b),source:Zt(C,n),schemaUri:en(C,n)});const _=v(C.maximum,C.exclusiveMaximum);li(_)&&T>=_&&R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:jt("exclusiveMaximumWarning","Value is above the exclusive maximum of {0}.",_),source:Zt(C,n),schemaUri:en(C,n)});const $=D(C.minimum,C.exclusiveMinimum);li($)&&T<$&&R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:jt("minimumWarning","Value is below the minimum of {0}.",$),source:Zt(C,n),schemaUri:en(C,n)});const q=D(C.maximum,C.exclusiveMaximum);li(q)&&T>q&&R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:jt("maximumWarning","Value is above the maximum of {0}.",q),source:Zt(C,n),schemaUri:en(C,n)})}function h(P,C,R){if(li(C.minLength)&&P.value.length<C.minLength&&R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:jt("minLengthWarning","String is shorter than the minimum length of {0}.",C.minLength),source:Zt(C,n),schemaUri:en(C,n)}),li(C.maxLength)&&P.value.length>C.maxLength&&R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:jt("maxLengthWarning","String is longer than the maximum length of {0}.",C.maxLength),source:Zt(C,n),schemaUri:en(C,n)}),_u(C.pattern)&&(CD(C.pattern).test(P.value)||R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:C.patternErrorMessage||C.errorMessage||jt("patternWarning",'String does not match the pattern of "{0}".',C.pattern),source:Zt(C,n),schemaUri:en(C,n)})),C.format)switch(C.format){case"uri":case"uri-reference":{let T;if(!P.value)T=jt("uriEmpty","URI expected.");else try{!Wr.parse(P.value).scheme&&C.format==="uri"&&(T=jt("uriSchemeMissing","URI with a scheme is expected."))}catch(v){T=v.message}T&&R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:C.patternErrorMessage||C.errorMessage||jt("uriFormatWarning","String is not a URI: {0}",T),source:Zt(C,n),schemaUri:en(C,n)})}break;case"color-hex":case"date-time":case"date":case"time":case"email":case"ipv4":case"ipv6":{const T=AO[C.format];(!P.value||!T.pattern.test(P.value))&&R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:C.patternErrorMessage||C.errorMessage||T.errorMessage,source:Zt(C,n),schemaUri:en(C,n)})}break}}function g(P,C,R,T){if(Array.isArray(C.items)){const D=C.items;for(let b=0;b<D.length;b++){const _=D[b],$=wr(_),q=new Pr(a),F=P.items[b];F?(tr(F,$,C,q,T,s),R.mergePropertyMatch(q),R.mergeEnumValues(q)):P.items.length>=D.length&&R.propertiesValueMatches++}if(P.items.length>D.length)if(typeof C.additionalItems=="object")for(let b=D.length;b<P.items.length;b++){const _=new Pr(a);tr(P.items[b],C.additionalItems,C,_,T,s),R.mergePropertyMatch(_),R.mergeEnumValues(_)}else C.additionalItems===!1&&R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:jt("additionalItemsWarning","Array has too many items according to schema. Expected {0} or fewer.",D.length),source:Zt(C,n),schemaUri:en(C,n)})}else{const D=wr(C.items);if(D){const b=new Pr(a);P.items.forEach(_=>{if(D.oneOf&&D.oneOf.length===1){const $=D.oneOf[0],q={...wr($)};q.title=C.title,q.closestTitle=C.closestTitle,tr(_,q,C,b,T,s),R.mergePropertyMatch(b),R.mergeEnumValues(b)}else tr(_,D,C,b,T,s),R.mergePropertyMatch(b),R.mergeEnumValues(b)})}}const v=wr(C.contains);if(v&&(P.items.some(b=>{const _=new Pr(a);return tr(b,v,C,_,Gc.instance,s),!_.hasProblems()})||R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:C.errorMessage||jt("requiredItemMissingWarning","Array does not contain required item."),source:Zt(C,n),schemaUri:en(C,n)})),li(C.minItems)&&P.items.length<C.minItems&&R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:jt("minItemsWarning","Array has too few items. Expected {0} or more.",C.minItems),source:Zt(C,n),schemaUri:en(C,n)}),li(C.maxItems)&&P.items.length>C.maxItems&&R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:jt("maxItemsWarning","Array has too many items. Expected {0} or fewer.",C.maxItems),source:Zt(C,n),schemaUri:en(C,n)}),C.uniqueItems===!0){const D=Jc(P);D.some((_,$)=>$!==D.lastIndexOf(_))&&R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:jt("uniqueItemsWarning","Array has duplicate items."),source:Zt(C,n),schemaUri:en(C,n)})}}function S(P,C,R,T){var q;const v=Object.create(null),D=[],b=[...P.properties];for(;b.length>0;){const F=b.pop(),L=F.keyNode.value;if(L==="<<"&&F.valueNode)switch(F.valueNode.type){case"object":{b.push(...F.valueNode.properties);break}case"array":{F.valueNode.items.forEach(M=>{M&&fO(M.properties)&&b.push(...M.properties)});break}}else v[L]=F.valueNode,D.push(L)}if(Array.isArray(C.required)){for(const F of C.required)if(v[F]===void 0){const L=P.parent&&P.parent.type==="property"&&P.parent.keyNode,M=L?{offset:L.offset,length:L.length}:{offset:P.offset,length:1};R.problems.push({location:M,severity:$t.Warning,message:vd(Dr.missingRequiredPropWarning,[F]),source:Zt(C,n),schemaUri:en(C,n),problemArgs:[F],problemType:Dr.missingRequiredPropWarning})}}const _=F=>{let L=D.indexOf(F);for(;L>=0;)D.splice(L,1),L=D.indexOf(F)};if(C.properties)for(const F of Object.keys(C.properties)){_(F);const L=C.properties[F],M=v[F];if(M)if(wu(L))if(L)R.propertiesMatches++,R.propertiesValueMatches++;else{const Y=M.parent;R.problems.push({location:{offset:Y.keyNode.offset,length:Y.keyNode.length},severity:$t.Warning,message:C.errorMessage||jt("DisallowedExtraPropWarning",jg,F),source:Zt(C,n),schemaUri:en(C,n)})}else{L.url=(q=C.url)!=null?q:n.url;const Y=new Pr(a);tr(M,L,C,Y,T,s),R.mergePropertyMatch(Y),R.mergeEnumValues(Y)}}if(C.patternProperties)for(const F of Object.keys(C.patternProperties)){const L=CD(F);for(const M of D.slice(0))if(L.test(M)){_(M);const Y=v[M];if(Y){const H=C.patternProperties[F];if(wu(H))if(H)R.propertiesMatches++,R.propertiesValueMatches++;else{const ne=Y.parent;R.problems.push({location:{offset:ne.keyNode.offset,length:ne.keyNode.length},severity:$t.Warning,message:C.errorMessage||jt("DisallowedExtraPropWarning",jg,M),source:Zt(C,n),schemaUri:en(C,n)})}else{const ne=new Pr(a);tr(Y,H,C,ne,T,s),R.mergePropertyMatch(ne),R.mergeEnumValues(ne)}}}}if(typeof C.additionalProperties=="object")for(const F of D){const L=v[F];if(L){const M=new Pr(a);tr(L,C.additionalProperties,C,M,T,s),R.mergePropertyMatch(M),R.mergeEnumValues(M)}}else if((C.additionalProperties===!1||C.type==="object"&&C.additionalProperties===void 0&&s.disableAdditionalProperties===!0)&&D.length>0){const F=C.properties&&Object.keys(C.properties).filter(L=>!v[L]);for(const L of D){const M=v[L];if(M){let Y=null;M.type!=="property"?(Y=M.parent,Y.type==="object"&&(Y=Y.properties[0])):Y=M;const H={location:{offset:Y.keyNode.offset,length:Y.keyNode.length},severity:$t.Warning,code:Or.PropertyExpected,message:C.errorMessage||jt("DisallowedExtraPropWarning",jg,L),source:Zt(C,n),schemaUri:en(C,n)};F!=null&&F.length&&(H.data={properties:F}),R.problems.push(H)}}}if(li(C.maxProperties)&&P.properties.length>C.maxProperties&&R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:jt("MaxPropWarning","Object has more properties than limit of {0}.",C.maxProperties),source:Zt(C,n),schemaUri:en(C,n)}),li(C.minProperties)&&P.properties.length<C.minProperties&&R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:jt("MinPropWarning","Object has fewer properties than the required number of {0}",C.minProperties),source:Zt(C,n),schemaUri:en(C,n)}),C.dependencies){for(const F of Object.keys(C.dependencies))if(v[F]){const M=C.dependencies[F];if(Array.isArray(M))for(const Y of M)v[Y]?R.propertiesValueMatches++:R.problems.push({location:{offset:P.offset,length:P.length},severity:$t.Warning,message:jt("RequiredDependentPropWarning","Object is missing property {0} required by property {1}.",Y,F),source:Zt(C,n),schemaUri:en(C,n)});else{const Y=wr(M);if(Y){const H=new Pr(a);tr(P,Y,C,H,T,s),R.mergePropertyMatch(H),R.mergeEnumValues(H)}}}}const $=wr(C.propertyNames);if($)for(const F of P.properties){const L=F.keyNode;L&&tr(L,$,C,R,Gc.instance,s)}}function O(P,C,R,T){const v=P.compareKubernetes(C.validationResult);return v>0?C={schema:R,validationResult:P,matchingSchemas:T}:v===0&&(C.matchingSchemas.merge(T),C.validationResult.mergeEnumValues(P)),C}function I(P,C,R,T,v,D){if(!C&&!R.hasProblems()&&(!T.validationResult.hasProblems()||l))T.matchingSchemas.merge(D),T.validationResult.propertiesMatches+=R.propertiesMatches,T.validationResult.propertiesValueMatches+=R.propertiesValueMatches;else{const b=R.compareGeneric(T.validationResult);b>0||b===0&&C&&T.schema.type==="object"&&P.type!=="null"&&P.type!==T.schema.type?T={schema:v,validationResult:R,matchingSchemas:D}:b===0&&(T.matchingSchemas.merge(D),T.validationResult.mergeEnumValues(R),T.validationResult.mergeWarningGeneric(R,[Dr.missingRequiredPropWarning,Dr.typeMismatchWarning,Dr.constWarning]))}return T}}function Zt(t,e){var n;if(t){let r;if(t.title)r=t.title;else if(t.closestTitle)r=t.closestTitle;else if(e.closestTitle)r=e.closestTitle;else{const i=(n=t.url)!=null?n:e.url;if(i){const s=Wr.parse(i);s.scheme==="file"&&(r=s.fsPath),r=s.toString()}}if(r)return`${jw}${r}`}return gd}function en(t,e){var r;const n=(r=t.url)!=null?r:e.url;return n?[n]:[]}function vd(t,e){return jt(t,CO[t],e.join(" | "))}const LO=1e3;let Bg=0;const qg=new Set;function $u(t,e,n,r){if(t||(Bg=0),!e)return null;if(Fn(e))return jO(e,t,n,r);if(Xt(e))return xO(e,t,n,r);if(jn(e))return BO(e,t,n,r);if(Dt(e))return qO(e,t);if(Gi(e)&&!qg.has(e)&&Bg<LO){qg.add(e);const i=WO(e,t,n,r);return qg.delete(e),i}else return}function jO(t,e,n,r){let i;t.flow&&!t.range?i=UO(t):i=t.range;const s=new IO(e,t,...Ww(i,r));for(const a of t.items)Xt(a)&&s.properties.push($u(s,a,n,r));return s}function xO(t,e,n,r){const i=t.key,s=t.value,a=i.range[0];let l=i.range[1],f=i.range[2];s&&(l=s.range[1],f=s.range[2]);const d=new RO(e,t,...Ww([a,l,f],r));if(Gi(i)){const h=new yd(e,i,...po(i.range));h.value=i.source,d.keyNode=h}else d.keyNode=$u(d,i,n,r);return d.valueNode=$u(d,s,n,r),d}function BO(t,e,n,r){const i=new NO(e,t,...po(t.range));for(const s of t.items)if(an(s)){const a=$u(i,s,n,r);a&&i.children.push(a)}return i}function qO(t,e){if(t.value===null)return new OO(e,t,...po(t.range));switch(typeof t.value){case"string":{const n=new yd(e,t,...po(t.range));return n.value=t.value,n}case"boolean":return new PO(e,t,t.value,...po(t.range));case"number":{const n=new FO(e,t,...po(t.range));return n.value=t.value,n.isInteger=Number.isInteger(n.value),n}default:{const n=new yd(e,t,...po(t.range));return n.value=t.source,n}}}function WO(t,e,n,r){Bg++;const i=t.resolve(n);if(i)return $u(e,i,n,r);{const s=new yd(e,t,...po(t.range));return s.value=t.source,s}}function po(t){return[t[0],t[1]-t[0]]}function Ww(t,e){const n=e.linePos(t[0]),r=e.linePos(t[1]),i=[t[0],t[1]-t[0]];return n.line!==r.line&&(e.lineStarts.length!==r.line||r.col===1)&&i[1]--,i}function UO(t){let e=Number.MAX_SAFE_INTEGER,n=0;for(const r of t.items)Xt(r)&&(an(r.key)&&r.key.range&&r.key.range[0]<=e&&(e=r.key.range[0]),an(r.value)&&r.value.range&&r.value.range[2]>=n&&(n=r.value.range[2]));return[e,n,n]}function VO(t,e){let n;if(_n(t,(r,i,s)=>{if(i===e)return n=s[s.length-1],_n.BREAK}),!Kf(n))return n}function HO(t){if(t.items.length>1)return!1;const e=t.items[0];return Dt(e.key)&&Dt(e.value)&&e.key.value===""&&!e.value.value}function KO(t,e){for(const[n,r]of t.items.entries())if(e===r)return n}function zO(t,e){let n=!1;for(const r of t){if(r.type==="document")Wg([],r,i=>{var s;if(Uw(i)&&((s=i.value)==null?void 0:s.type)==="comment"){if(r.offset<=e&&i.value.source.length+i.value.offset>=e)return n=!0,_n.BREAK}else if(i.type==="comment"&&i.offset<=e&&i.offset+i.source.length>=e)return n=!0,_n.BREAK});else if(r.type==="comment"&&r.offset<=e&&r.source.length+r.offset>=e)return!0;if(n)break}return n}function Uw(t){return t.start!==void 0}function Wg(t,e,n){let r=n(e,t);if(typeof r=="symbol")return r;for(const s of["key","value"]){const a=e[s];if(a&&"items"in a){for(let l=0;l<a.items.length;++l){const f=Wg(Object.freeze(t.concat([[s,l]])),a.items[l],n);if(typeof f=="number")l=f-1;else{if(f===_n.BREAK)return _n.BREAK;f===_n.REMOVE&&(a.items.splice(l,1),l-=1)}}typeof r=="function"&&s==="key"&&(r=r(e,t))}}const i=e.sep;if(i)for(let s=0;s<i.length;++s){const a=Wg(Object.freeze(t),i[s],n);if(typeof a=="number")s=a-1;else{if(a===_n.BREAK)return _n.BREAK;a===_n.REMOVE&&(i.items.splice(s,1),s-=1)}}return typeof r=="function"?r(e,t):r}class bd extends MO{constructor(e){super(null,[]),this.lineCounter=e}clone(){const e=new bd(this.lineCounter);return e.isKubernetes=this.isKubernetes,e.disableAdditionalProperties=this.disableAdditionalProperties,e.uri=this.uri,e.currentDocIndex=this.currentDocIndex,e._lineComments=this.lineComments.slice(),e.internalDocument=this._internalDocument.clone(),e}collectLineComments(){this._lineComments=[],this._internalDocument.commentBefore&&this._internalDocument.commentBefore.split(`
`).forEach(n=>this._lineComments.push(`#${n}`)),_n(this.internalDocument,(e,n)=>{n!=null&&n.commentBefore&&(n==null?void 0:n.commentBefore.split(`
`)).forEach(i=>this._lineComments.push(`#${i}`)),n!=null&&n.comment&&this._lineComments.push(`#${n.comment}`)}),this._internalDocument.comment&&this._lineComments.push(`#${this._internalDocument.comment}`)}updateFromInternalDocument(){this.root=$u(null,this._internalDocument.contents,this._internalDocument,this.lineCounter)}set internalDocument(e){this._internalDocument=e,this.updateFromInternalDocument()}get internalDocument(){return this._internalDocument}get lineComments(){return this._lineComments||this.collectLineComments(),this._lineComments}set lineComments(e){this._lineComments=e}get errors(){return this.internalDocument.errors.map(Hw)}get warnings(){return this.internalDocument.warnings.map(Hw)}getNodeFromPosition(e,n,r){const i=n.getPosition(e),s=n.getLineContent(i.line);if(s.trim().length===0)return[this.findClosestNode(e,n,r),!0];const l=s.substring(i.character).match(/^([ ]+)\n?$/),f=!!l,d=l==null?void 0:l[1].length;let h;return _n(this.internalDocument,(g,S)=>{if(!S)return;const O=S.range;if(!O)return;const I=()=>f&&e+d===O[2]&&Dt(S)&&S.value===null;if(O[0]<=e&&O[1]>=e||I())h=S;else return _n.SKIP}),[h,!1]}findClosestNode(e,n,r){let i=this.internalDocument.range[2],s=this.internalDocument.range[0],a;_n(this.internalDocument,(h,g)=>{if(!g)return;const S=g.range;if(!S)return;const O=S[1]-e;s<=S[0]&&O<=0&&Math.abs(O)<=i&&(i=Math.abs(O),s=S[0],a=g)});const l=n.getPosition(e),f=n.getLineContent(l.line),d=qA(f,l.character);return Dt(a)&&a.value===null||d===l.character&&(a=this.getProperParentByIndentation(d,a,n,"",r)),a}getProperParentByIndentation(e,n,r,i,s,a){if(!n)return this.internalDocument.contents;if(s=s||2,an(n)&&n.range){const l=r.getPosition(n.range[0]),f=r.getLineContent(l.line);if(i=i===""?f.trim():i,i.startsWith("-")&&e===s&&i===f.trim()&&(l.character+=e),l.character>e&&l.character>0){const d=this.getParent(n);if(d)return this.getProperParentByIndentation(e,d,r,i,s,a)}else if(l.character<e){const d=this.getParent(n);if(Xt(d)&&an(d.value))return d.value;if(Xt(a)&&an(a.value))return a.value}else return n}else if(Xt(n)){a=n;const l=this.getParent(n);return this.getProperParentByIndentation(e,l,r,i,s,a)}return n}getParent(e){return VO(this.internalDocument,e)}}class Vw{constructor(e,n){this.documents=e,this.tokens=n,this.errors=[],this.warnings=[]}}class YO{constructor(){this.cache=new Map}getYamlDocument(e,n,r=!1){return this.ensureCache(e,n!=null?n:Dd,r),this.cache.get(e.uri).document}clear(){this.cache.clear()}ensureCache(e,n,r){const i=e.uri;this.cache.has(i)||this.cache.set(i,{version:-1,document:new Vw([],[]),parserOptions:Dd});const s=this.cache.get(i);if(s.version!==e.version||n.customTags&&!Lw(s.parserOptions.customTags,n.customTags)){let a=e.getText();r&&!/\S/.test(a)&&(a=`{${a}}`);const l=XO(a,n,e);s.document=l,s.version=e.version,s.parserOptions=n}}}const fi=new YO;function Hw(t){return{message:t.message,location:{start:t.pos[0],end:t.pos[1],toLineEnd:!0},severity:1,code:Or.Undefined}}class GO{constructor(e,n){this.tag=e,this.type=n}get collection(){if(this.type==="mapping")return"map";if(this.type==="sequence")return"seq"}resolve(e){if(Fn(e)&&this.type==="mapping"||jn(e)&&this.type==="sequence"||typeof e=="string"&&this.type==="scalar")return e}}class JO{constructor(){this.tag="!include",this.type="scalar"}resolve(e,n){if(e&&e.length>0&&e.trim())return e;n("!include without value")}}function QO(t){const e=[],n=Mw(t);for(const r of n){const i=r.split(" "),s=i[0],a=i[1]&&i[1].toLowerCase()||"scalar";e.push(new GO(s,a))}return e.push(new JO),e}class ua{constructor(e){this.doc=e}getLineCount(){return this.doc.lineCount}getLineLength(e){const n=this.doc.getLineOffsets();return e>=n.length?this.doc.getText().length:e<0?0:(e+1<n.length?n[e+1]:this.doc.getText().length)-n[e]}getLineContent(e){const n=this.doc.getLineOffsets();if(e>=n.length)return this.doc.getText();if(e<0)return"";const r=e+1<n.length?n[e+1]:this.doc.getText().length;return this.doc.getText().substring(n[e],r)}getLineCharCode(e,n){return this.doc.getText(ot.create(e-1,n,e-1,n+1)).charCodeAt(0)}getText(e){return this.doc.getText(e)}getPosition(e){return this.doc.positionAt(e)}}const Dd={customTags:[],yamlVersion:"1.2"};function XO(t,e=Dd,n){var S;const r={strict:!1,customTags:QO(e.customTags),version:(S=e.yamlVersion)!=null?S:Dd.yamlVersion,keepSourceTokens:!0},i=new gw(r),s=new Ew;let a=!1;if(n){const O=new ua(n),I=O.getPosition(t.length);a=O.getLineContent(I.line).trim().length===0}const f=(a?new Ng:new Ng(s.addNewLine)).parse(t),d=Array.from(f),h=i.compose(d,!0,t.length),g=Array.from(h,O=>ZO(O,s));return new Vw(g,d)}function ZO(t,e){const n=new bd(e);return n.internalDocument=t,n}function e2(t){if(t instanceof bd){const e=t.lineComments.find(n=>Ug(n));if(e!=null){const n=e.match(/\$schema=\S+/g);if(n!==null&&n.length>=1)return n.length>=2&&console.log("Several $schema attributes have been found on the yaml-language-server modeline. The first one will be picked."),n[0].substring(8)}}}function Ug(t){const e=t.match(/^#\s+yaml-language-server\s*:/g);return e!==null&&e.length===1}var Vg={exports:{}},mo={},Ur={},Eu={},Qc={},pt={},Xc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends e{constructor(T){if(super(),!t.IDENTIFIER.test(T))throw new Error("CodeGen: name must be a valid identifier");this.str=T}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class r extends e{constructor(T){super(),this._items=typeof T=="string"?[T]:T}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const T=this._items[0];return T===""||T==='""'}get str(){var T;return(T=this._str)!==null&&T!==void 0?T:this._str=this._items.reduce((v,D)=>`${v}${D}`,"")}get names(){var T;return(T=this._names)!==null&&T!==void 0?T:this._names=this._items.reduce((v,D)=>(D instanceof n&&(v[D.str]=(v[D.str]||0)+1),v),{})}}t._Code=r,t.nil=new r("");function i(R,...T){const v=[R[0]];let D=0;for(;D<T.length;)l(v,T[D]),v.push(R[++D]);return new r(v)}t._=i;const s=new r("+");function a(R,...T){const v=[O(R[0])];let D=0;for(;D<T.length;)v.push(s),l(v,T[D]),v.push(s,O(R[++D]));return f(v),new r(v)}t.str=a;function l(R,T){T instanceof r?R.push(...T._items):T instanceof n?R.push(T):R.push(g(T))}t.addCodeArg=l;function f(R){let T=1;for(;T<R.length-1;){if(R[T]===s){const v=d(R[T-1],R[T+1]);if(v!==void 0){R.splice(T-1,3,v);continue}R[T++]="+"}T++}}function d(R,T){if(T==='""')return R;if(R==='""')return T;if(typeof R=="string")return T instanceof n||R[R.length-1]!=='"'?void 0:typeof T!="string"?`${R.slice(0,-1)}${T}"`:T[0]==='"'?R.slice(0,-1)+T.slice(1):void 0;if(typeof T=="string"&&T[0]==='"'&&!(R instanceof n))return`"${R}${T.slice(1)}`}function h(R,T){return T.emptyStr()?R:R.emptyStr()?T:a`${R}${T}`}t.strConcat=h;function g(R){return typeof R=="number"||typeof R=="boolean"||R===null?R:O(Array.isArray(R)?R.join(","):R)}function S(R){return new r(O(R))}t.stringify=S;function O(R){return JSON.stringify(R).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=O;function I(R){return typeof R=="string"&&t.IDENTIFIER.test(R)?new r(`.${R}`):i`[${R}]`}t.getProperty=I;function P(R){if(typeof R=="string"&&t.IDENTIFIER.test(R))return new r(`${R}`);throw new Error(`CodeGen: invalid export name: ${R}, use explicit $id name mapping`)}t.getEsmExportName=P;function C(R){return new r(R.toString())}t.regexpCode=C})(Xc);var Hg={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Xc;class n extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var r;(function(f){f[f.Started=0]="Started",f[f.Completed=1]="Completed"})(r||(t.UsedValueState=r={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:d,parent:h}={}){this._names={},this._prefixes=d,this._parent=h}toName(d){return d instanceof e.Name?d:this.name(d)}name(d){return new e.Name(this._newName(d))}_newName(d){const h=this._names[d]||this._nameGroup(d);return`${d}${h.index++}`}_nameGroup(d){var h,g;if(((g=(h=this._parent)===null||h===void 0?void 0:h._prefixes)===null||g===void 0?void 0:g.has(d))||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}t.Scope=i;class s extends e.Name{constructor(d,h){super(h),this.prefix=d}setValue(d,{property:h,itemIndex:g}){this.value=d,this.scopePath=(0,e._)`.${new e.Name(h)}[${g}]`}}t.ValueScopeName=s;const a=(0,e._)`\n`;class l extends i{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?a:e.nil}}get(){return this._scope}name(d){return new s(d,this._newName(d))}value(d,h){var g;if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const S=this.toName(d),{prefix:O}=S,I=(g=h.key)!==null&&g!==void 0?g:h.ref;let P=this._values[O];if(P){const T=P.get(I);if(T)return T}else P=this._values[O]=new Map;P.set(I,S);const C=this._scope[O]||(this._scope[O]=[]),R=C.length;return C[R]=h.ref,S.setValue(h,{property:O,itemIndex:R}),S}getValue(d,h){const g=this._values[d];if(!!g)return g.get(h)}scopeRefs(d,h=this._values){return this._reduceValues(h,g=>{if(g.scopePath===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return(0,e._)`${d}${g.scopePath}`})}scopeCode(d=this._values,h,g){return this._reduceValues(d,S=>{if(S.value===void 0)throw new Error(`CodeGen: name "${S}" has no value`);return S.value.code},h,g)}_reduceValues(d,h,g={},S){let O=e.nil;for(const I in d){const P=d[I];if(!P)continue;const C=g[I]=g[I]||new Map;P.forEach(R=>{if(C.has(R))return;C.set(R,r.Started);let T=h(R);if(T){const v=this.opts.es5?t.varKinds.var:t.varKinds.const;O=(0,e._)`${O}${v} ${R} = ${T};${this.opts._n}`}else if(T=S==null?void 0:S(R))O=(0,e._)`${O}${T}${this.opts._n}`;else throw new n(R);C.set(R,r.Completed)})}return O}}t.ValueScope=l})(Hg),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Xc,n=Hg;var r=Xc;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var i=Hg;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames(U,te){return this}}class a extends s{constructor(U,te,ye){super(),this.varKind=U,this.name=te,this.rhs=ye}render({es5:U,_n:te}){const ye=U?n.varKinds.var:this.varKind,Ie=this.rhs===void 0?"":` = ${this.rhs}`;return`${ye} ${this.name}${Ie};`+te}optimizeNames(U,te){if(!!U[this.name.str])return this.rhs&&(this.rhs=ne(this.rhs,U,te)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class l extends s{constructor(U,te,ye){super(),this.lhs=U,this.rhs=te,this.sideEffects=ye}render({_n:U}){return`${this.lhs} = ${this.rhs};`+U}optimizeNames(U,te){if(!(this.lhs instanceof e.Name&&!U[this.lhs.str]&&!this.sideEffects))return this.rhs=ne(this.rhs,U,te),this}get names(){const U=this.lhs instanceof e.Name?{}:{...this.lhs.names};return H(U,this.rhs)}}class f extends l{constructor(U,te,ye,Ie){super(U,ye,Ie),this.op=te}render({_n:U}){return`${this.lhs} ${this.op}= ${this.rhs};`+U}}class d extends s{constructor(U){super(),this.label=U,this.names={}}render({_n:U}){return`${this.label}:`+U}}class h extends s{constructor(U){super(),this.label=U,this.names={}}render({_n:U}){return`break${this.label?` ${this.label}`:""};`+U}}class g extends s{constructor(U){super(),this.error=U}render({_n:U}){return`throw ${this.error};`+U}get names(){return this.error.names}}class S extends s{constructor(U){super(),this.code=U}render({_n:U}){return`${this.code};`+U}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(U,te){return this.code=ne(this.code,U,te),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class O extends s{constructor(U=[]){super(),this.nodes=U}render(U){return this.nodes.reduce((te,ye)=>te+ye.render(U),"")}optimizeNodes(){const{nodes:U}=this;let te=U.length;for(;te--;){const ye=U[te].optimizeNodes();Array.isArray(ye)?U.splice(te,1,...ye):ye?U[te]=ye:U.splice(te,1)}return U.length>0?this:void 0}optimizeNames(U,te){const{nodes:ye}=this;let Ie=ye.length;for(;Ie--;){const Le=ye[Ie];Le.optimizeNames(U,te)||(ge(U,Le.names),ye.splice(Ie,1))}return ye.length>0?this:void 0}get names(){return this.nodes.reduce((U,te)=>Y(U,te.names),{})}}class I extends O{render(U){return"{"+U._n+super.render(U)+"}"+U._n}}class P extends O{}class C extends I{}C.kind="else";class R extends I{constructor(U,te){super(te),this.condition=U}render(U){let te=`if(${this.condition})`+super.render(U);return this.else&&(te+="else "+this.else.render(U)),te}optimizeNodes(){super.optimizeNodes();const U=this.condition;if(U===!0)return this.nodes;let te=this.else;if(te){const ye=te.optimizeNodes();te=this.else=Array.isArray(ye)?new C(ye):ye}if(te)return U===!1?te instanceof R?te:te.nodes:this.nodes.length?this:new R(pe(U),te instanceof R?[te]:te.nodes);if(!(U===!1||!this.nodes.length))return this}optimizeNames(U,te){var ye;if(this.else=(ye=this.else)===null||ye===void 0?void 0:ye.optimizeNames(U,te),!!(super.optimizeNames(U,te)||this.else))return this.condition=ne(this.condition,U,te),this}get names(){const U=super.names;return H(U,this.condition),this.else&&Y(U,this.else.names),U}}R.kind="if";class T extends I{}T.kind="for";class v extends T{constructor(U){super(),this.iteration=U}render(U){return`for(${this.iteration})`+super.render(U)}optimizeNames(U,te){if(!!super.optimizeNames(U,te))return this.iteration=ne(this.iteration,U,te),this}get names(){return Y(super.names,this.iteration.names)}}class D extends T{constructor(U,te,ye,Ie){super(),this.varKind=U,this.name=te,this.from=ye,this.to=Ie}render(U){const te=U.es5?n.varKinds.var:this.varKind,{name:ye,from:Ie,to:Le}=this;return`for(${te} ${ye}=${Ie}; ${ye}<${Le}; ${ye}++)`+super.render(U)}get names(){const U=H(super.names,this.from);return H(U,this.to)}}class b extends T{constructor(U,te,ye,Ie){super(),this.loop=U,this.varKind=te,this.name=ye,this.iterable=Ie}render(U){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(U)}optimizeNames(U,te){if(!!super.optimizeNames(U,te))return this.iterable=ne(this.iterable,U,te),this}get names(){return Y(super.names,this.iterable.names)}}class _ extends I{constructor(U,te,ye){super(),this.name=U,this.args=te,this.async=ye}render(U){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(U)}}_.kind="func";class $ extends O{render(U){return"return "+super.render(U)}}$.kind="return";class q extends I{render(U){let te="try"+super.render(U);return this.catch&&(te+=this.catch.render(U)),this.finally&&(te+=this.finally.render(U)),te}optimizeNodes(){var U,te;return super.optimizeNodes(),(U=this.catch)===null||U===void 0||U.optimizeNodes(),(te=this.finally)===null||te===void 0||te.optimizeNodes(),this}optimizeNames(U,te){var ye,Ie;return super.optimizeNames(U,te),(ye=this.catch)===null||ye===void 0||ye.optimizeNames(U,te),(Ie=this.finally)===null||Ie===void 0||Ie.optimizeNames(U,te),this}get names(){const U=super.names;return this.catch&&Y(U,this.catch.names),this.finally&&Y(U,this.finally.names),U}}class F extends I{constructor(U){super(),this.error=U}render(U){return`catch(${this.error})`+super.render(U)}}F.kind="catch";class L extends I{render(U){return"finally"+super.render(U)}}L.kind="finally";class M{constructor(U,te={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...te,_n:te.lines?`
`:""},this._extScope=U,this._scope=new n.Scope({parent:U}),this._nodes=[new P]}toString(){return this._root.render(this.opts)}name(U){return this._scope.name(U)}scopeName(U){return this._extScope.name(U)}scopeValue(U,te){const ye=this._extScope.value(U,te);return(this._values[ye.prefix]||(this._values[ye.prefix]=new Set)).add(ye),ye}getScopeValue(U,te){return this._extScope.getValue(U,te)}scopeRefs(U){return this._extScope.scopeRefs(U,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(U,te,ye,Ie){const Le=this._scope.toName(te);return ye!==void 0&&Ie&&(this._constants[Le.str]=ye),this._leafNode(new a(U,Le,ye)),Le}const(U,te,ye){return this._def(n.varKinds.const,U,te,ye)}let(U,te,ye){return this._def(n.varKinds.let,U,te,ye)}var(U,te,ye){return this._def(n.varKinds.var,U,te,ye)}assign(U,te,ye){return this._leafNode(new l(U,te,ye))}add(U,te){return this._leafNode(new f(U,t.operators.ADD,te))}code(U){return typeof U=="function"?U():U!==e.nil&&this._leafNode(new S(U)),this}object(...U){const te=["{"];for(const[ye,Ie]of U)te.length>1&&te.push(","),te.push(ye),(ye!==Ie||this.opts.es5)&&(te.push(":"),(0,e.addCodeArg)(te,Ie));return te.push("}"),new e._Code(te)}if(U,te,ye){if(this._blockNode(new R(U)),te&&ye)this.code(te).else().code(ye).endIf();else if(te)this.code(te).endIf();else if(ye)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(U){return this._elseNode(new R(U))}else(){return this._elseNode(new C)}endIf(){return this._endBlockNode(R,C)}_for(U,te){return this._blockNode(U),te&&this.code(te).endFor(),this}for(U,te){return this._for(new v(U),te)}forRange(U,te,ye,Ie,Le=this.opts.es5?n.varKinds.var:n.varKinds.let){const ze=this._scope.toName(U);return this._for(new D(Le,ze,te,ye),()=>Ie(ze))}forOf(U,te,ye,Ie=n.varKinds.const){const Le=this._scope.toName(U);if(this.opts.es5){const ze=te instanceof e.Name?te:this.var("_arr",te);return this.forRange("_i",0,(0,e._)`${ze}.length`,Je=>{this.var(Le,(0,e._)`${ze}[${Je}]`),ye(Le)})}return this._for(new b("of",Ie,Le,te),()=>ye(Le))}forIn(U,te,ye,Ie=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(U,(0,e._)`Object.keys(${te})`,ye);const Le=this._scope.toName(U);return this._for(new b("in",Ie,Le,te),()=>ye(Le))}endFor(){return this._endBlockNode(T)}label(U){return this._leafNode(new d(U))}break(U){return this._leafNode(new h(U))}return(U){const te=new $;if(this._blockNode(te),this.code(U),te.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode($)}try(U,te,ye){if(!te&&!ye)throw new Error('CodeGen: "try" without "catch" and "finally"');const Ie=new q;if(this._blockNode(Ie),this.code(U),te){const Le=this.name("e");this._currNode=Ie.catch=new F(Le),te(Le)}return ye&&(this._currNode=Ie.finally=new L,this.code(ye)),this._endBlockNode(F,L)}throw(U){return this._leafNode(new g(U))}block(U,te){return this._blockStarts.push(this._nodes.length),U&&this.code(U).endBlock(te),this}endBlock(U){const te=this._blockStarts.pop();if(te===void 0)throw new Error("CodeGen: not in self-balancing block");const ye=this._nodes.length-te;if(ye<0||U!==void 0&&ye!==U)throw new Error(`CodeGen: wrong number of nodes: ${ye} vs ${U} expected`);return this._nodes.length=te,this}func(U,te=e.nil,ye,Ie){return this._blockNode(new _(U,te,ye)),Ie&&this.code(Ie).endFunc(),this}endFunc(){return this._endBlockNode(_)}optimize(U=1){for(;U-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(U){return this._currNode.nodes.push(U),this}_blockNode(U){this._currNode.nodes.push(U),this._nodes.push(U)}_endBlockNode(U,te){const ye=this._currNode;if(ye instanceof U||te&&ye instanceof te)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${te?`${U.kind}/${te.kind}`:U.kind}"`)}_elseNode(U){const te=this._currNode;if(!(te instanceof R))throw new Error('CodeGen: "else" without "if"');return this._currNode=te.else=U,this}get _root(){return this._nodes[0]}get _currNode(){const U=this._nodes;return U[U.length-1]}set _currNode(U){const te=this._nodes;te[te.length-1]=U}}t.CodeGen=M;function Y(ce,U){for(const te in U)ce[te]=(ce[te]||0)+(U[te]||0);return ce}function H(ce,U){return U instanceof e._CodeOrName?Y(ce,U.names):ce}function ne(ce,U,te){if(ce instanceof e.Name)return ye(ce);if(!Ie(ce))return ce;return new e._Code(ce._items.reduce((Le,ze)=>(ze instanceof e.Name&&(ze=ye(ze)),ze instanceof e._Code?Le.push(...ze._items):Le.push(ze),Le),[]));function ye(Le){const ze=te[Le.str];return ze===void 0||U[Le.str]!==1?Le:(delete U[Le.str],ze)}function Ie(Le){return Le instanceof e._Code&&Le._items.some(ze=>ze instanceof e.Name&&U[ze.str]===1&&te[ze.str]!==void 0)}}function ge(ce,U){for(const te in U)ce[te]=(ce[te]||0)-(U[te]||0)}function pe(ce){return typeof ce=="boolean"||typeof ce=="number"||ce===null?!ce:(0,e._)`!${de(ce)}`}t.not=pe;const $e=K(t.operators.AND);function Ve(...ce){return ce.reduce($e)}t.and=Ve;const lt=K(t.operators.OR);function Se(...ce){return ce.reduce(lt)}t.or=Se;function K(ce){return(U,te)=>U===e.nil?te:te===e.nil?U:(0,e._)`${de(U)} ${ce} ${de(te)}`}function de(ce){return ce instanceof e.Name?ce:(0,e._)`(${ce})`}}(pt);var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.checkStrictMode=Ue.getErrorPath=Ue.Type=Ue.useFunc=Ue.setEvaluated=Ue.evaluatedPropsToName=Ue.mergeEvaluated=Ue.eachItem=Ue.unescapeJsonPointer=Ue.escapeJsonPointer=Ue.escapeFragment=Ue.unescapeFragment=Ue.schemaRefOrVal=Ue.schemaHasRulesButRef=Ue.schemaHasRules=Ue.checkUnknownRules=Ue.alwaysValidSchema=Ue.toHash=void 0;const yn=pt,t2=Xc;function n2(t){const e={};for(const n of t)e[n]=!0;return e}Ue.toHash=n2;function r2(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(Kw(t,e),!zw(e,t.self.RULES.all))}Ue.alwaysValidSchema=r2;function Kw(t,e=t.schema){const{opts:n,self:r}=t;if(!n.strictSchema||typeof e=="boolean")return;const i=r.RULES.keywords;for(const s in e)i[s]||Xw(t,`unknown keyword: "${s}"`)}Ue.checkUnknownRules=Kw;function zw(t,e){if(typeof t=="boolean")return!t;for(const n in t)if(e[n])return!0;return!1}Ue.schemaHasRules=zw;function i2(t,e){if(typeof t=="boolean")return!t;for(const n in t)if(n!=="$ref"&&e.all[n])return!0;return!1}Ue.schemaHasRulesButRef=i2;function s2({topSchemaRef:t,schemaPath:e},n,r,i){if(!i){if(typeof n=="number"||typeof n=="boolean")return n;if(typeof n=="string")return(0,yn._)`${n}`}return(0,yn._)`${t}${e}${(0,yn.getProperty)(r)}`}Ue.schemaRefOrVal=s2;function o2(t){return Yw(decodeURIComponent(t))}Ue.unescapeFragment=o2;function a2(t){return encodeURIComponent(Kg(t))}Ue.escapeFragment=a2;function Kg(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}Ue.escapeJsonPointer=Kg;function Yw(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}Ue.unescapeJsonPointer=Yw;function u2(t,e){if(Array.isArray(t))for(const n of t)e(n);else e(t)}Ue.eachItem=u2;function Gw({mergeNames:t,mergeToName:e,mergeValues:n,resultToName:r}){return(i,s,a,l)=>{const f=a===void 0?s:a instanceof yn.Name?(s instanceof yn.Name?t(i,s,a):e(i,s,a),a):s instanceof yn.Name?(e(i,a,s),s):n(s,a);return l===yn.Name&&!(f instanceof yn.Name)?r(i,f):f}}Ue.mergeEvaluated={props:Gw({mergeNames:(t,e,n)=>t.if((0,yn._)`${n} !== true && ${e} !== undefined`,()=>{t.if((0,yn._)`${e} === true`,()=>t.assign(n,!0),()=>t.assign(n,(0,yn._)`${n} || {}`).code((0,yn._)`Object.assign(${n}, ${e})`))}),mergeToName:(t,e,n)=>t.if((0,yn._)`${n} !== true`,()=>{e===!0?t.assign(n,!0):(t.assign(n,(0,yn._)`${n} || {}`),zg(t,n,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:Jw}),items:Gw({mergeNames:(t,e,n)=>t.if((0,yn._)`${n} !== true && ${e} !== undefined`,()=>t.assign(n,(0,yn._)`${e} === true ? true : ${n} > ${e} ? ${n} : ${e}`)),mergeToName:(t,e,n)=>t.if((0,yn._)`${n} !== true`,()=>t.assign(n,e===!0?!0:(0,yn._)`${n} > ${e} ? ${n} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function Jw(t,e){if(e===!0)return t.var("props",!0);const n=t.var("props",(0,yn._)`{}`);return e!==void 0&&zg(t,n,e),n}Ue.evaluatedPropsToName=Jw;function zg(t,e,n){Object.keys(n).forEach(r=>t.assign((0,yn._)`${e}${(0,yn.getProperty)(r)}`,!0))}Ue.setEvaluated=zg;const Qw={};function c2(t,e){return t.scopeValue("func",{ref:e,code:Qw[e.code]||(Qw[e.code]=new t2._Code(e.code))})}Ue.useFunc=c2;var Yg;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(Yg||(Ue.Type=Yg={}));function l2(t,e,n){if(t instanceof yn.Name){const r=e===Yg.Num;return n?r?(0,yn._)`"[" + ${t} + "]"`:(0,yn._)`"['" + ${t} + "']"`:r?(0,yn._)`"/" + ${t}`:(0,yn._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,yn.getProperty)(t).toString():"/"+Kg(t)}Ue.getErrorPath=l2;function Xw(t,e,n=t.opts.strictSchema){if(!!n){if(e=`strict mode: ${e}`,n===!0)throw new Error(e);t.self.logger.warn(e)}}Ue.checkStrictMode=Xw;var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});const dr=pt,f2={data:new dr.Name("data"),valCxt:new dr.Name("valCxt"),instancePath:new dr.Name("instancePath"),parentData:new dr.Name("parentData"),parentDataProperty:new dr.Name("parentDataProperty"),rootData:new dr.Name("rootData"),dynamicAnchors:new dr.Name("dynamicAnchors"),vErrors:new dr.Name("vErrors"),errors:new dr.Name("errors"),this:new dr.Name("this"),self:new dr.Name("self"),scope:new dr.Name("scope"),json:new dr.Name("json"),jsonPos:new dr.Name("jsonPos"),jsonLen:new dr.Name("jsonLen"),jsonPart:new dr.Name("jsonPart")};Vr.default=f2,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=pt,n=Ue,r=Vr;t.keywordError={message:({keyword:C})=>(0,e.str)`must pass "${C}" keyword validation`},t.keyword$DataError={message:({keyword:C,schemaType:R})=>R?(0,e.str)`"${C}" keyword must be ${R} ($data)`:(0,e.str)`"${C}" keyword is invalid ($data)`};function i(C,R=t.keywordError,T,v){const{it:D}=C,{gen:b,compositeRule:_,allErrors:$}=D,q=g(C,R,T);(v!=null?v:_||$)?f(b,q):d(D,(0,e._)`[${q}]`)}t.reportError=i;function s(C,R=t.keywordError,T){const{it:v}=C,{gen:D,compositeRule:b,allErrors:_}=v,$=g(C,R,T);f(D,$),b||_||d(v,r.default.vErrors)}t.reportExtraError=s;function a(C,R){C.assign(r.default.errors,R),C.if((0,e._)`${r.default.vErrors} !== null`,()=>C.if(R,()=>C.assign((0,e._)`${r.default.vErrors}.length`,R),()=>C.assign(r.default.vErrors,null)))}t.resetErrorsCount=a;function l({gen:C,keyword:R,schemaValue:T,data:v,errsCount:D,it:b}){if(D===void 0)throw new Error("ajv implementation error");const _=C.name("err");C.forRange("i",D,r.default.errors,$=>{C.const(_,(0,e._)`${r.default.vErrors}[${$}]`),C.if((0,e._)`${_}.instancePath === undefined`,()=>C.assign((0,e._)`${_}.instancePath`,(0,e.strConcat)(r.default.instancePath,b.errorPath))),C.assign((0,e._)`${_}.schemaPath`,(0,e.str)`${b.errSchemaPath}/${R}`),b.opts.verbose&&(C.assign((0,e._)`${_}.schema`,T),C.assign((0,e._)`${_}.data`,v))})}t.extendErrors=l;function f(C,R){const T=C.const("err",R);C.if((0,e._)`${r.default.vErrors} === null`,()=>C.assign(r.default.vErrors,(0,e._)`[${T}]`),(0,e._)`${r.default.vErrors}.push(${T})`),C.code((0,e._)`${r.default.errors}++`)}function d(C,R){const{gen:T,validateName:v,schemaEnv:D}=C;D.$async?T.throw((0,e._)`new ${C.ValidationError}(${R})`):(T.assign((0,e._)`${v}.errors`,R),T.return(!1))}const h={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function g(C,R,T){const{createErrors:v}=C.it;return v===!1?(0,e._)`{}`:S(C,R,T)}function S(C,R,T={}){const{gen:v,it:D}=C,b=[O(D,T),I(C,T)];return P(C,R,b),v.object(...b)}function O({errorPath:C},{instancePath:R}){const T=R?(0,e.str)`${C}${(0,n.getErrorPath)(R,n.Type.Str)}`:C;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,T)]}function I({keyword:C,it:{errSchemaPath:R}},{schemaPath:T,parentSchema:v}){let D=v?R:(0,e.str)`${R}/${C}`;return T&&(D=(0,e.str)`${D}${(0,n.getErrorPath)(T,n.Type.Str)}`),[h.schemaPath,D]}function P(C,{params:R,message:T},v){const{keyword:D,data:b,schemaValue:_,it:$}=C,{opts:q,propertyName:F,topSchemaRef:L,schemaPath:M}=$;v.push([h.keyword,D],[h.params,typeof R=="function"?R(C):R||(0,e._)`{}`]),q.messages&&v.push([h.message,typeof T=="function"?T(C):T]),q.verbose&&v.push([h.schema,_],[h.parentSchema,(0,e._)`${L}${M}`],[r.default.data,b]),F&&v.push([h.propertyName,F])}}(Qc),Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.boolOrEmptySchema=Eu.topBoolOrEmptySchema=void 0;const d2=Qc,h2=pt,p2=Vr,m2={message:"boolean schema is false"};function g2(t){const{gen:e,schema:n,validateName:r}=t;n===!1?Zw(t,!1):typeof n=="object"&&n.$async===!0?e.return(p2.default.data):(e.assign((0,h2._)`${r}.errors`,null),e.return(!0))}Eu.topBoolOrEmptySchema=g2;function y2(t,e){const{gen:n,schema:r}=t;r===!1?(n.var(e,!1),Zw(t)):n.var(e,!0)}Eu.boolOrEmptySchema=y2;function Zw(t,e){const{gen:n,data:r}=t,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,d2.reportError)(i,m2,void 0,e)}var Xn={},ca={};Object.defineProperty(ca,"__esModule",{value:!0}),ca.getRules=ca.isJSONType=void 0;const v2=["string","number","integer","boolean","null","object","array"],b2=new Set(v2);function D2(t){return typeof t=="string"&&b2.has(t)}ca.isJSONType=D2;function w2(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}ca.getRules=w2;var ks={};Object.defineProperty(ks,"__esModule",{value:!0}),ks.shouldUseRule=ks.shouldUseGroup=ks.schemaHasRulesForType=void 0;function _2({schema:t,self:e},n){const r=e.RULES.types[n];return r&&r!==!0&&e_(t,r)}ks.schemaHasRulesForType=_2;function e_(t,e){return e.rules.some(n=>t_(t,n))}ks.shouldUseGroup=e_;function t_(t,e){var n;return t[e.keyword]!==void 0||((n=e.definition.implements)===null||n===void 0?void 0:n.some(r=>t[r]!==void 0))}ks.shouldUseRule=t_,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.reportTypeError=Xn.checkDataTypes=Xn.checkDataType=Xn.coerceAndCheckDataType=Xn.getJSONTypes=Xn.getSchemaTypes=Xn.DataType=void 0;const $2=ca,E2=ks,S2=Qc,kt=pt,n_=Ue;var Su;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(Su||(Xn.DataType=Su={}));function T2(t){const e=r_(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}Xn.getSchemaTypes=T2;function r_(t){const e=Array.isArray(t)?t:t?[t]:[];if(e.every($2.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}Xn.getJSONTypes=r_;function k2(t,e){const{gen:n,data:r,opts:i}=t,s=A2(e,i.coerceTypes),a=e.length>0&&!(s.length===0&&e.length===1&&(0,E2.schemaHasRulesForType)(t,e[0]));if(a){const l=Jg(e,r,i.strictNumbers,Su.Wrong);n.if(l,()=>{s.length?C2(t,e,s):Qg(t)})}return a}Xn.coerceAndCheckDataType=k2;const i_=new Set(["string","number","integer","boolean","null"]);function A2(t,e){return e?t.filter(n=>i_.has(n)||e==="array"&&n==="array"):[]}function C2(t,e,n){const{gen:r,data:i,opts:s}=t,a=r.let("dataType",(0,kt._)`typeof ${i}`),l=r.let("coerced",(0,kt._)`undefined`);s.coerceTypes==="array"&&r.if((0,kt._)`${a} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>r.assign(i,(0,kt._)`${i}[0]`).assign(a,(0,kt._)`typeof ${i}`).if(Jg(e,i,s.strictNumbers),()=>r.assign(l,i))),r.if((0,kt._)`${l} !== undefined`);for(const d of n)(i_.has(d)||d==="array"&&s.coerceTypes==="array")&&f(d);r.else(),Qg(t),r.endIf(),r.if((0,kt._)`${l} !== undefined`,()=>{r.assign(i,l),O2(t,l)});function f(d){switch(d){case"string":r.elseIf((0,kt._)`${a} == "number" || ${a} == "boolean"`).assign(l,(0,kt._)`"" + ${i}`).elseIf((0,kt._)`${i} === null`).assign(l,(0,kt._)`""`);return;case"number":r.elseIf((0,kt._)`${a} == "boolean" || ${i} === null
              || (${a} == "string" && ${i} && ${i} == +${i})`).assign(l,(0,kt._)`+${i}`);return;case"integer":r.elseIf((0,kt._)`${a} === "boolean" || ${i} === null
              || (${a} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(l,(0,kt._)`+${i}`);return;case"boolean":r.elseIf((0,kt._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(l,!1).elseIf((0,kt._)`${i} === "true" || ${i} === 1`).assign(l,!0);return;case"null":r.elseIf((0,kt._)`${i} === "" || ${i} === 0 || ${i} === false`),r.assign(l,null);return;case"array":r.elseIf((0,kt._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${i} === null`).assign(l,(0,kt._)`[${i}]`)}}}function O2({gen:t,parentData:e,parentDataProperty:n},r){t.if((0,kt._)`${e} !== undefined`,()=>t.assign((0,kt._)`${e}[${n}]`,r))}function Gg(t,e,n,r=Su.Correct){const i=r===Su.Correct?kt.operators.EQ:kt.operators.NEQ;let s;switch(t){case"null":return(0,kt._)`${e} ${i} null`;case"array":s=(0,kt._)`Array.isArray(${e})`;break;case"object":s=(0,kt._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":s=a((0,kt._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":s=a();break;default:return(0,kt._)`typeof ${e} ${i} ${t}`}return r===Su.Correct?s:(0,kt.not)(s);function a(l=kt.nil){return(0,kt.and)((0,kt._)`typeof ${e} == "number"`,l,n?(0,kt._)`isFinite(${e})`:kt.nil)}}Xn.checkDataType=Gg;function Jg(t,e,n,r){if(t.length===1)return Gg(t[0],e,n,r);let i;const s=(0,n_.toHash)(t);if(s.array&&s.object){const a=(0,kt._)`typeof ${e} != "object"`;i=s.null?a:(0,kt._)`!${e} || ${a}`,delete s.null,delete s.array,delete s.object}else i=kt.nil;s.number&&delete s.integer;for(const a in s)i=(0,kt.and)(i,Gg(a,e,n,r));return i}Xn.checkDataTypes=Jg;const P2={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,kt._)`{type: ${t}}`:(0,kt._)`{type: ${e}}`};function Qg(t){const e=N2(t);(0,S2.reportError)(e,P2)}Xn.reportTypeError=Qg;function N2(t){const{gen:e,data:n,schema:r}=t,i=(0,n_.schemaRefOrVal)(t,r,"type");return{gen:e,keyword:"type",data:n,schema:r.type,schemaCode:i,schemaValue:i,parentSchema:r,params:{},it:t}}var wd={};Object.defineProperty(wd,"__esModule",{value:!0}),wd.assignDefaults=void 0;const Tu=pt,F2=Ue;function R2(t,e){const{properties:n,items:r}=t.schema;if(e==="object"&&n)for(const i in n)s_(t,i,n[i].default);else e==="array"&&Array.isArray(r)&&r.forEach((i,s)=>s_(t,s,i.default))}wd.assignDefaults=R2;function s_(t,e,n){const{gen:r,compositeRule:i,data:s,opts:a}=t;if(n===void 0)return;const l=(0,Tu._)`${s}${(0,Tu.getProperty)(e)}`;if(i){(0,F2.checkStrictMode)(t,`default is ignored for: ${l}`);return}let f=(0,Tu._)`${l} === undefined`;a.useDefaults==="empty"&&(f=(0,Tu._)`${f} || ${l} === null || ${l} === ""`),r.if(f,(0,Tu._)`${l} = ${(0,Tu.stringify)(n)}`)}var es={},Ft={};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.validateUnion=Ft.validateArray=Ft.usePattern=Ft.callValidateCode=Ft.schemaProperties=Ft.allSchemaProperties=Ft.noPropertyInData=Ft.propertyInData=Ft.isOwnProperty=Ft.hasPropFunc=Ft.reportMissingProp=Ft.checkMissingProp=Ft.checkReportMissingProp=void 0;const $n=pt,Xg=Ue,go=Vr,I2=Ue;function M2(t,e){const{gen:n,data:r,it:i}=t;n.if(ey(n,r,e,i.opts.ownProperties),()=>{t.setParams({missingProperty:(0,$n._)`${e}`},!0),t.error()})}Ft.checkReportMissingProp=M2;function L2({gen:t,data:e,it:{opts:n}},r,i){return(0,$n.or)(...r.map(s=>(0,$n.and)(ey(t,e,s,n.ownProperties),(0,$n._)`${i} = ${s}`)))}Ft.checkMissingProp=L2;function j2(t,e){t.setParams({missingProperty:e},!0),t.error()}Ft.reportMissingProp=j2;function o_(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,$n._)`Object.prototype.hasOwnProperty`})}Ft.hasPropFunc=o_;function Zg(t,e,n){return(0,$n._)`${o_(t)}.call(${e}, ${n})`}Ft.isOwnProperty=Zg;function x2(t,e,n,r){const i=(0,$n._)`${e}${(0,$n.getProperty)(n)} !== undefined`;return r?(0,$n._)`${i} && ${Zg(t,e,n)}`:i}Ft.propertyInData=x2;function ey(t,e,n,r){const i=(0,$n._)`${e}${(0,$n.getProperty)(n)} === undefined`;return r?(0,$n.or)(i,(0,$n.not)(Zg(t,e,n))):i}Ft.noPropertyInData=ey;function a_(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Ft.allSchemaProperties=a_;function B2(t,e){return a_(e).filter(n=>!(0,Xg.alwaysValidSchema)(t,e[n]))}Ft.schemaProperties=B2;function q2({schemaCode:t,data:e,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:a},l,f,d){const h=d?(0,$n._)`${t}, ${e}, ${r}${i}`:e,g=[[go.default.instancePath,(0,$n.strConcat)(go.default.instancePath,s)],[go.default.parentData,a.parentData],[go.default.parentDataProperty,a.parentDataProperty],[go.default.rootData,go.default.rootData]];a.opts.dynamicRef&&g.push([go.default.dynamicAnchors,go.default.dynamicAnchors]);const S=(0,$n._)`${h}, ${n.object(...g)}`;return f!==$n.nil?(0,$n._)`${l}.call(${f}, ${S})`:(0,$n._)`${l}(${S})`}Ft.callValidateCode=q2;const W2=(0,$n._)`new RegExp`;function U2({gen:t,it:{opts:e}},n){const r=e.unicodeRegExp?"u":"",{regExp:i}=e.code,s=i(n,r);return t.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,$n._)`${i.code==="new RegExp"?W2:(0,I2.useFunc)(t,i)}(${n}, ${r})`})}Ft.usePattern=U2;function V2(t){const{gen:e,data:n,keyword:r,it:i}=t,s=e.name("valid");if(i.allErrors){const l=e.let("valid",!0);return a(()=>e.assign(l,!1)),l}return e.var(s,!0),a(()=>e.break()),s;function a(l){const f=e.const("len",(0,$n._)`${n}.length`);e.forRange("i",0,f,d=>{t.subschema({keyword:r,dataProp:d,dataPropType:Xg.Type.Num},s),e.if((0,$n.not)(s),l)})}}Ft.validateArray=V2;function H2(t){const{gen:e,schema:n,keyword:r,it:i}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(f=>(0,Xg.alwaysValidSchema)(i,f))&&!i.opts.unevaluated)return;const a=e.let("valid",!1),l=e.name("_valid");e.block(()=>n.forEach((f,d)=>{const h=t.subschema({keyword:r,schemaProp:d,compositeRule:!0},l);e.assign(a,(0,$n._)`${a} || ${l}`),t.mergeValidEvaluated(h,l)||e.if((0,$n.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}Ft.validateUnion=H2,Object.defineProperty(es,"__esModule",{value:!0}),es.validateKeywordUsage=es.validSchemaType=es.funcKeywordCode=es.macroKeywordCode=void 0;const _r=pt,la=Vr,K2=Ft,z2=Qc;function Y2(t,e){const{gen:n,keyword:r,schema:i,parentSchema:s,it:a}=t,l=e.macro.call(a.self,i,s,a),f=c_(n,r,l);a.opts.validateSchema!==!1&&a.self.validateSchema(l,!0);const d=n.name("valid");t.subschema({schema:l,schemaPath:_r.nil,errSchemaPath:`${a.errSchemaPath}/${r}`,topSchemaRef:f,compositeRule:!0},d),t.pass(d,()=>t.error(!0))}es.macroKeywordCode=Y2;function G2(t,e){var n;const{gen:r,keyword:i,schema:s,parentSchema:a,$data:l,it:f}=t;Q2(f,e);const d=!l&&e.compile?e.compile.call(f.self,s,a,f):e.validate,h=c_(r,i,d),g=r.let("valid");t.block$data(g,S),t.ok((n=e.valid)!==null&&n!==void 0?n:g);function S(){if(e.errors===!1)P(),e.modifying&&u_(t),C(()=>t.error());else{const R=e.async?O():I();e.modifying&&u_(t),C(()=>J2(t,R))}}function O(){const R=r.let("ruleErrs",null);return r.try(()=>P((0,_r._)`await `),T=>r.assign(g,!1).if((0,_r._)`${T} instanceof ${f.ValidationError}`,()=>r.assign(R,(0,_r._)`${T}.errors`),()=>r.throw(T))),R}function I(){const R=(0,_r._)`${h}.errors`;return r.assign(R,null),P(_r.nil),R}function P(R=e.async?(0,_r._)`await `:_r.nil){const T=f.opts.passContext?la.default.this:la.default.self,v=!("compile"in e&&!l||e.schema===!1);r.assign(g,(0,_r._)`${R}${(0,K2.callValidateCode)(t,h,T,v)}`,e.modifying)}function C(R){var T;r.if((0,_r.not)((T=e.valid)!==null&&T!==void 0?T:g),R)}}es.funcKeywordCode=G2;function u_(t){const{gen:e,data:n,it:r}=t;e.if(r.parentData,()=>e.assign(n,(0,_r._)`${r.parentData}[${r.parentDataProperty}]`))}function J2(t,e){const{gen:n}=t;n.if((0,_r._)`Array.isArray(${e})`,()=>{n.assign(la.default.vErrors,(0,_r._)`${la.default.vErrors} === null ? ${e} : ${la.default.vErrors}.concat(${e})`).assign(la.default.errors,(0,_r._)`${la.default.vErrors}.length`),(0,z2.extendErrors)(t)},()=>t.error())}function Q2({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function c_(t,e,n){if(n===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,_r.stringify)(n)})}function X2(t,e,n=!1){return!e.length||e.some(r=>r==="array"?Array.isArray(t):r==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==r||n&&typeof t>"u")}es.validSchemaType=X2;function Z2({schema:t,opts:e,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const a=i.dependencies;if(a!=null&&a.some(l=>!Object.prototype.hasOwnProperty.call(t,l)))throw new Error(`parent schema must have dependencies of ${s}: ${a.join(",")}`);if(i.validateSchema&&!i.validateSchema(t[s])){const f=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(e.validateSchema==="log")n.logger.error(f);else throw new Error(f)}}es.validateKeywordUsage=Z2;var yo={};Object.defineProperty(yo,"__esModule",{value:!0}),yo.extendSubschemaMode=yo.extendSubschemaData=yo.getSubschema=void 0;const ts=pt,l_=Ue;function eP(t,{keyword:e,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:a}){if(e!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const l=t.schema[e];return n===void 0?{schema:l,schemaPath:(0,ts._)`${t.schemaPath}${(0,ts.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:l[n],schemaPath:(0,ts._)`${t.schemaPath}${(0,ts.getProperty)(e)}${(0,ts.getProperty)(n)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,l_.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:a,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}yo.getSubschema=eP;function tP(t,e,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:a}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:l}=e;if(n!==void 0){const{errorPath:d,dataPathArr:h,opts:g}=e,S=l.let("data",(0,ts._)`${e.data}${(0,ts.getProperty)(n)}`,!0);f(S),t.errorPath=(0,ts.str)`${d}${(0,l_.getErrorPath)(n,r,g.jsPropertySyntax)}`,t.parentDataProperty=(0,ts._)`${n}`,t.dataPathArr=[...h,t.parentDataProperty]}if(i!==void 0){const d=i instanceof ts.Name?i:l.let("data",i,!0);f(d),a!==void 0&&(t.propertyName=a)}s&&(t.dataTypes=s);function f(d){t.data=d,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,d]}}yo.extendSubschemaData=tP;function nP(t,{jtdDiscriminator:e,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(t.compositeRule=r),i!==void 0&&(t.createErrors=i),s!==void 0&&(t.allErrors=s),t.jtdDiscriminator=e,t.jtdMetadata=n}yo.extendSubschemaMode=nP;var sr={},f_=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n},d_={exports:{}},vo=d_.exports=function(t,e,n){typeof e=="function"&&(n=e,e={}),n=e.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};_d(e,r,i,t,"",t)};vo.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},vo.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},vo.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},vo.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function _d(t,e,n,r,i,s,a,l,f,d){if(r&&typeof r=="object"&&!Array.isArray(r)){e(r,i,s,a,l,f,d);for(var h in r){var g=r[h];if(Array.isArray(g)){if(h in vo.arrayKeywords)for(var S=0;S<g.length;S++)_d(t,e,n,g[S],i+"/"+h+"/"+S,s,i,h,r,S)}else if(h in vo.propsKeywords){if(g&&typeof g=="object")for(var O in g)_d(t,e,n,g[O],i+"/"+h+"/"+rP(O),s,i,h,r,O)}else(h in vo.keywords||t.allKeys&&!(h in vo.skipKeywords))&&_d(t,e,n,g,i+"/"+h,s,i,h,r)}n(r,i,s,a,l,f,d)}}function rP(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(sr,"__esModule",{value:!0}),sr.getSchemaRefs=sr.resolveUrl=sr.normalizeId=sr._getFullPath=sr.getFullPath=sr.inlineRef=void 0;const iP=Ue,sP=f_,oP=d_.exports,aP=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function uP(t,e=!0){return typeof t=="boolean"?!0:e===!0?!ty(t):e?h_(t)<=e:!1}sr.inlineRef=uP;const cP=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function ty(t){for(const e in t){if(cP.has(e))return!0;const n=t[e];if(Array.isArray(n)&&n.some(ty)||typeof n=="object"&&ty(n))return!0}return!1}function h_(t){let e=0;for(const n in t){if(n==="$ref")return 1/0;if(e++,!aP.has(n)&&(typeof t[n]=="object"&&(0,iP.eachItem)(t[n],r=>e+=h_(r)),e===1/0))return 1/0}return e}function p_(t,e="",n){n!==!1&&(e=ku(e));const r=t.parse(e);return m_(t,r)}sr.getFullPath=p_;function m_(t,e){return t.serialize(e).split("#")[0]+"#"}sr._getFullPath=m_;const lP=/#\/?$/;function ku(t){return t?t.replace(lP,""):""}sr.normalizeId=ku;function fP(t,e,n){return n=ku(n),t.resolve(e,n)}sr.resolveUrl=fP;const dP=/^[a-z_][-a-z0-9._]*$/i;function hP(t,e){if(typeof t=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=ku(t[n]||e),s={"":i},a=p_(r,i,!1),l={},f=new Set;return oP(t,{allKeys:!0},(g,S,O,I)=>{if(I===void 0)return;const P=a+S;let C=s[I];typeof g[n]=="string"&&(C=R.call(this,g[n])),T.call(this,g.$anchor),T.call(this,g.$dynamicAnchor),s[S]=C;function R(v){const D=this.opts.uriResolver.resolve;if(v=ku(C?D(C,v):v),f.has(v))throw h(v);f.add(v);let b=this.refs[v];return typeof b=="string"&&(b=this.refs[b]),typeof b=="object"?d(g,b.schema,v):v!==ku(P)&&(v[0]==="#"?(d(g,l[v],v),l[v]=g):this.refs[v]=P),v}function T(v){if(typeof v=="string"){if(!dP.test(v))throw new Error(`invalid anchor "${v}"`);R.call(this,`#${v}`)}}}),l;function d(g,S,O){if(S!==void 0&&!sP(g,S))throw h(O)}function h(g){return new Error(`reference "${g}" resolves to more than one schema`)}}sr.getSchemaRefs=hP,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.getData=Ur.KeywordCxt=Ur.validateFunctionCode=void 0;const g_=Eu,y_=Xn,ny=ks,$d=Xn,pP=wd,Zc=es,ry=yo,Qe=pt,dt=Vr,mP=sr,As=Ue,el=Qc;function gP(t){if(w_(t)&&(__(t),D_(t))){bP(t);return}v_(t,()=>(0,g_.topBoolOrEmptySchema)(t))}Ur.validateFunctionCode=gP;function v_({gen:t,validateName:e,schema:n,schemaEnv:r,opts:i},s){i.code.es5?t.func(e,(0,Qe._)`${dt.default.data}, ${dt.default.valCxt}`,r.$async,()=>{t.code((0,Qe._)`"use strict"; ${b_(n,i)}`),vP(t,i),t.code(s)}):t.func(e,(0,Qe._)`${dt.default.data}, ${yP(i)}`,r.$async,()=>t.code(b_(n,i)).code(s))}function yP(t){return(0,Qe._)`{${dt.default.instancePath}="", ${dt.default.parentData}, ${dt.default.parentDataProperty}, ${dt.default.rootData}=${dt.default.data}${t.dynamicRef?(0,Qe._)`, ${dt.default.dynamicAnchors}={}`:Qe.nil}}={}`}function vP(t,e){t.if(dt.default.valCxt,()=>{t.var(dt.default.instancePath,(0,Qe._)`${dt.default.valCxt}.${dt.default.instancePath}`),t.var(dt.default.parentData,(0,Qe._)`${dt.default.valCxt}.${dt.default.parentData}`),t.var(dt.default.parentDataProperty,(0,Qe._)`${dt.default.valCxt}.${dt.default.parentDataProperty}`),t.var(dt.default.rootData,(0,Qe._)`${dt.default.valCxt}.${dt.default.rootData}`),e.dynamicRef&&t.var(dt.default.dynamicAnchors,(0,Qe._)`${dt.default.valCxt}.${dt.default.dynamicAnchors}`)},()=>{t.var(dt.default.instancePath,(0,Qe._)`""`),t.var(dt.default.parentData,(0,Qe._)`undefined`),t.var(dt.default.parentDataProperty,(0,Qe._)`undefined`),t.var(dt.default.rootData,dt.default.data),e.dynamicRef&&t.var(dt.default.dynamicAnchors,(0,Qe._)`{}`)})}function bP(t){const{schema:e,opts:n,gen:r}=t;v_(t,()=>{n.$comment&&e.$comment&&E_(t),EP(t),r.let(dt.default.vErrors,null),r.let(dt.default.errors,0),n.unevaluated&&DP(t),$_(t),kP(t)})}function DP(t){const{gen:e,validateName:n}=t;t.evaluated=e.const("evaluated",(0,Qe._)`${n}.evaluated`),e.if((0,Qe._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,Qe._)`${t.evaluated}.props`,(0,Qe._)`undefined`)),e.if((0,Qe._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,Qe._)`${t.evaluated}.items`,(0,Qe._)`undefined`))}function b_(t,e){const n=typeof t=="object"&&t[e.schemaId];return n&&(e.code.source||e.code.process)?(0,Qe._)`/*# sourceURL=${n} */`:Qe.nil}function wP(t,e){if(w_(t)&&(__(t),D_(t))){_P(t,e);return}(0,g_.boolOrEmptySchema)(t,e)}function D_({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const n in t)if(e.RULES.all[n])return!0;return!1}function w_(t){return typeof t.schema!="boolean"}function _P(t,e){const{schema:n,gen:r,opts:i}=t;i.$comment&&n.$comment&&E_(t),SP(t),TP(t);const s=r.const("_errs",dt.default.errors);$_(t,s),r.var(e,(0,Qe._)`${s} === ${dt.default.errors}`)}function __(t){(0,As.checkUnknownRules)(t),$P(t)}function $_(t,e){if(t.opts.jtd)return S_(t,[],!1,e);const n=(0,y_.getSchemaTypes)(t.schema),r=(0,y_.coerceAndCheckDataType)(t,n);S_(t,n,!r,e)}function $P(t){const{schema:e,errSchemaPath:n,opts:r,self:i}=t;e.$ref&&r.ignoreKeywordsWithRef&&(0,As.schemaHasRulesButRef)(e,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function EP(t){const{schema:e,opts:n}=t;e.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,As.checkStrictMode)(t,"default is ignored in the schema root")}function SP(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,mP.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function TP(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function E_({gen:t,schemaEnv:e,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)t.code((0,Qe._)`${dt.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const a=(0,Qe.str)`${r}/$comment`,l=t.scopeValue("root",{ref:e.root});t.code((0,Qe._)`${dt.default.self}.opts.$comment(${s}, ${a}, ${l}.schema)`)}}function kP(t){const{gen:e,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=t;n.$async?e.if((0,Qe._)`${dt.default.errors} === 0`,()=>e.return(dt.default.data),()=>e.throw((0,Qe._)`new ${i}(${dt.default.vErrors})`)):(e.assign((0,Qe._)`${r}.errors`,dt.default.vErrors),s.unevaluated&&AP(t),e.return((0,Qe._)`${dt.default.errors} === 0`))}function AP({gen:t,evaluated:e,props:n,items:r}){n instanceof Qe.Name&&t.assign((0,Qe._)`${e}.props`,n),r instanceof Qe.Name&&t.assign((0,Qe._)`${e}.items`,r)}function S_(t,e,n,r){const{gen:i,schema:s,data:a,allErrors:l,opts:f,self:d}=t,{RULES:h}=d;if(s.$ref&&(f.ignoreKeywordsWithRef||!(0,As.schemaHasRulesButRef)(s,h))){i.block(()=>C_(t,"$ref",h.all.$ref.definition));return}f.jtd||CP(t,e),i.block(()=>{for(const S of h.rules)g(S);g(h.post)});function g(S){!(0,ny.shouldUseGroup)(s,S)||(S.type?(i.if((0,$d.checkDataType)(S.type,a,f.strictNumbers)),T_(t,S),e.length===1&&e[0]===S.type&&n&&(i.else(),(0,$d.reportTypeError)(t)),i.endIf()):T_(t,S),l||i.if((0,Qe._)`${dt.default.errors} === ${r||0}`))}}function T_(t,e){const{gen:n,schema:r,opts:{useDefaults:i}}=t;i&&(0,pP.assignDefaults)(t,e.type),n.block(()=>{for(const s of e.rules)(0,ny.shouldUseRule)(r,s)&&C_(t,s.keyword,s.definition,e.type)})}function CP(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(OP(t,e),t.opts.allowUnionTypes||PP(t,e),NP(t,t.dataTypes))}function OP(t,e){if(!!e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(n=>{k_(t.dataTypes,n)||iy(t,`type "${n}" not allowed by context "${t.dataTypes.join(",")}"`)}),RP(t,e)}}function PP(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&iy(t,"use allowUnionTypes to allow union type keyword")}function NP(t,e){const n=t.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,ny.shouldUseRule)(t.schema,i)){const{type:s}=i.definition;s.length&&!s.some(a=>FP(e,a))&&iy(t,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function FP(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function k_(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function RP(t,e){const n=[];for(const r of t.dataTypes)k_(e,r)?n.push(r):e.includes("integer")&&r==="number"&&n.push("integer");t.dataTypes=n}function iy(t,e){const n=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${n}" (strictTypes)`,(0,As.checkStrictMode)(t,e,t.opts.strictTypes)}class A_{constructor(e,n,r){if((0,Zc.validateKeywordUsage)(e,n,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=n.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,As.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=n,this.$data)this.schemaCode=e.gen.const("vSchema",O_(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Zc.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=e.gen.const("_errs",dt.default.errors))}result(e,n,r){this.failResult((0,Qe.not)(e),n,r)}failResult(e,n,r){this.gen.if(e),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,n){this.failResult((0,Qe.not)(e),void 0,n)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:n}=this;this.fail((0,Qe._)`${n} !== undefined && (${(0,Qe.or)(this.invalid$data(),e)})`)}error(e,n,r){if(n){this.setParams(n),this._error(e,r),this.setParams({});return}this._error(e,r)}_error(e,n){(e?el.reportExtraError:el.reportError)(this,this.def.error,n)}$dataError(){(0,el.reportError)(this,this.def.$dataError||el.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,el.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,n){n?Object.assign(this.params,e):this.params=e}block$data(e,n,r=Qe.nil){this.gen.block(()=>{this.check$data(e,r),n()})}check$data(e=Qe.nil,n=Qe.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:a}=this;r.if((0,Qe.or)((0,Qe._)`${i} === undefined`,n)),e!==Qe.nil&&r.assign(e,!0),(s.length||a.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==Qe.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,Qe.or)(a(),l());function a(){if(r.length){if(!(n instanceof Qe.Name))throw new Error("ajv implementation error");const f=Array.isArray(r)?r:[r];return(0,Qe._)`${(0,$d.checkDataTypes)(f,n,s.opts.strictNumbers,$d.DataType.Wrong)}`}return Qe.nil}function l(){if(i.validateSchema){const f=e.scopeValue("validate$data",{ref:i.validateSchema});return(0,Qe._)`!${f}(${n})`}return Qe.nil}}subschema(e,n){const r=(0,ry.getSubschema)(this.it,e);(0,ry.extendSubschemaData)(r,this.it,e),(0,ry.extendSubschemaMode)(r,e);const i={...this.it,...r,items:void 0,props:void 0};return wP(i,n),i}mergeEvaluated(e,n){const{it:r,gen:i}=this;!r.opts.unevaluated||(r.props!==!0&&e.props!==void 0&&(r.props=As.mergeEvaluated.props(i,e.props,r.props,n)),r.items!==!0&&e.items!==void 0&&(r.items=As.mergeEvaluated.items(i,e.items,r.items,n)))}mergeValidEvaluated(e,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(e,Qe.Name)),!0}}Ur.KeywordCxt=A_;function C_(t,e,n,r){const i=new A_(t,n,e);"code"in n?n.code(i,r):i.$data&&n.validate?(0,Zc.funcKeywordCode)(i,n):"macro"in n?(0,Zc.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,Zc.funcKeywordCode)(i,n)}const IP=/^\/(?:[^~]|~0|~1)*$/,MP=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function O_(t,{dataLevel:e,dataNames:n,dataPathArr:r}){let i,s;if(t==="")return dt.default.rootData;if(t[0]==="/"){if(!IP.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);i=t,s=dt.default.rootData}else{const d=MP.exec(t);if(!d)throw new Error(`Invalid JSON-pointer: ${t}`);const h=+d[1];if(i=d[2],i==="#"){if(h>=e)throw new Error(f("property/index",h));return r[e-h]}if(h>e)throw new Error(f("data",h));if(s=n[e-h],!i)return s}let a=s;const l=i.split("/");for(const d of l)d&&(s=(0,Qe._)`${s}${(0,Qe.getProperty)((0,As.unescapeJsonPointer)(d))}`,a=(0,Qe._)`${a} && ${s}`);return a;function f(d,h){return`Cannot access ${d} ${h} levels up, current level is ${e}`}}Ur.getData=O_;var fa={};Object.defineProperty(fa,"__esModule",{value:!0});class LP extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}fa.default=LP;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});const sy=sr;class jP extends Error{constructor(e,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,sy.resolveUrl)(e,n,r),this.missingSchema=(0,sy.normalizeId)((0,sy.getFullPath)(e,this.missingRef))}}bo.default=jP;var $r={};Object.defineProperty($r,"__esModule",{value:!0}),$r.resolveSchema=$r.getCompilingSchema=$r.resolveRef=$r.compileSchema=$r.SchemaEnv=void 0;const Oi=pt,xP=fa,da=Vr,Pi=sr,P_=Ue,BP=Ur;class Ed{constructor(e){var n;this.refs={},this.dynamicAnchors={};let r;typeof e.schema=="object"&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(n=e.baseId)!==null&&n!==void 0?n:(0,Pi.normalizeId)(r==null?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}$r.SchemaEnv=Ed;function oy(t){const e=N_.call(this,t);if(e)return e;const n=(0,Pi.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,a=new Oi.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let l;t.$async&&(l=a.scopeValue("Error",{ref:xP.default,code:(0,Oi._)`require("ajv/dist/runtime/validation_error").default`}));const f=a.scopeName("validate");t.validateName=f;const d={gen:a,allErrors:this.opts.allErrors,data:da.default.data,parentData:da.default.parentData,parentDataProperty:da.default.parentDataProperty,dataNames:[da.default.data],dataPathArr:[Oi.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Oi.stringify)(t.schema)}:{ref:t.schema}),validateName:f,ValidationError:l,schema:t.schema,schemaEnv:t,rootId:n,baseId:t.baseId||n,schemaPath:Oi.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Oi._)`""`,opts:this.opts,self:this};let h;try{this._compilations.add(t),(0,BP.validateFunctionCode)(d),a.optimize(this.opts.code.optimize);const g=a.toString();h=`${a.scopeRefs(da.default.scope)}return ${g}`,this.opts.code.process&&(h=this.opts.code.process(h,t));const O=new Function(`${da.default.self}`,`${da.default.scope}`,h)(this,this.scope.get());if(this.scope.value(f,{ref:O}),O.errors=null,O.schema=t.schema,O.schemaEnv=t,t.$async&&(O.$async=!0),this.opts.code.source===!0&&(O.source={validateName:f,validateCode:g,scopeValues:a._values}),this.opts.unevaluated){const{props:I,items:P}=d;O.evaluated={props:I instanceof Oi.Name?void 0:I,items:P instanceof Oi.Name?void 0:P,dynamicProps:I instanceof Oi.Name,dynamicItems:P instanceof Oi.Name},O.source&&(O.source.evaluated=(0,Oi.stringify)(O.evaluated))}return t.validate=O,t}catch(g){throw delete t.validate,delete t.validateName,h&&this.logger.error("Error compiling schema, function code:",h),g}finally{this._compilations.delete(t)}}$r.compileSchema=oy;function qP(t,e,n){var r;n=(0,Pi.resolveUrl)(this.opts.uriResolver,e,n);const i=t.refs[n];if(i)return i;let s=VP.call(this,t,n);if(s===void 0){const a=(r=t.localRefs)===null||r===void 0?void 0:r[n],{schemaId:l}=this.opts;a&&(s=new Ed({schema:a,schemaId:l,root:t,baseId:e}))}if(s!==void 0)return t.refs[n]=WP.call(this,s)}$r.resolveRef=qP;function WP(t){return(0,Pi.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:oy.call(this,t)}function N_(t){for(const e of this._compilations)if(UP(e,t))return e}$r.getCompilingSchema=N_;function UP(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function VP(t,e){let n;for(;typeof(n=this.refs[e])=="string";)e=n;return n||this.schemas[e]||Sd.call(this,t,e)}function Sd(t,e){const n=this.opts.uriResolver.parse(e),r=(0,Pi._getFullPath)(this.opts.uriResolver,n);let i=(0,Pi.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&r===i)return ay.call(this,n,t);const s=(0,Pi.normalizeId)(r),a=this.refs[s]||this.schemas[s];if(typeof a=="string"){const l=Sd.call(this,t,a);return typeof(l==null?void 0:l.schema)!="object"?void 0:ay.call(this,n,l)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||oy.call(this,a),s===(0,Pi.normalizeId)(e)){const{schema:l}=a,{schemaId:f}=this.opts,d=l[f];return d&&(i=(0,Pi.resolveUrl)(this.opts.uriResolver,i,d)),new Ed({schema:l,schemaId:f,root:t,baseId:i})}return ay.call(this,n,a)}}$r.resolveSchema=Sd;const HP=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function ay(t,{baseId:e,schema:n,root:r}){var i;if(((i=t.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const l of t.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const f=n[(0,P_.unescapeFragment)(l)];if(f===void 0)return;n=f;const d=typeof n=="object"&&n[this.opts.schemaId];!HP.has(l)&&d&&(e=(0,Pi.resolveUrl)(this.opts.uriResolver,e,d))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,P_.schemaHasRulesButRef)(n,this.RULES)){const l=(0,Pi.resolveUrl)(this.opts.uriResolver,e,n.$ref);s=Sd.call(this,r,l)}const{schemaId:a}=this.opts;if(s=s||new Ed({schema:n,schemaId:a,root:r,baseId:e}),s.schema!==s.root.schema)return s}var KP={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},uy={},Td={exports:{}},zP={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}};const{HEX:YP}=zP,GP=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function F_(t){if(I_(t,".")<3)return{host:t,isIPV4:!1};const e=t.match(GP)||[],[n]=e;return n?{host:QP(n,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function cy(t,e=!1){let n="",r=!0;for(const i of t){if(YP[i]===void 0)return;i!=="0"&&r===!0&&(r=!1),r||(n+=i)}return e&&n.length===0&&(n="0"),n}function JP(t){let e=0;const n={error:!1,address:"",zone:""},r=[],i=[];let s=!1,a=!1,l=!1;function f(){if(i.length){if(s===!1){const d=cy(i);if(d!==void 0)r.push(d);else return n.error=!0,!1}i.length=0}return!0}for(let d=0;d<t.length;d++){const h=t[d];if(!(h==="["||h==="]"))if(h===":"){if(a===!0&&(l=!0),!f())break;if(e++,r.push(":"),e>7){n.error=!0;break}d-1>=0&&t[d-1]===":"&&(a=!0);continue}else if(h==="%"){if(!f())break;s=!0}else{i.push(h);continue}}return i.length&&(s?n.zone=i.join(""):l?r.push(i.join("")):r.push(cy(i))),n.address=r.join(""),n}function R_(t){if(I_(t,":")<2)return{host:t,isIPV6:!1};const e=JP(t);if(e.error)return{host:t,isIPV6:!1};{let n=e.address,r=e.address;return e.zone&&(n+="%"+e.zone,r+="%25"+e.zone),{host:n,escapedHost:r,isIPV6:!0}}}function QP(t,e){let n="",r=!0;const i=t.length;for(let s=0;s<i;s++){const a=t[s];a==="0"&&r?(s+1<=i&&t[s+1]===e||s+1===i)&&(n+=a,r=!1):(a===e?r=!0:r=!1,n+=a)}return n}function I_(t,e){let n=0;for(let r=0;r<t.length;r++)t[r]===e&&n++;return n}const M_=/^\.\.?\//u,L_=/^\/\.(?:\/|$)/u,j_=/^\/\.\.(?:\/|$)/u,XP=/^\/?(?:.|\n)*?(?=\/|$)/u;function ZP(t){const e=[];for(;t.length;)if(t.match(M_))t=t.replace(M_,"");else if(t.match(L_))t=t.replace(L_,"/");else if(t.match(j_))t=t.replace(j_,"/"),e.pop();else if(t==="."||t==="..")t="";else{const n=t.match(XP);if(n){const r=n[0];t=t.slice(r.length),e.push(r)}else throw new Error("Unexpected dot segment condition")}return e.join("")}function eN(t,e){const n=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=n(t.scheme)),t.userinfo!==void 0&&(t.userinfo=n(t.userinfo)),t.host!==void 0&&(t.host=n(t.host)),t.path!==void 0&&(t.path=n(t.path)),t.query!==void 0&&(t.query=n(t.query)),t.fragment!==void 0&&(t.fragment=n(t.fragment)),t}function tN(t){const e=[];if(t.userinfo!==void 0&&(e.push(t.userinfo),e.push("@")),t.host!==void 0){let n=unescape(t.host);const r=F_(n);if(r.isIPV4)n=r.host;else{const i=R_(r.host);i.isIPV6===!0?n=`[${i.escapedHost}]`:n=t.host}e.push(n)}return(typeof t.port=="number"||typeof t.port=="string")&&(e.push(":"),e.push(String(t.port))),e.length?e.join(""):void 0}var nN={recomposeAuthority:tN,normalizeComponentEncoding:eN,removeDotSegments:ZP,normalizeIPv4:F_,normalizeIPv6:R_,stringArrayToHexStripped:cy};const rN=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,iN=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function x_(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function B_(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function q_(t){const e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function sN(t){return t.secure=x_(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function oN(t){if((t.port===(x_(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){const[e,n]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=n,t.resourceName=void 0}return t.fragment=void 0,t}function aN(t,e){if(!t.path)return t.error="URN can not be parsed",t;const n=t.path.match(iN);if(n){const r=e.scheme||t.scheme||"urn";t.nid=n[1].toLowerCase(),t.nss=n[2];const i=`${r}:${e.nid||t.nid}`,s=ly[i];t.path=void 0,s&&(t=s.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function uN(t,e){const n=e.scheme||t.scheme||"urn",r=t.nid.toLowerCase(),i=`${n}:${e.nid||r}`,s=ly[i];s&&(t=s.serialize(t,e));const a=t,l=t.nss;return a.path=`${r||e.nid}:${l}`,e.skipEscape=!0,a}function cN(t,e){const n=t;return n.uuid=n.nss,n.nss=void 0,!e.tolerant&&(!n.uuid||!rN.test(n.uuid))&&(n.error=n.error||"UUID is not valid."),n}function lN(t){const e=t;return e.nss=(t.uuid||"").toLowerCase(),e}const W_={scheme:"http",domainHost:!0,parse:B_,serialize:q_},fN={scheme:"https",domainHost:W_.domainHost,parse:B_,serialize:q_},kd={scheme:"ws",domainHost:!0,parse:sN,serialize:oN},dN={scheme:"wss",domainHost:kd.domainHost,parse:kd.parse,serialize:kd.serialize},ly={http:W_,https:fN,ws:kd,wss:dN,urn:{scheme:"urn",parse:aN,serialize:uN,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:cN,serialize:lN,skipNormalize:!0}};var hN=ly;const{normalizeIPv6:pN,normalizeIPv4:mN,removeDotSegments:tl,recomposeAuthority:gN,normalizeComponentEncoding:Ad}=nN,fy=hN;function yN(t,e){return typeof t=="string"?t=ns(Cs(t,e),e):typeof t=="object"&&(t=Cs(ns(t,e),e)),t}function vN(t,e,n){const r=Object.assign({scheme:"null"},n),i=U_(Cs(t,r),Cs(e,r),r,!0);return ns(i,{...r,skipEscape:!0})}function U_(t,e,n,r){const i={};return r||(t=Cs(ns(t,n),n),e=Cs(ns(e,n),n)),n=n||{},!n.tolerant&&e.scheme?(i.scheme=e.scheme,i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=tl(e.path||""),i.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=tl(e.path||""),i.query=e.query):(e.path?(e.path.charAt(0)==="/"?i.path=tl(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?i.path="/"+e.path:t.path?i.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:i.path=e.path,i.path=tl(i.path)),i.query=e.query):(i.path=t.path,e.query!==void 0?i.query=e.query:i.query=t.query),i.userinfo=t.userinfo,i.host=t.host,i.port=t.port),i.scheme=t.scheme),i.fragment=e.fragment,i}function bN(t,e,n){return typeof t=="string"?(t=unescape(t),t=ns(Ad(Cs(t,n),!0),{...n,skipEscape:!0})):typeof t=="object"&&(t=ns(Ad(t,!0),{...n,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=ns(Ad(Cs(e,n),!0),{...n,skipEscape:!0})):typeof e=="object"&&(e=ns(Ad(e,!0),{...n,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function ns(t,e){const n={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},r=Object.assign({},e),i=[],s=fy[(r.scheme||n.scheme||"").toLowerCase()];s&&s.serialize&&s.serialize(n,r),n.path!==void 0&&(r.skipEscape?n.path=unescape(n.path):(n.path=escape(n.path),n.scheme!==void 0&&(n.path=n.path.split("%3A").join(":")))),r.reference!=="suffix"&&n.scheme&&i.push(n.scheme,":");const a=gN(n);if(a!==void 0&&(r.reference!=="suffix"&&i.push("//"),i.push(a),n.path&&n.path.charAt(0)!=="/"&&i.push("/")),n.path!==void 0){let l=n.path;!r.absolutePath&&(!s||!s.absolutePath)&&(l=tl(l)),a===void 0&&(l=l.replace(/^\/\//u,"/%2F")),i.push(l)}return n.query!==void 0&&i.push("?",n.query),n.fragment!==void 0&&i.push("#",n.fragment),i.join("")}const DN=Array.from({length:127},(t,e)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(e)));function wN(t){let e=0;for(let n=0,r=t.length;n<r;++n)if(e=t.charCodeAt(n),e>126||DN[e])return!0;return!1}const _N=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Cs(t,e){const n=Object.assign({},e),r={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=t.indexOf("%")!==-1;let s=!1;n.reference==="suffix"&&(t=(n.scheme?n.scheme+":":"")+"//"+t);const a=t.match(_N);if(a){if(r.scheme=a[1],r.userinfo=a[3],r.host=a[4],r.port=parseInt(a[5],10),r.path=a[6]||"",r.query=a[7],r.fragment=a[8],isNaN(r.port)&&(r.port=a[5]),r.host){const f=mN(r.host);if(f.isIPV4===!1){const d=pN(f.host);r.host=d.host.toLowerCase(),s=d.isIPV6}else r.host=f.host,s=!0}r.scheme===void 0&&r.userinfo===void 0&&r.host===void 0&&r.port===void 0&&r.query===void 0&&!r.path?r.reference="same-document":r.scheme===void 0?r.reference="relative":r.fragment===void 0?r.reference="absolute":r.reference="uri",n.reference&&n.reference!=="suffix"&&n.reference!==r.reference&&(r.error=r.error||"URI is not a "+n.reference+" reference.");const l=fy[(n.scheme||r.scheme||"").toLowerCase()];if(!n.unicodeSupport&&(!l||!l.unicodeSupport)&&r.host&&(n.domainHost||l&&l.domainHost)&&s===!1&&wN(r.host))try{r.host=URL.domainToASCII(r.host.toLowerCase())}catch(f){r.error=r.error||"Host's domain name can not be converted to ASCII: "+f}(!l||l&&!l.skipNormalize)&&(i&&r.scheme!==void 0&&(r.scheme=unescape(r.scheme)),i&&r.host!==void 0&&(r.host=unescape(r.host)),r.path&&(r.path=escape(unescape(r.path))),r.fragment&&(r.fragment=encodeURI(decodeURIComponent(r.fragment)))),l&&l.parse&&l.parse(r,n)}else r.error=r.error||"URI can not be parsed.";return r}const dy={SCHEMES:fy,normalize:yN,resolve:vN,resolveComponents:U_,equal:bN,serialize:ns,parse:Cs};Td.exports=dy,Td.exports.default=dy,Td.exports.fastUri=dy,Object.defineProperty(uy,"__esModule",{value:!0});const V_=Td.exports;V_.code='require("ajv/dist/runtime/uri").default',uy.default=V_,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Ur;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var n=pt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=fa,i=bo,s=ca,a=$r,l=pt,f=sr,d=Xn,h=Ue,g=KP,S=uy,O=(Se,K)=>new RegExp(Se,K);O.code="new RegExp";const I=["removeAdditional","useDefaults","coerceTypes"],P=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),C={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},R={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},T=200;function v(Se){var K,de,ce,U,te,ye,Ie,Le,ze,Je,et,rt,tn,tt,qt,Gt,_t,Dn,nn,Yt,mt,un,dn,vn,gt;const Q=Se.strict,V=(K=Se.code)===null||K===void 0?void 0:K.optimize,Z=V===!0||V===void 0?1:V||0,ie=(ce=(de=Se.code)===null||de===void 0?void 0:de.regExp)!==null&&ce!==void 0?ce:O,A=(U=Se.uriResolver)!==null&&U!==void 0?U:S.default;return{strictSchema:(ye=(te=Se.strictSchema)!==null&&te!==void 0?te:Q)!==null&&ye!==void 0?ye:!0,strictNumbers:(Le=(Ie=Se.strictNumbers)!==null&&Ie!==void 0?Ie:Q)!==null&&Le!==void 0?Le:!0,strictTypes:(Je=(ze=Se.strictTypes)!==null&&ze!==void 0?ze:Q)!==null&&Je!==void 0?Je:"log",strictTuples:(rt=(et=Se.strictTuples)!==null&&et!==void 0?et:Q)!==null&&rt!==void 0?rt:"log",strictRequired:(tt=(tn=Se.strictRequired)!==null&&tn!==void 0?tn:Q)!==null&&tt!==void 0?tt:!1,code:Se.code?{...Se.code,optimize:Z,regExp:ie}:{optimize:Z,regExp:ie},loopRequired:(qt=Se.loopRequired)!==null&&qt!==void 0?qt:T,loopEnum:(Gt=Se.loopEnum)!==null&&Gt!==void 0?Gt:T,meta:(_t=Se.meta)!==null&&_t!==void 0?_t:!0,messages:(Dn=Se.messages)!==null&&Dn!==void 0?Dn:!0,inlineRefs:(nn=Se.inlineRefs)!==null&&nn!==void 0?nn:!0,schemaId:(Yt=Se.schemaId)!==null&&Yt!==void 0?Yt:"$id",addUsedSchema:(mt=Se.addUsedSchema)!==null&&mt!==void 0?mt:!0,validateSchema:(un=Se.validateSchema)!==null&&un!==void 0?un:!0,validateFormats:(dn=Se.validateFormats)!==null&&dn!==void 0?dn:!0,unicodeRegExp:(vn=Se.unicodeRegExp)!==null&&vn!==void 0?vn:!0,int32range:(gt=Se.int32range)!==null&&gt!==void 0?gt:!0,uriResolver:A}}class D{constructor(K={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,K=this.opts={...K,...v(K)};const{es5:de,lines:ce}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:P,es5:de,lines:ce}),this.logger=Y(K.logger);const U=K.validateFormats;K.validateFormats=!1,this.RULES=(0,s.getRules)(),b.call(this,C,K,"NOT SUPPORTED"),b.call(this,R,K,"DEPRECATED","warn"),this._metaOpts=L.call(this),K.formats&&q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),K.keywords&&F.call(this,K.keywords),typeof K.meta=="object"&&this.addMetaSchema(K.meta),$.call(this),K.validateFormats=U}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:K,meta:de,schemaId:ce}=this.opts;let U=g;ce==="id"&&(U={...g},U.id=U.$id,delete U.$id),de&&K&&this.addMetaSchema(U,U[ce],!1)}defaultMeta(){const{meta:K,schemaId:de}=this.opts;return this.opts.defaultMeta=typeof K=="object"?K[de]||K:void 0}validate(K,de){let ce;if(typeof K=="string"){if(ce=this.getSchema(K),!ce)throw new Error(`no schema with key or ref "${K}"`)}else ce=this.compile(K);const U=ce(de);return"$async"in ce||(this.errors=ce.errors),U}compile(K,de){const ce=this._addSchema(K,de);return ce.validate||this._compileSchemaEnv(ce)}compileAsync(K,de){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:ce}=this.opts;return U.call(this,K,de);async function U(Je,et){await te.call(this,Je.$schema);const rt=this._addSchema(Je,et);return rt.validate||ye.call(this,rt)}async function te(Je){Je&&!this.getSchema(Je)&&await U.call(this,{$ref:Je},!0)}async function ye(Je){try{return this._compileSchemaEnv(Je)}catch(et){if(!(et instanceof i.default))throw et;return Ie.call(this,et),await Le.call(this,et.missingSchema),ye.call(this,Je)}}function Ie({missingSchema:Je,missingRef:et}){if(this.refs[Je])throw new Error(`AnySchema ${Je} is loaded but ${et} cannot be resolved`)}async function Le(Je){const et=await ze.call(this,Je);this.refs[Je]||await te.call(this,et.$schema),this.refs[Je]||this.addSchema(et,Je,de)}async function ze(Je){const et=this._loading[Je];if(et)return et;try{return await(this._loading[Je]=ce(Je))}finally{delete this._loading[Je]}}}addSchema(K,de,ce,U=this.opts.validateSchema){if(Array.isArray(K)){for(const ye of K)this.addSchema(ye,void 0,ce,U);return this}let te;if(typeof K=="object"){const{schemaId:ye}=this.opts;if(te=K[ye],te!==void 0&&typeof te!="string")throw new Error(`schema ${ye} must be string`)}return de=(0,f.normalizeId)(de||te),this._checkUnique(de),this.schemas[de]=this._addSchema(K,ce,de,U,!0),this}addMetaSchema(K,de,ce=this.opts.validateSchema){return this.addSchema(K,de,!0,ce),this}validateSchema(K,de){if(typeof K=="boolean")return!0;let ce;if(ce=K.$schema,ce!==void 0&&typeof ce!="string")throw new Error("$schema must be a string");if(ce=ce||this.opts.defaultMeta||this.defaultMeta(),!ce)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const U=this.validate(ce,K);if(!U&&de){const te="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(te);else throw new Error(te)}return U}getSchema(K){let de;for(;typeof(de=_.call(this,K))=="string";)K=de;if(de===void 0){const{schemaId:ce}=this.opts,U=new a.SchemaEnv({schema:{},schemaId:ce});if(de=a.resolveSchema.call(this,U,K),!de)return;this.refs[K]=de}return de.validate||this._compileSchemaEnv(de)}removeSchema(K){if(K instanceof RegExp)return this._removeAllSchemas(this.schemas,K),this._removeAllSchemas(this.refs,K),this;switch(typeof K){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const de=_.call(this,K);return typeof de=="object"&&this._cache.delete(de.schema),delete this.schemas[K],delete this.refs[K],this}case"object":{const de=K;this._cache.delete(de);let ce=K[this.opts.schemaId];return ce&&(ce=(0,f.normalizeId)(ce),delete this.schemas[ce],delete this.refs[ce]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(K){for(const de of K)this.addKeyword(de);return this}addKeyword(K,de){let ce;if(typeof K=="string")ce=K,typeof de=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),de.keyword=ce);else if(typeof K=="object"&&de===void 0){if(de=K,ce=de.keyword,Array.isArray(ce)&&!ce.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ne.call(this,ce,de),!de)return(0,h.eachItem)(ce,te=>ge.call(this,te)),this;$e.call(this,de);const U={...de,type:(0,d.getJSONTypes)(de.type),schemaType:(0,d.getJSONTypes)(de.schemaType)};return(0,h.eachItem)(ce,U.type.length===0?te=>ge.call(this,te,U):te=>U.type.forEach(ye=>ge.call(this,te,U,ye))),this}getKeyword(K){const de=this.RULES.all[K];return typeof de=="object"?de.definition:!!de}removeKeyword(K){const{RULES:de}=this;delete de.keywords[K],delete de.all[K];for(const ce of de.rules){const U=ce.rules.findIndex(te=>te.keyword===K);U>=0&&ce.rules.splice(U,1)}return this}addFormat(K,de){return typeof de=="string"&&(de=new RegExp(de)),this.formats[K]=de,this}errorsText(K=this.errors,{separator:de=", ",dataVar:ce="data"}={}){return!K||K.length===0?"No errors":K.map(U=>`${ce}${U.instancePath} ${U.message}`).reduce((U,te)=>U+de+te)}$dataMetaSchema(K,de){const ce=this.RULES.all;K=JSON.parse(JSON.stringify(K));for(const U of de){const te=U.split("/").slice(1);let ye=K;for(const Ie of te)ye=ye[Ie];for(const Ie in ce){const Le=ce[Ie];if(typeof Le!="object")continue;const{$data:ze}=Le.definition,Je=ye[Ie];ze&&Je&&(ye[Ie]=lt(Je))}}return K}_removeAllSchemas(K,de){for(const ce in K){const U=K[ce];(!de||de.test(ce))&&(typeof U=="string"?delete K[ce]:U&&!U.meta&&(this._cache.delete(U.schema),delete K[ce]))}}_addSchema(K,de,ce,U=this.opts.validateSchema,te=this.opts.addUsedSchema){let ye;const{schemaId:Ie}=this.opts;if(typeof K=="object")ye=K[Ie];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof K!="boolean")throw new Error("schema must be object or boolean")}let Le=this._cache.get(K);if(Le!==void 0)return Le;ce=(0,f.normalizeId)(ye||ce);const ze=f.getSchemaRefs.call(this,K,ce);return Le=new a.SchemaEnv({schema:K,schemaId:Ie,meta:de,baseId:ce,localRefs:ze}),this._cache.set(Le.schema,Le),te&&!ce.startsWith("#")&&(ce&&this._checkUnique(ce),this.refs[ce]=Le),U&&this.validateSchema(K,!0),Le}_checkUnique(K){if(this.schemas[K]||this.refs[K])throw new Error(`schema with key or id "${K}" already exists`)}_compileSchemaEnv(K){if(K.meta?this._compileMetaSchema(K):a.compileSchema.call(this,K),!K.validate)throw new Error("ajv implementation error");return K.validate}_compileMetaSchema(K){const de=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,K)}finally{this.opts=de}}}D.ValidationError=r.default,D.MissingRefError=i.default,t.default=D;function b(Se,K,de,ce="error"){for(const U in Se){const te=U;te in K&&this.logger[ce](`${de}: option ${U}. ${Se[te]}`)}}function _(Se){return Se=(0,f.normalizeId)(Se),this.schemas[Se]||this.refs[Se]}function $(){const Se=this.opts.schemas;if(!!Se)if(Array.isArray(Se))this.addSchema(Se);else for(const K in Se)this.addSchema(Se[K],K)}function q(){for(const Se in this.opts.formats){const K=this.opts.formats[Se];K&&this.addFormat(Se,K)}}function F(Se){if(Array.isArray(Se)){this.addVocabulary(Se);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const K in Se){const de=Se[K];de.keyword||(de.keyword=K),this.addKeyword(de)}}function L(){const Se={...this.opts};for(const K of I)delete Se[K];return Se}const M={log(){},warn(){},error(){}};function Y(Se){if(Se===!1)return M;if(Se===void 0)return console;if(Se.log&&Se.warn&&Se.error)return Se;throw new Error("logger must implement log, warn and error methods")}const H=/^[a-z_$][a-z0-9_$:-]*$/i;function ne(Se,K){const{RULES:de}=this;if((0,h.eachItem)(Se,ce=>{if(de.keywords[ce])throw new Error(`Keyword ${ce} is already defined`);if(!H.test(ce))throw new Error(`Keyword ${ce} has invalid name`)}),!!K&&K.$data&&!("code"in K||"validate"in K))throw new Error('$data keyword must have "code" or "validate" function')}function ge(Se,K,de){var ce;const U=K==null?void 0:K.post;if(de&&U)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:te}=this;let ye=U?te.post:te.rules.find(({type:Le})=>Le===de);if(ye||(ye={type:de,rules:[]},te.rules.push(ye)),te.keywords[Se]=!0,!K)return;const Ie={keyword:Se,definition:{...K,type:(0,d.getJSONTypes)(K.type),schemaType:(0,d.getJSONTypes)(K.schemaType)}};K.before?pe.call(this,ye,Ie,K.before):ye.rules.push(Ie),te.all[Se]=Ie,(ce=K.implements)===null||ce===void 0||ce.forEach(Le=>this.addKeyword(Le))}function pe(Se,K,de){const ce=Se.rules.findIndex(U=>U.keyword===de);ce>=0?Se.rules.splice(ce,0,K):(Se.rules.push(K),this.logger.warn(`rule ${de} is not defined`))}function $e(Se){let{metaSchema:K}=Se;K!==void 0&&(Se.$data&&this.opts.$data&&(K=lt(K)),Se.validateSchema=this.compile(K,!0))}const Ve={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function lt(Se){return{anyOf:[Se,Ve]}}}(mo);var Cd={},Od={},hy={};Object.defineProperty(hy,"__esModule",{value:!0});const $N={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};hy.default=$N;var rs={};Object.defineProperty(rs,"__esModule",{value:!0}),rs.callRef=rs.getValidate=void 0;const EN=bo,H_=Ft,Nr=pt,Au=Vr,K_=$r,Pd=Ue,SN={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:n,it:r}=t,{baseId:i,schemaEnv:s,validateName:a,opts:l,self:f}=r,{root:d}=s;if((n==="#"||n==="#/")&&i===d.baseId)return g();const h=K_.resolveRef.call(f,d,i,n);if(h===void 0)throw new EN.default(r.opts.uriResolver,i,n);if(h instanceof K_.SchemaEnv)return S(h);return O(h);function g(){if(s===d)return Nd(t,a,s,s.$async);const I=e.scopeValue("root",{ref:d});return Nd(t,(0,Nr._)`${I}.validate`,d,d.$async)}function S(I){const P=z_(t,I);Nd(t,P,I,I.$async)}function O(I){const P=e.scopeValue("schema",l.code.source===!0?{ref:I,code:(0,Nr.stringify)(I)}:{ref:I}),C=e.name("valid"),R=t.subschema({schema:I,dataTypes:[],schemaPath:Nr.nil,topSchemaRef:P,errSchemaPath:n},C);t.mergeEvaluated(R),t.ok(C)}}};function z_(t,e){const{gen:n}=t;return e.validate?n.scopeValue("validate",{ref:e.validate}):(0,Nr._)`${n.scopeValue("wrapper",{ref:e})}.validate`}rs.getValidate=z_;function Nd(t,e,n,r){const{gen:i,it:s}=t,{allErrors:a,schemaEnv:l,opts:f}=s,d=f.passContext?Au.default.this:Nr.nil;r?h():g();function h(){if(!l.$async)throw new Error("async schema referenced by sync schema");const I=i.let("valid");i.try(()=>{i.code((0,Nr._)`await ${(0,H_.callValidateCode)(t,e,d)}`),O(e),a||i.assign(I,!0)},P=>{i.if((0,Nr._)`!(${P} instanceof ${s.ValidationError})`,()=>i.throw(P)),S(P),a||i.assign(I,!1)}),t.ok(I)}function g(){t.result((0,H_.callValidateCode)(t,e,d),()=>O(e),()=>S(e))}function S(I){const P=(0,Nr._)`${I}.errors`;i.assign(Au.default.vErrors,(0,Nr._)`${Au.default.vErrors} === null ? ${P} : ${Au.default.vErrors}.concat(${P})`),i.assign(Au.default.errors,(0,Nr._)`${Au.default.vErrors}.length`)}function O(I){var P;if(!s.opts.unevaluated)return;const C=(P=n==null?void 0:n.validate)===null||P===void 0?void 0:P.evaluated;if(s.props!==!0)if(C&&!C.dynamicProps)C.props!==void 0&&(s.props=Pd.mergeEvaluated.props(i,C.props,s.props));else{const R=i.var("props",(0,Nr._)`${I}.evaluated.props`);s.props=Pd.mergeEvaluated.props(i,R,s.props,Nr.Name)}if(s.items!==!0)if(C&&!C.dynamicItems)C.items!==void 0&&(s.items=Pd.mergeEvaluated.items(i,C.items,s.items));else{const R=i.var("items",(0,Nr._)`${I}.evaluated.items`);s.items=Pd.mergeEvaluated.items(i,R,s.items,Nr.Name)}}}rs.callRef=Nd,rs.default=SN,Object.defineProperty(Od,"__esModule",{value:!0});const TN=hy,kN=rs,AN=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",TN.default,kN.default];Od.default=AN;var Fd={},py={};Object.defineProperty(py,"__esModule",{value:!0});const Rd=pt,Do=Rd.operators,Id={maximum:{okStr:"<=",ok:Do.LTE,fail:Do.GT},minimum:{okStr:">=",ok:Do.GTE,fail:Do.LT},exclusiveMaximum:{okStr:"<",ok:Do.LT,fail:Do.GTE},exclusiveMinimum:{okStr:">",ok:Do.GT,fail:Do.LTE}},CN={message:({keyword:t,schemaCode:e})=>(0,Rd.str)`must be ${Id[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Rd._)`{comparison: ${Id[t].okStr}, limit: ${e}}`},ON={keyword:Object.keys(Id),type:"number",schemaType:"number",$data:!0,error:CN,code(t){const{keyword:e,data:n,schemaCode:r}=t;t.fail$data((0,Rd._)`${n} ${Id[e].fail} ${r} || isNaN(${n})`)}};py.default=ON;var Md={};Object.defineProperty(Md,"__esModule",{value:!0});const nl=pt,PN={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:t})=>(0,nl.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,nl._)`{multipleOf: ${t}}`},code(t){const{gen:e,data:n,schemaCode:r,it:i}=t,s=i.opts.multipleOfPrecision,a=e.let("res"),l=s?(0,nl._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:(0,nl._)`${a} !== parseInt(${a})`;t.fail$data((0,nl._)`(${r} === 0 || (${a} = ${n}/${r}, ${l}))`)}};Md.default=PN;var Ld={},my={};Object.defineProperty(my,"__esModule",{value:!0});function Y_(t){const e=t.length;let n=0,r=0,i;for(;r<e;)n++,i=t.charCodeAt(r++),i>=55296&&i<=56319&&r<e&&(i=t.charCodeAt(r),(i&64512)===56320&&r++);return n}my.default=Y_,Y_.code='require("ajv/dist/runtime/ucs2length").default',Object.defineProperty(Ld,"__esModule",{value:!0});const ha=pt,NN=Ue,FN=my,RN={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:t,schemaCode:e}){const n=t==="maxLength"?"more":"fewer";return(0,ha.str)`must NOT have ${n} than ${e} characters`},params:({schemaCode:t})=>(0,ha._)`{limit: ${t}}`},code(t){const{keyword:e,data:n,schemaCode:r,it:i}=t,s=e==="maxLength"?ha.operators.GT:ha.operators.LT,a=i.opts.unicode===!1?(0,ha._)`${n}.length`:(0,ha._)`${(0,NN.useFunc)(t.gen,FN.default)}(${n})`;t.fail$data((0,ha._)`${a} ${s} ${r}`)}};Ld.default=RN;var jd={};Object.defineProperty(jd,"__esModule",{value:!0});const IN=Ft,xd=pt,MN={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:t})=>(0,xd.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,xd._)`{pattern: ${t}}`},code(t){const{data:e,$data:n,schema:r,schemaCode:i,it:s}=t,a=s.opts.unicodeRegExp?"u":"",l=n?(0,xd._)`(new RegExp(${i}, ${a}))`:(0,IN.usePattern)(t,r);t.fail$data((0,xd._)`!${l}.test(${e})`)}};jd.default=MN;var Bd={};Object.defineProperty(Bd,"__esModule",{value:!0});const rl=pt,LN={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:t,schemaCode:e}){const n=t==="maxProperties"?"more":"fewer";return(0,rl.str)`must NOT have ${n} than ${e} properties`},params:({schemaCode:t})=>(0,rl._)`{limit: ${t}}`},code(t){const{keyword:e,data:n,schemaCode:r}=t,i=e==="maxProperties"?rl.operators.GT:rl.operators.LT;t.fail$data((0,rl._)`Object.keys(${n}).length ${i} ${r}`)}};Bd.default=LN;var qd={};Object.defineProperty(qd,"__esModule",{value:!0});const il=Ft,sl=pt,jN=Ue,xN={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:t}})=>(0,sl.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,sl._)`{missingProperty: ${t}}`},code(t){const{gen:e,schema:n,schemaCode:r,data:i,$data:s,it:a}=t,{opts:l}=a;if(!s&&n.length===0)return;const f=n.length>=l.loopRequired;if(a.allErrors?d():h(),l.strictRequired){const O=t.parentSchema.properties,{definedProperties:I}=t.it;for(const P of n)if((O==null?void 0:O[P])===void 0&&!I.has(P)){const C=a.schemaEnv.baseId+a.errSchemaPath,R=`required property "${P}" is not defined at "${C}" (strictRequired)`;(0,jN.checkStrictMode)(a,R,a.opts.strictRequired)}}function d(){if(f||s)t.block$data(sl.nil,g);else for(const O of n)(0,il.checkReportMissingProp)(t,O)}function h(){const O=e.let("missing");if(f||s){const I=e.let("valid",!0);t.block$data(I,()=>S(O,I)),t.ok(I)}else e.if((0,il.checkMissingProp)(t,n,O)),(0,il.reportMissingProp)(t,O),e.else()}function g(){e.forOf("prop",r,O=>{t.setParams({missingProperty:O}),e.if((0,il.noPropertyInData)(e,i,O,l.ownProperties),()=>t.error())})}function S(O,I){t.setParams({missingProperty:O}),e.forOf(O,r,()=>{e.assign(I,(0,il.propertyInData)(e,i,O,l.ownProperties)),e.if((0,sl.not)(I),()=>{t.error(),e.break()})},sl.nil)}}};qd.default=xN;var Wd={};Object.defineProperty(Wd,"__esModule",{value:!0});const ol=pt,BN={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:t,schemaCode:e}){const n=t==="maxItems"?"more":"fewer";return(0,ol.str)`must NOT have ${n} than ${e} items`},params:({schemaCode:t})=>(0,ol._)`{limit: ${t}}`},code(t){const{keyword:e,data:n,schemaCode:r}=t,i=e==="maxItems"?ol.operators.GT:ol.operators.LT;t.fail$data((0,ol._)`${n}.length ${i} ${r}`)}};Wd.default=BN;var Ud={},al={};Object.defineProperty(al,"__esModule",{value:!0});const G_=f_;G_.code='require("ajv/dist/runtime/equal").default',al.default=G_,Object.defineProperty(Ud,"__esModule",{value:!0});const gy=Xn,or=pt,qN=Ue,WN=al,UN={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:t,j:e}})=>(0,or.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,or._)`{i: ${t}, j: ${e}}`},code(t){const{gen:e,data:n,$data:r,schema:i,parentSchema:s,schemaCode:a,it:l}=t;if(!r&&!i)return;const f=e.let("valid"),d=s.items?(0,gy.getSchemaTypes)(s.items):[];t.block$data(f,h,(0,or._)`${a} === false`),t.ok(f);function h(){const I=e.let("i",(0,or._)`${n}.length`),P=e.let("j");t.setParams({i:I,j:P}),e.assign(f,!0),e.if((0,or._)`${I} > 1`,()=>(g()?S:O)(I,P))}function g(){return d.length>0&&!d.some(I=>I==="object"||I==="array")}function S(I,P){const C=e.name("item"),R=(0,gy.checkDataTypes)(d,C,l.opts.strictNumbers,gy.DataType.Wrong),T=e.const("indices",(0,or._)`{}`);e.for((0,or._)`;${I}--;`,()=>{e.let(C,(0,or._)`${n}[${I}]`),e.if(R,(0,or._)`continue`),d.length>1&&e.if((0,or._)`typeof ${C} == "string"`,(0,or._)`${C} += "_"`),e.if((0,or._)`typeof ${T}[${C}] == "number"`,()=>{e.assign(P,(0,or._)`${T}[${C}]`),t.error(),e.assign(f,!1).break()}).code((0,or._)`${T}[${C}] = ${I}`)})}function O(I,P){const C=(0,qN.useFunc)(e,WN.default),R=e.name("outer");e.label(R).for((0,or._)`;${I}--;`,()=>e.for((0,or._)`${P} = ${I}; ${P}--;`,()=>e.if((0,or._)`${C}(${n}[${I}], ${n}[${P}])`,()=>{t.error(),e.assign(f,!1).break(R)})))}}};Ud.default=UN;var Vd={};Object.defineProperty(Vd,"__esModule",{value:!0});const yy=pt,VN=Ue,HN=al,KN={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:t})=>(0,yy._)`{allowedValue: ${t}}`},code(t){const{gen:e,data:n,$data:r,schemaCode:i,schema:s}=t;r||s&&typeof s=="object"?t.fail$data((0,yy._)`!${(0,VN.useFunc)(e,HN.default)}(${n}, ${i})`):t.fail((0,yy._)`${s} !== ${n}`)}};Vd.default=KN;var Hd={};Object.defineProperty(Hd,"__esModule",{value:!0});const ul=pt,zN=Ue,YN=al,GN={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,ul._)`{allowedValues: ${t}}`},code(t){const{gen:e,data:n,$data:r,schema:i,schemaCode:s,it:a}=t;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const l=i.length>=a.opts.loopEnum;let f;const d=()=>f!=null?f:f=(0,zN.useFunc)(e,YN.default);let h;if(l||r)h=e.let("valid"),t.block$data(h,g);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const O=e.const("vSchema",s);h=(0,ul.or)(...i.map((I,P)=>S(O,P)))}t.pass(h);function g(){e.assign(h,!1),e.forOf("v",s,O=>e.if((0,ul._)`${d()}(${n}, ${O})`,()=>e.assign(h,!0).break()))}function S(O,I){const P=i[I];return typeof P=="object"&&P!==null?(0,ul._)`${d()}(${n}, ${O}[${I}])`:(0,ul._)`${n} === ${P}`}}};Hd.default=GN,Object.defineProperty(Fd,"__esModule",{value:!0});const JN=py,QN=Md,XN=Ld,ZN=jd,eF=Bd,tF=qd,nF=Wd,rF=Ud,iF=Vd,sF=Hd,oF=[JN.default,QN.default,XN.default,ZN.default,eF.default,tF.default,nF.default,rF.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},iF.default,sF.default];Fd.default=oF;var cl={},Cu={};Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.validateAdditionalItems=void 0;const pa=pt,vy=Ue,aF={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:t}})=>(0,pa.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,pa._)`{limit: ${t}}`},code(t){const{parentSchema:e,it:n}=t,{items:r}=e;if(!Array.isArray(r)){(0,vy.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}J_(t,r)}};function J_(t,e){const{gen:n,schema:r,data:i,keyword:s,it:a}=t;a.items=!0;const l=n.const("len",(0,pa._)`${i}.length`);if(r===!1)t.setParams({len:e.length}),t.pass((0,pa._)`${l} <= ${e.length}`);else if(typeof r=="object"&&!(0,vy.alwaysValidSchema)(a,r)){const d=n.var("valid",(0,pa._)`${l} <= ${e.length}`);n.if((0,pa.not)(d),()=>f(d)),t.ok(d)}function f(d){n.forRange("i",e.length,l,h=>{t.subschema({keyword:s,dataProp:h,dataPropType:vy.Type.Num},d),a.allErrors||n.if((0,pa.not)(d),()=>n.break())})}}Cu.validateAdditionalItems=J_,Cu.default=aF;var by={},Ou={};Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.validateTuple=void 0;const Q_=pt,Kd=Ue,uF=Ft,cF={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:n}=t;if(Array.isArray(e))return X_(t,"additionalItems",e);n.items=!0,!(0,Kd.alwaysValidSchema)(n,e)&&t.ok((0,uF.validateArray)(t))}};function X_(t,e,n=t.schema){const{gen:r,parentSchema:i,data:s,keyword:a,it:l}=t;h(i),l.opts.unevaluated&&n.length&&l.items!==!0&&(l.items=Kd.mergeEvaluated.items(r,n.length,l.items));const f=r.name("valid"),d=r.const("len",(0,Q_._)`${s}.length`);n.forEach((g,S)=>{(0,Kd.alwaysValidSchema)(l,g)||(r.if((0,Q_._)`${d} > ${S}`,()=>t.subschema({keyword:a,schemaProp:S,dataProp:S},f)),t.ok(f))});function h(g){const{opts:S,errSchemaPath:O}=l,I=n.length,P=I===g.minItems&&(I===g.maxItems||g[e]===!1);if(S.strictTuples&&!P){const C=`"${a}" is ${I}-tuple, but minItems or maxItems/${e} are not specified or different at path "${O}"`;(0,Kd.checkStrictMode)(l,C,S.strictTuples)}}}Ou.validateTuple=X_,Ou.default=cF,Object.defineProperty(by,"__esModule",{value:!0});const lF=Ou,fF={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,lF.validateTuple)(t,"items")};by.default=fF;var Dy={};Object.defineProperty(Dy,"__esModule",{value:!0});const Z_=pt,dF=Ue,hF=Ft,pF=Cu,mF={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:t}})=>(0,Z_.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Z_._)`{limit: ${t}}`},code(t){const{schema:e,parentSchema:n,it:r}=t,{prefixItems:i}=n;r.items=!0,!(0,dF.alwaysValidSchema)(r,e)&&(i?(0,pF.validateAdditionalItems)(t,i):t.ok((0,hF.validateArray)(t)))}};Dy.default=mF;var wy={};Object.defineProperty(wy,"__esModule",{value:!0});const di=pt,zd=Ue,gF={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:t,max:e}})=>e===void 0?(0,di.str)`must contain at least ${t} valid item(s)`:(0,di.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,di._)`{minContains: ${t}}`:(0,di._)`{minContains: ${t}, maxContains: ${e}}`},code(t){const{gen:e,schema:n,parentSchema:r,data:i,it:s}=t;let a,l;const{minContains:f,maxContains:d}=r;s.opts.next?(a=f===void 0?1:f,l=d):a=1;const h=e.const("len",(0,di._)`${i}.length`);if(t.setParams({min:a,max:l}),l===void 0&&a===0){(0,zd.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(l!==void 0&&a>l){(0,zd.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,zd.alwaysValidSchema)(s,n)){let P=(0,di._)`${h} >= ${a}`;l!==void 0&&(P=(0,di._)`${P} && ${h} <= ${l}`),t.pass(P);return}s.items=!0;const g=e.name("valid");l===void 0&&a===1?O(g,()=>e.if(g,()=>e.break())):a===0?(e.let(g,!0),l!==void 0&&e.if((0,di._)`${i}.length > 0`,S)):(e.let(g,!1),S()),t.result(g,()=>t.reset());function S(){const P=e.name("_valid"),C=e.let("count",0);O(P,()=>e.if(P,()=>I(C)))}function O(P,C){e.forRange("i",0,h,R=>{t.subschema({keyword:"contains",dataProp:R,dataPropType:zd.Type.Num,compositeRule:!0},P),C()})}function I(P){e.code((0,di._)`${P}++`),l===void 0?e.if((0,di._)`${P} >= ${a}`,()=>e.assign(g,!0).break()):(e.if((0,di._)`${P} > ${l}`,()=>e.assign(g,!1).break()),a===1?e.assign(g,!0):e.if((0,di._)`${P} >= ${a}`,()=>e.assign(g,!0)))}}};wy.default=gF;var Yd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=pt,n=Ue,r=Ft;t.error={message:({params:{property:f,depsCount:d,deps:h}})=>{const g=d===1?"property":"properties";return(0,e.str)`must have ${g} ${h} when property ${f} is present`},params:({params:{property:f,depsCount:d,deps:h,missingProperty:g}})=>(0,e._)`{property: ${f},
    missingProperty: ${g},
    depsCount: ${d},
    deps: ${h}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(f){const[d,h]=s(f);a(f,d),l(f,h)}};function s({schema:f}){const d={},h={};for(const g in f){if(g==="__proto__")continue;const S=Array.isArray(f[g])?d:h;S[g]=f[g]}return[d,h]}function a(f,d=f.schema){const{gen:h,data:g,it:S}=f;if(Object.keys(d).length===0)return;const O=h.let("missing");for(const I in d){const P=d[I];if(P.length===0)continue;const C=(0,r.propertyInData)(h,g,I,S.opts.ownProperties);f.setParams({property:I,depsCount:P.length,deps:P.join(", ")}),S.allErrors?h.if(C,()=>{for(const R of P)(0,r.checkReportMissingProp)(f,R)}):(h.if((0,e._)`${C} && (${(0,r.checkMissingProp)(f,P,O)})`),(0,r.reportMissingProp)(f,O),h.else())}}t.validatePropertyDeps=a;function l(f,d=f.schema){const{gen:h,data:g,keyword:S,it:O}=f,I=h.name("valid");for(const P in d)(0,n.alwaysValidSchema)(O,d[P])||(h.if((0,r.propertyInData)(h,g,P,O.opts.ownProperties),()=>{const C=f.subschema({keyword:S,schemaProp:P},I);f.mergeValidEvaluated(C,I)},()=>h.var(I,!0)),f.ok(I))}t.validateSchemaDeps=l,t.default=i})(Yd);var _y={};Object.defineProperty(_y,"__esModule",{value:!0});const e$=pt,yF=Ue,vF={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:t})=>(0,e$._)`{propertyName: ${t.propertyName}}`},code(t){const{gen:e,schema:n,data:r,it:i}=t;if((0,yF.alwaysValidSchema)(i,n))return;const s=e.name("valid");e.forIn("key",r,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},s),e.if((0,e$.not)(s),()=>{t.error(!0),i.allErrors||e.break()})}),t.ok(s)}};_y.default=vF;var Gd={};Object.defineProperty(Gd,"__esModule",{value:!0});const Jd=Ft,Ni=pt,bF=Vr,Qd=Ue,DF={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:t})=>(0,Ni._)`{additionalProperty: ${t.additionalProperty}}`},code(t){const{gen:e,schema:n,parentSchema:r,data:i,errsCount:s,it:a}=t;if(!s)throw new Error("ajv implementation error");const{allErrors:l,opts:f}=a;if(a.props=!0,f.removeAdditional!=="all"&&(0,Qd.alwaysValidSchema)(a,n))return;const d=(0,Jd.allSchemaProperties)(r.properties),h=(0,Jd.allSchemaProperties)(r.patternProperties);g(),t.ok((0,Ni._)`${s} === ${bF.default.errors}`);function g(){e.forIn("key",i,C=>{!d.length&&!h.length?I(C):e.if(S(C),()=>I(C))})}function S(C){let R;if(d.length>8){const T=(0,Qd.schemaRefOrVal)(a,r.properties,"properties");R=(0,Jd.isOwnProperty)(e,T,C)}else d.length?R=(0,Ni.or)(...d.map(T=>(0,Ni._)`${C} === ${T}`)):R=Ni.nil;return h.length&&(R=(0,Ni.or)(R,...h.map(T=>(0,Ni._)`${(0,Jd.usePattern)(t,T)}.test(${C})`))),(0,Ni.not)(R)}function O(C){e.code((0,Ni._)`delete ${i}[${C}]`)}function I(C){if(f.removeAdditional==="all"||f.removeAdditional&&n===!1){O(C);return}if(n===!1){t.setParams({additionalProperty:C}),t.error(),l||e.break();return}if(typeof n=="object"&&!(0,Qd.alwaysValidSchema)(a,n)){const R=e.name("valid");f.removeAdditional==="failing"?(P(C,R,!1),e.if((0,Ni.not)(R),()=>{t.reset(),O(C)})):(P(C,R),l||e.if((0,Ni.not)(R),()=>e.break()))}}function P(C,R,T){const v={keyword:"additionalProperties",dataProp:C,dataPropType:Qd.Type.Str};T===!1&&Object.assign(v,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(v,R)}}};Gd.default=DF;var $y={};Object.defineProperty($y,"__esModule",{value:!0});const wF=Ur,t$=Ft,Ey=Ue,n$=Gd,_F={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:n,parentSchema:r,data:i,it:s}=t;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&n$.default.code(new wF.KeywordCxt(s,n$.default,"additionalProperties"));const a=(0,t$.allSchemaProperties)(n);for(const g of a)s.definedProperties.add(g);s.opts.unevaluated&&a.length&&s.props!==!0&&(s.props=Ey.mergeEvaluated.props(e,(0,Ey.toHash)(a),s.props));const l=a.filter(g=>!(0,Ey.alwaysValidSchema)(s,n[g]));if(l.length===0)return;const f=e.name("valid");for(const g of l)d(g)?h(g):(e.if((0,t$.propertyInData)(e,i,g,s.opts.ownProperties)),h(g),s.allErrors||e.else().var(f,!0),e.endIf()),t.it.definedProperties.add(g),t.ok(f);function d(g){return s.opts.useDefaults&&!s.compositeRule&&n[g].default!==void 0}function h(g){t.subschema({keyword:"properties",schemaProp:g,dataProp:g},f)}}};$y.default=_F;var Sy={};Object.defineProperty(Sy,"__esModule",{value:!0});const r$=Ft,Xd=pt,i$=Ue,s$=Ue,$F={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:n,data:r,parentSchema:i,it:s}=t,{opts:a}=s,l=(0,r$.allSchemaProperties)(n),f=l.filter(P=>(0,i$.alwaysValidSchema)(s,n[P]));if(l.length===0||f.length===l.length&&(!s.opts.unevaluated||s.props===!0))return;const d=a.strictSchema&&!a.allowMatchingProperties&&i.properties,h=e.name("valid");s.props!==!0&&!(s.props instanceof Xd.Name)&&(s.props=(0,s$.evaluatedPropsToName)(e,s.props));const{props:g}=s;S();function S(){for(const P of l)d&&O(P),s.allErrors?I(P):(e.var(h,!0),I(P),e.if(h))}function O(P){for(const C in d)new RegExp(P).test(C)&&(0,i$.checkStrictMode)(s,`property ${C} matches pattern ${P} (use allowMatchingProperties)`)}function I(P){e.forIn("key",r,C=>{e.if((0,Xd._)`${(0,r$.usePattern)(t,P)}.test(${C})`,()=>{const R=f.includes(P);R||t.subschema({keyword:"patternProperties",schemaProp:P,dataProp:C,dataPropType:s$.Type.Str},h),s.opts.unevaluated&&g!==!0?e.assign((0,Xd._)`${g}[${C}]`,!0):!R&&!s.allErrors&&e.if((0,Xd.not)(h),()=>e.break())})})}}};Sy.default=$F;var Ty={};Object.defineProperty(Ty,"__esModule",{value:!0});const EF=Ue,SF={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:n,it:r}=t;if((0,EF.alwaysValidSchema)(r,n)){t.fail();return}const i=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),t.failResult(i,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Ty.default=SF;var ky={};Object.defineProperty(ky,"__esModule",{value:!0});const TF={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ft.validateUnion,error:{message:"must match a schema in anyOf"}};ky.default=TF;var Ay={};Object.defineProperty(Ay,"__esModule",{value:!0});const Zd=pt,kF=Ue,AF={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:t})=>(0,Zd._)`{passingSchemas: ${t.passing}}`},code(t){const{gen:e,schema:n,parentSchema:r,it:i}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,a=e.let("valid",!1),l=e.let("passing",null),f=e.name("_valid");t.setParams({passing:l}),e.block(d),t.result(a,()=>t.reset(),()=>t.error(!0));function d(){s.forEach((h,g)=>{let S;(0,kF.alwaysValidSchema)(i,h)?e.var(f,!0):S=t.subschema({keyword:"oneOf",schemaProp:g,compositeRule:!0},f),g>0&&e.if((0,Zd._)`${f} && ${a}`).assign(a,!1).assign(l,(0,Zd._)`[${l}, ${g}]`).else(),e.if(f,()=>{e.assign(a,!0),e.assign(l,g),S&&t.mergeEvaluated(S,Zd.Name)})})}}};Ay.default=AF;var Cy={};Object.defineProperty(Cy,"__esModule",{value:!0});const CF=Ue,OF={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:n,it:r}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=e.name("valid");n.forEach((s,a)=>{if((0,CF.alwaysValidSchema)(r,s))return;const l=t.subschema({keyword:"allOf",schemaProp:a},i);t.ok(i),t.mergeEvaluated(l)})}};Cy.default=OF;var Oy={};Object.defineProperty(Oy,"__esModule",{value:!0});const eh=pt,o$=Ue,PF={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:t})=>(0,eh.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,eh._)`{failingKeyword: ${t.ifClause}}`},code(t){const{gen:e,parentSchema:n,it:r}=t;n.then===void 0&&n.else===void 0&&(0,o$.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=a$(r,"then"),s=a$(r,"else");if(!i&&!s)return;const a=e.let("valid",!0),l=e.name("_valid");if(f(),t.reset(),i&&s){const h=e.let("ifClause");t.setParams({ifClause:h}),e.if(l,d("then",h),d("else",h))}else i?e.if(l,d("then")):e.if((0,eh.not)(l),d("else"));t.pass(a,()=>t.error(!0));function f(){const h=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);t.mergeEvaluated(h)}function d(h,g){return()=>{const S=t.subschema({keyword:h},l);e.assign(a,l),t.mergeValidEvaluated(S,a),g?e.assign(g,(0,eh._)`${h}`):t.setParams({ifClause:h})}}}};function a$(t,e){const n=t.schema[e];return n!==void 0&&!(0,o$.alwaysValidSchema)(t,n)}Oy.default=PF;var Py={};Object.defineProperty(Py,"__esModule",{value:!0});const NF=Ue,FF={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:n}){e.if===void 0&&(0,NF.checkStrictMode)(n,`"${t}" without "if" is ignored`)}};Py.default=FF,Object.defineProperty(cl,"__esModule",{value:!0});const RF=Cu,IF=by,MF=Ou,LF=Dy,jF=wy,xF=Yd,BF=_y,qF=Gd,WF=$y,UF=Sy,VF=Ty,HF=ky,KF=Ay,zF=Cy,YF=Oy,GF=Py;function JF(t=!1){const e=[VF.default,HF.default,KF.default,zF.default,YF.default,GF.default,BF.default,qF.default,xF.default,WF.default,UF.default];return t?e.push(IF.default,LF.default):e.push(RF.default,MF.default),e.push(jF.default),e}cl.default=JF;var ll={},Ny={};Object.defineProperty(Ny,"__esModule",{value:!0});const Bn=pt,QF={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:t})=>(0,Bn.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,Bn._)`{format: ${t}}`},code(t,e){const{gen:n,data:r,$data:i,schema:s,schemaCode:a,it:l}=t,{opts:f,errSchemaPath:d,schemaEnv:h,self:g}=l;if(!f.validateFormats)return;i?S():O();function S(){const I=n.scopeValue("formats",{ref:g.formats,code:f.code.formats}),P=n.const("fDef",(0,Bn._)`${I}[${a}]`),C=n.let("fType"),R=n.let("format");n.if((0,Bn._)`typeof ${P} == "object" && !(${P} instanceof RegExp)`,()=>n.assign(C,(0,Bn._)`${P}.type || "string"`).assign(R,(0,Bn._)`${P}.validate`),()=>n.assign(C,(0,Bn._)`"string"`).assign(R,P)),t.fail$data((0,Bn.or)(T(),v()));function T(){return f.strictSchema===!1?Bn.nil:(0,Bn._)`${a} && !${R}`}function v(){const D=h.$async?(0,Bn._)`(${P}.async ? await ${R}(${r}) : ${R}(${r}))`:(0,Bn._)`${R}(${r})`,b=(0,Bn._)`(typeof ${R} == "function" ? ${D} : ${R}.test(${r}))`;return(0,Bn._)`${R} && ${R} !== true && ${C} === ${e} && !${b}`}}function O(){const I=g.formats[s];if(!I){T();return}if(I===!0)return;const[P,C,R]=v(I);P===e&&t.pass(D());function T(){if(f.strictSchema===!1){g.logger.warn(b());return}throw new Error(b());function b(){return`unknown format "${s}" ignored in schema at path "${d}"`}}function v(b){const _=b instanceof RegExp?(0,Bn.regexpCode)(b):f.code.formats?(0,Bn._)`${f.code.formats}${(0,Bn.getProperty)(s)}`:void 0,$=n.scopeValue("formats",{key:s,ref:b,code:_});return typeof b=="object"&&!(b instanceof RegExp)?[b.type||"string",b.validate,(0,Bn._)`${$}.validate`]:["string",b,$]}function D(){if(typeof I=="object"&&!(I instanceof RegExp)&&I.async){if(!h.$async)throw new Error("async format in sync schema");return(0,Bn._)`await ${R}(${r})`}return typeof C=="function"?(0,Bn._)`${R}(${r})`:(0,Bn._)`${R}.test(${r})`}}}};Ny.default=QF,Object.defineProperty(ll,"__esModule",{value:!0});const XF=[Ny.default];ll.default=XF;var ma={};Object.defineProperty(ma,"__esModule",{value:!0}),ma.contentVocabulary=ma.metadataVocabulary=void 0,ma.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],ma.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"],Object.defineProperty(Cd,"__esModule",{value:!0});const ZF=Od,eR=Fd,tR=cl,nR=ll,u$=ma,rR=[ZF.default,eR.default,(0,tR.default)(),nR.default,u$.metadataVocabulary,u$.contentVocabulary];Cd.default=rR;var Pu={},th={};Object.defineProperty(th,"__esModule",{value:!0}),th.DiscrError=void 0;var c$;(function(t){t.Tag="tag",t.Mapping="mapping"})(c$||(th.DiscrError=c$={})),Object.defineProperty(Pu,"__esModule",{value:!0});const Nu=pt,Fy=th,l$=$r,iR=bo,sR=Ue,oR={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:t,tagName:e}})=>t===Fy.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:n}})=>(0,Nu._)`{error: ${t}, tag: ${n}, tagValue: ${e}}`},code(t){const{gen:e,data:n,schema:r,parentSchema:i,it:s}=t,{oneOf:a}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const l=r.propertyName;if(typeof l!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const f=e.let("valid",!1),d=e.const("tag",(0,Nu._)`${n}${(0,Nu.getProperty)(l)}`);e.if((0,Nu._)`typeof ${d} == "string"`,()=>h(),()=>t.error(!1,{discrError:Fy.DiscrError.Tag,tag:d,tagName:l})),t.ok(f);function h(){const O=S();e.if(!1);for(const I in O)e.elseIf((0,Nu._)`${d} === ${I}`),e.assign(f,g(O[I]));e.else(),t.error(!1,{discrError:Fy.DiscrError.Mapping,tag:d,tagName:l}),e.endIf()}function g(O){const I=e.name("valid"),P=t.subschema({keyword:"oneOf",schemaProp:O},I);return t.mergeEvaluated(P,Nu.Name),I}function S(){var O;const I={},P=R(i);let C=!0;for(let D=0;D<a.length;D++){let b=a[D];if((b==null?void 0:b.$ref)&&!(0,sR.schemaHasRulesButRef)(b,s.self.RULES)){const $=b.$ref;if(b=l$.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,$),b instanceof l$.SchemaEnv&&(b=b.schema),b===void 0)throw new iR.default(s.opts.uriResolver,s.baseId,$)}const _=(O=b==null?void 0:b.properties)===null||O===void 0?void 0:O[l];if(typeof _!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${l}"`);C=C&&(P||R(b)),T(_,D)}if(!C)throw new Error(`discriminator: "${l}" must be required`);return I;function R({required:D}){return Array.isArray(D)&&D.includes(l)}function T(D,b){if(D.const)v(D.const,b);else if(D.enum)for(const _ of D.enum)v(_,b);else throw new Error(`discriminator: "properties/${l}" must have "const" or "enum"`)}function v(D,b){if(typeof D!="string"||D in I)throw new Error(`discriminator: "${l}" values must be unique strings`);I[D]=b}}}};Pu.default=oR;var aR={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const n=mo,r=Cd,i=Pu,s=aR,a=["/properties"],l="http://json-schema.org/draft-07/schema";class f extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(I=>this.addVocabulary(I)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const I=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(I,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}e.Ajv=f,t.exports=e=f,t.exports.Ajv=f,Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var d=Ur;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var h=pt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var g=fa;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return g.default}});var S=bo;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return S.default}})})(Vg,Vg.exports);var uR=ri(Vg.exports),Ry={exports:{}},nh={},Fu={};Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.dynamicAnchor=void 0;const Iy=pt,cR=Vr,f$=$r,lR=rs,fR={keyword:"$dynamicAnchor",schemaType:"string",code:t=>d$(t,t.schema)};function d$(t,e){const{gen:n,it:r}=t;r.schemaEnv.root.dynamicAnchors[e]=!0;const i=(0,Iy._)`${cR.default.dynamicAnchors}${(0,Iy.getProperty)(e)}`,s=r.errSchemaPath==="#"?r.validateName:dR(t);n.if((0,Iy._)`!${i}`,()=>n.assign(i,s))}Fu.dynamicAnchor=d$;function dR(t){const{schemaEnv:e,schema:n,self:r}=t.it,{root:i,baseId:s,localRefs:a,meta:l}=e.root,{schemaId:f}=r.opts,d=new f$.SchemaEnv({schema:n,schemaId:f,root:i,baseId:s,localRefs:a,meta:l});return f$.compileSchema.call(r,d),(0,lR.getValidate)(t,d)}Fu.default=fR;var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.dynamicRef=void 0;const h$=pt,hR=Vr,p$=rs,pR={keyword:"$dynamicRef",schemaType:"string",code:t=>m$(t,t.schema)};function m$(t,e){const{gen:n,keyword:r,it:i}=t;if(e[0]!=="#")throw new Error(`"${r}" only supports hash fragment reference`);const s=e.slice(1);if(i.allErrors)a();else{const f=n.let("valid",!1);a(f),t.ok(f)}function a(f){if(i.schemaEnv.root.dynamicAnchors[s]){const d=n.let("_v",(0,h$._)`${hR.default.dynamicAnchors}${(0,h$.getProperty)(s)}`);n.if(d,l(d,f),l(i.validateName,f))}else l(i.validateName,f)()}function l(f,d){return d?()=>n.block(()=>{(0,p$.callRef)(t,f),n.let(d,!0)}):()=>(0,p$.callRef)(t,f)}}Ru.dynamicRef=m$,Ru.default=pR;var My={};Object.defineProperty(My,"__esModule",{value:!0});const mR=Fu,gR=Ue,yR={keyword:"$recursiveAnchor",schemaType:"boolean",code(t){t.schema?(0,mR.dynamicAnchor)(t,""):(0,gR.checkStrictMode)(t.it,"$recursiveAnchor: false is ignored")}};My.default=yR;var Ly={};Object.defineProperty(Ly,"__esModule",{value:!0});const vR=Ru,bR={keyword:"$recursiveRef",schemaType:"string",code:t=>(0,vR.dynamicRef)(t,t.schema)};Ly.default=bR,Object.defineProperty(nh,"__esModule",{value:!0});const DR=Fu,wR=Ru,_R=My,$R=Ly,ER=[DR.default,wR.default,_R.default,$R.default];nh.default=ER;var rh={},jy={};Object.defineProperty(jy,"__esModule",{value:!0});const g$=Yd,SR={keyword:"dependentRequired",type:"object",schemaType:"object",error:g$.error,code:t=>(0,g$.validatePropertyDeps)(t)};jy.default=SR;var xy={};Object.defineProperty(xy,"__esModule",{value:!0});const TR=Yd,kR={keyword:"dependentSchemas",type:"object",schemaType:"object",code:t=>(0,TR.validateSchemaDeps)(t)};xy.default=kR;var By={};Object.defineProperty(By,"__esModule",{value:!0});const AR=Ue,CR={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:t,parentSchema:e,it:n}){e.contains===void 0&&(0,AR.checkStrictMode)(n,`"${t}" without "contains" is ignored`)}};By.default=CR,Object.defineProperty(rh,"__esModule",{value:!0});const OR=jy,PR=xy,NR=By,FR=[OR.default,PR.default,NR.default];rh.default=FR;var ih={},qy={};Object.defineProperty(qy,"__esModule",{value:!0});const wo=pt,y$=Ue,RR=Vr,IR={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:t})=>(0,wo._)`{unevaluatedProperty: ${t.unevaluatedProperty}}`},code(t){const{gen:e,schema:n,data:r,errsCount:i,it:s}=t;if(!i)throw new Error("ajv implementation error");const{allErrors:a,props:l}=s;l instanceof wo.Name?e.if((0,wo._)`${l} !== true`,()=>e.forIn("key",r,g=>e.if(d(l,g),()=>f(g)))):l!==!0&&e.forIn("key",r,g=>l===void 0?f(g):e.if(h(l,g),()=>f(g))),s.props=!0,t.ok((0,wo._)`${i} === ${RR.default.errors}`);function f(g){if(n===!1){t.setParams({unevaluatedProperty:g}),t.error(),a||e.break();return}if(!(0,y$.alwaysValidSchema)(s,n)){const S=e.name("valid");t.subschema({keyword:"unevaluatedProperties",dataProp:g,dataPropType:y$.Type.Str},S),a||e.if((0,wo.not)(S),()=>e.break())}}function d(g,S){return(0,wo._)`!${g} || !${g}[${S}]`}function h(g,S){const O=[];for(const I in g)g[I]===!0&&O.push((0,wo._)`${S} !== ${I}`);return(0,wo.and)(...O)}}};qy.default=IR;var Wy={};Object.defineProperty(Wy,"__esModule",{value:!0});const ga=pt,v$=Ue,MR={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:t}})=>(0,ga.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,ga._)`{limit: ${t}}`},code(t){const{gen:e,schema:n,data:r,it:i}=t,s=i.items||0;if(s===!0)return;const a=e.const("len",(0,ga._)`${r}.length`);if(n===!1)t.setParams({len:s}),t.fail((0,ga._)`${a} > ${s}`);else if(typeof n=="object"&&!(0,v$.alwaysValidSchema)(i,n)){const f=e.var("valid",(0,ga._)`${a} <= ${s}`);e.if((0,ga.not)(f),()=>l(f,s)),t.ok(f)}i.items=!0;function l(f,d){e.forRange("i",d,a,h=>{t.subschema({keyword:"unevaluatedItems",dataProp:h,dataPropType:v$.Type.Num},f),i.allErrors||e.if((0,ga.not)(f),()=>e.break())})}}};Wy.default=MR,Object.defineProperty(ih,"__esModule",{value:!0});const LR=qy,jR=Wy,xR=[LR.default,jR.default];ih.default=xR;var Uy={},BR={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/schema",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/core":!0,"https://json-schema.org/draft/2019-09/vocab/applicator":!0,"https://json-schema.org/draft/2019-09/vocab/validation":!0,"https://json-schema.org/draft/2019-09/vocab/meta-data":!0,"https://json-schema.org/draft/2019-09/vocab/format":!1,"https://json-schema.org/draft/2019-09/vocab/content":!0},$recursiveAnchor:!0,title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format"},{$ref:"meta/content"}],type:["object","boolean"],properties:{definitions:{$comment:"While no longer an official keyword as it is replaced by $defs, this keyword is retained in the meta-schema to prevent incompatible extensions as it remains in common use.",type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},dependencies:{$comment:'"dependencies" is no longer a keyword, but schema authors should avoid redefining it to facilitate a smooth transition to "dependentSchemas" and "dependentRequired"',type:"object",additionalProperties:{anyOf:[{$recursiveRef:"#"},{$ref:"meta/validation#/$defs/stringArray"}]}}}},qR={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/applicator":!0},$recursiveAnchor:!0,title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{additionalItems:{$recursiveRef:"#"},unevaluatedItems:{$recursiveRef:"#"},items:{anyOf:[{$recursiveRef:"#"},{$ref:"#/$defs/schemaArray"}]},contains:{$recursiveRef:"#"},additionalProperties:{$recursiveRef:"#"},unevaluatedProperties:{$recursiveRef:"#"},properties:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$recursiveRef:"#"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$recursiveRef:"#"}},propertyNames:{$recursiveRef:"#"},if:{$recursiveRef:"#"},then:{$recursiveRef:"#"},else:{$recursiveRef:"#"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$recursiveRef:"#"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$recursiveRef:"#"}}}},WR={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/content",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/content":!0},$recursiveAnchor:!0,title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentMediaType:{type:"string"},contentEncoding:{type:"string"},contentSchema:{$recursiveRef:"#"}}},UR={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/core",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/core":!0},$recursiveAnchor:!0,title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{type:"string",format:"uri"},$anchor:{type:"string",pattern:"^[A-Za-z][-A-Za-z0-9.:_]*$"},$ref:{type:"string",format:"uri-reference"},$recursiveRef:{type:"string",format:"uri-reference"},$recursiveAnchor:{type:"boolean",default:!1},$vocabulary:{type:"object",propertyNames:{type:"string",format:"uri"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}}}},VR={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/format",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/format":!0},$recursiveAnchor:!0,title:"Format vocabulary meta-schema",type:["object","boolean"],properties:{format:{type:"string"}}},HR={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/meta-data":!0},$recursiveAnchor:!0,title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}},KR={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/validation",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/validation":!0},$recursiveAnchor:!0,title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}},const:!0,enum:{type:"array",items:!0},type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}};Object.defineProperty(Uy,"__esModule",{value:!0});const zR=BR,YR=qR,GR=WR,JR=UR,QR=VR,XR=HR,ZR=KR,eI=["/properties"];function tI(t){return[zR,YR,GR,JR,e(this,QR),XR,e(this,ZR)].forEach(n=>this.addMetaSchema(n,void 0,!1)),this;function e(n,r){return t?n.$dataMetaSchema(r,eI):r}}Uy.default=tI,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv2019=void 0;const n=mo,r=Cd,i=nh,s=rh,a=ih,l=Pu,f=Uy,d="https://json-schema.org/draft/2019-09/schema";class h extends n.default{constructor(C={}){super({...C,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(i.default),r.default.forEach(C=>this.addVocabulary(C)),this.addVocabulary(s.default),this.addVocabulary(a.default),this.opts.discriminator&&this.addKeyword(l.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:C,meta:R}=this.opts;!R||(f.default.call(this,C),this.refs["http://json-schema.org/schema"]=d)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(d)?d:void 0)}}e.Ajv2019=h,t.exports=e=h,t.exports.Ajv2019=h,Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var g=Ur;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return g.KeywordCxt}});var S=pt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return S._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return S.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return S.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return S.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return S.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return S.CodeGen}});var O=fa;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return O.default}});var I=bo;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return I.default}})}(Ry,Ry.exports);var nI=ri(Ry.exports),Vy={exports:{}},Hy={};Object.defineProperty(Hy,"__esModule",{value:!0});const rI=Od,iI=Fd,sI=cl,oI=nh,aI=rh,uI=ih,cI=ll,b$=ma,lI=[oI.default,rI.default,iI.default,(0,sI.default)(!0),cI.default,b$.metadataVocabulary,b$.contentVocabulary,aI.default,uI.default];Hy.default=lI;var Ky={},fI={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/schema",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],type:["object","boolean"],$comment:"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",properties:{definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}}},dI={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/applicator":!0},$dynamicAnchor:"meta",title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}}},hI={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/unevaluated",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},$dynamicAnchor:"meta",title:"Unevaluated applicator vocabulary meta-schema",type:["object","boolean"],properties:{unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}}},pI={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/content",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}}},mI={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/core",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0},$dynamicAnchor:"meta",title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},$defs:{anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}}},gI={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/format-annotation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},$dynamicAnchor:"meta",title:"Format vocabulary meta-schema for annotation results",type:["object","boolean"],properties:{format:{type:"string"}}},yI={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},$dynamicAnchor:"meta",title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}},vI={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/validation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/validation":!0},$dynamicAnchor:"meta",title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}};Object.defineProperty(Ky,"__esModule",{value:!0});const bI=fI,DI=dI,wI=hI,_I=pI,$I=mI,EI=gI,SI=yI,TI=vI,kI=["/properties"];function AI(t){return[bI,DI,wI,_I,$I,e(this,EI),SI,e(this,TI)].forEach(n=>this.addMetaSchema(n,void 0,!1)),this;function e(n,r){return t?n.$dataMetaSchema(r,kI):r}}Ky.default=AI,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv2020=void 0;const n=mo,r=Hy,i=Pu,s=Ky,a="https://json-schema.org/draft/2020-12/schema";class l extends n.default{constructor(O={}){super({...O,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),r.default.forEach(O=>this.addVocabulary(O)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:O,meta:I}=this.opts;!I||(s.default.call(this,O),this.refs["http://json-schema.org/schema"]=a)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.Ajv2020=l,t.exports=e=l,t.exports.Ajv2020=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var f=Ur;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var d=pt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var h=fa;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return h.default}});var g=bo;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return g.default}})}(Vy,Vy.exports);var CI=ri(Vy.exports),zy={exports:{}},Yy={},Gy={};Object.defineProperty(Gy,"__esModule",{value:!0});const OI=["$schema","id","$defs",{keyword:"$comment"},"definitions",rs.default];Gy.default=OI;var Jy={},Qy={};Object.defineProperty(Qy,"__esModule",{value:!0});const Xy=mo,_o=pt.operators,Zy={maximum:{exclusive:"exclusiveMaximum",ops:[{okStr:"<=",ok:_o.LTE,fail:_o.GT},{okStr:"<",ok:_o.LT,fail:_o.GTE}]},minimum:{exclusive:"exclusiveMinimum",ops:[{okStr:">=",ok:_o.GTE,fail:_o.LT},{okStr:">",ok:_o.GT,fail:_o.LTE}]}},PI={message:t=>Xy.str`must be ${e0(t).okStr} ${t.schemaCode}`,params:t=>Xy._`{comparison: ${e0(t).okStr}, limit: ${t.schemaCode}}`},NI={keyword:Object.keys(Zy),type:"number",schemaType:"number",$data:!0,error:PI,code(t){const{data:e,schemaCode:n}=t;t.fail$data(Xy._`${e} ${e0(t).fail} ${n} || isNaN(${e})`)}};function e0(t){var e;const n=t.keyword,r=!((e=t.parentSchema)===null||e===void 0)&&e[Zy[n].exclusive]?1:0;return Zy[n].ops[r]}Qy.default=NI;var t0={};Object.defineProperty(t0,"__esModule",{value:!0});const D$={exclusiveMaximum:"maximum",exclusiveMinimum:"minimum"},FI={keyword:Object.keys(D$),type:"number",schemaType:"boolean",code({keyword:t,parentSchema:e}){const n=D$[t];if(e[n]===void 0)throw new Error(`${t} can only be used with ${n}`)}};t0.default=FI,Object.defineProperty(Jy,"__esModule",{value:!0});const RI=Qy,II=t0,MI=Md,LI=Ld,jI=jd,xI=Bd,BI=qd,qI=Wd,WI=Ud,UI=Vd,VI=Hd,HI=[RI.default,II.default,MI.default,LI.default,jI.default,xI.default,BI.default,qI.default,WI.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},UI.default,VI.default];Jy.default=HI,Object.defineProperty(Yy,"__esModule",{value:!0});const KI=Gy,zI=Jy,YI=cl,GI=ll,JI=["title","description","default"],QI=[KI.default,zI.default,YI.default(),GI.default,JI];Yy.default=QI;var XI={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const n=mo,r=Yy,i=Pu,s=XI,a=["/properties"],l="http://json-schema.org/draft-04/schema";class f extends n.default{constructor(S={}){super({...S,schemaId:"id"})}_addVocabularies(){super._addVocabularies(),r.default.forEach(S=>this.addVocabulary(S)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const S=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(S,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}t.exports=e=f,Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var d=mo;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var h=mo;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}})})(zy,zy.exports);var ZI=ri(zy.exports);const w$=new uR,n0=new ZI,r0=new nI,i0=new CI,sh=Es.loadMessageBundle();var _$;(function(t){t[t.delete=0]="delete",t[t.add=1]="add",t[t.deleteAll=2]="deleteAll"})(_$||(_$={}));class eM{constructor(e){try{this.patternRegExp=new RegExp(BA(e)+"$")}catch{this.patternRegExp=null}this.schemas=[]}addSchema(e){this.schemas.push(e)}matchesPattern(e){return this.patternRegExp&&this.patternRegExp.test(e)}getSchemas(){return this.schemas}}class tM extends LA{constructor(e,n,r){super(e,n,r),this.schemaUriToNameAndDescription=new Map,this.customSchemaProvider=void 0,this.requestService=e,this.schemaPriorityMapping=new Map}registerCustomSchemaProvider(e){this.customSchemaProvider=e}getAllSchemas(){const e=[],n=new Set;for(const r of this.filePatternAssociations){const i=r.uris[0];if(n.has(i))continue;n.add(i);const s={uri:i,fromStore:!1,usedForCurrentFile:!1};if(this.schemaUriToNameAndDescription.has(i)){const{name:a,description:l,versions:f}=this.schemaUriToNameAndDescription.get(i);s.name=a,s.description=l,s.fromStore=!0,s.versions=f}e.push(s)}return e}async resolveSchemaContent(e,n,r){const i=e.errors.slice(0);let s=e.schema;const a=this.contextService;let l=[];switch(this.normalizeId(s.$schema)){case n0.defaultMeta():{n0.validateSchema(s)||(l=l.concat(n0.errors));break}case r0.defaultMeta():{r0.validateSchema(s)||(l=l.concat(r0.errors));break}case i0.defaultMeta():{i0.validateSchema(s)||(l=l.concat(i0.errors));break}default:w$.validateSchema(s)||(l=l.concat(w$.errors));break}if(l.length>0){const S=[];for(const O of l)S.push(`${O.instancePath} : ${O.message}`);i.push(`Schema '${Ow(e.schema,n)}' is not valid:
${S.join(`
`)}`)}const f=(S,O)=>{if(!O)return S;let I=S;return O[0]==="/"&&(O=O.substr(1)),O.split("/").some(P=>(I=I[P],!I)),I},d=(S,O,I,P)=>{const C=f(O,P);if(C)for(const R in C)Object.prototype.hasOwnProperty.call(C,R)&&!Object.prototype.hasOwnProperty.call(S,R)&&(S[R]=C[R]);else i.push(sh("json.schema.invalidref","$ref '{0}' in '{1}' can not be resolved.",P,I))},h=(S,O,I,P,C)=>{a&&!/^\w+:\/\/.*/.test(O)&&(O=a.resolveRelativePath(O,P)),O=this.normalizeId(O);const R=this.getOrAddSchemaHandle(O);return R.getUnresolvedSchema().then(T=>{if(C[O]=!0,T.errors.length){const v=I?O+"#"+I:O;i.push(sh("json.schema.problemloadingref","Problems loading reference '{0}': {1}",v,T.errors[0]))}return d(S,T.schema,O,I),S.url=O,g(S,T.schema,O,R.dependencies)})},g=async(S,O,I,P)=>{if(!S||typeof S!="object")return null;const C=[S],R=new Set,T=[],v=(...$)=>{for(const q of $)typeof q=="object"&&C.push(q)},D=(...$)=>{for(const q of $)if(typeof q=="object")for(const F in q){const L=q[F];typeof L=="object"&&C.push(L)}},b=(...$)=>{for(const q of $)if(Array.isArray(q))for(const F of q)typeof F=="object"&&C.push(F)},_=$=>{const q=new Set;for(;$.$ref;){const F=$.$ref,L=F.split("#",2);if($._$ref=$.$ref,delete $.$ref,L[0].length>0){T.push(h($,L[0],L[1],I,P));return}else q.has(F)||(d($,O,I,L[1]),q.add(F))}v($.items,$.additionalItems,$.additionalProperties,$.not,$.contains,$.propertyNames,$.if,$.then,$.else),D($.definitions,$.properties,$.patternProperties,$.dependencies),b($.anyOf,$.allOf,$.oneOf,$.items,$.schemaSequence)};if(I.indexOf("#")>0){const $=I.split("#",2);if($[0].length>0&&$[1].length>0){const q={};await h(q,$[0],$[1],I,P);for(const F in s)F!=="required"&&Object.prototype.hasOwnProperty.call(s,F)&&!Object.prototype.hasOwnProperty.call(q,F)&&(q[F]=s[F]);s=q}}for(;C.length;){const $=C.pop();R.has($)||(R.add($),_($))}return Promise.all(T)};return await g(s,s,n,r),new Ic(s,i)}getSchemaForResource(e,n){const r=()=>{let l=e2(n);if(l!==void 0){if(!l.startsWith("file:")&&!l.startsWith("http")){let f="";if(l.indexOf("#")>0){const d=l.split("#",2);l=d[0],f=d[1]}if(sa.isAbsolute(l))l=Wr.file(l).toString();else{const d=Wr.parse(e);l=Wr.file(sa.resolve(sa.parse(d.fsPath).dir,l)).toString()}f.length>0&&(l+="#"+f)}return l}},i=l=>{const f=super.createCombinedSchema(e,l);return f.getResolvedSchema().then(d=>(d.schema&&typeof d.schema=="object"&&(d.schema.url=f.url),d.schema&&d.schema.schemaSequence&&d.schema.schemaSequence[n.currentDocIndex]?new Ic(d.schema.schemaSequence[n.currentDocIndex]):d))},s=()=>{const l=Object.create(null),f=[];for(const d of this.filePatternAssociations)if(d.matchesPattern(e))for(const h of d.getURIs())l[h]||(f.push(h),l[h]=!0);if(f.length>0){const d=this.highestPrioritySchemas(f);return i(d)}return Promise.resolve(null)},a=r();return a?i([a]):this.customSchemaProvider?this.customSchemaProvider(e).then(l=>Array.isArray(l)?l.length===0?s():Promise.all(l.map(f=>this.resolveCustomSchema(f,n))).then(f=>({errors:[],schema:{allOf:f.map(d=>d.schema)}}),()=>s()):l?this.resolveCustomSchema(l,n):s()).then(l=>l,()=>s()):s()}addSchemaPriority(e,n){let r=this.schemaPriorityMapping.get(e);r?(r=r.add(n),this.schemaPriorityMapping.set(e,r)):this.schemaPriorityMapping.set(e,new Set().add(n))}highestPrioritySchemas(e){let n=0;const r=new Map;return e.forEach(i=>{(this.schemaPriorityMapping.get(i)||[0]).forEach(a=>{a>n&&(n=a);let l=r.get(a);l?(l=l.concat(i),r.set(a,l)):r.set(a,[i])})}),r.get(n)||[]}async resolveCustomSchema(e,n){const r=await this.loadSchema(e),i=await this.resolveSchemaContent(r,e,[]);return i.schema&&typeof i.schema=="object"&&(i.schema.url=e),i.schema&&i.schema.schemaSequence&&i.schema.schemaSequence[n.currentDocIndex]?new Ic(i.schema.schemaSequence[n.currentDocIndex],i.errors):i}async saveSchema(e,n){const r=this.normalizeId(e);return this.getOrAddSchemaHandle(r,n),this.schemaPriorityMapping.set(r,new Set().add(x0.Settings)),Promise.resolve(void 0)}async deleteSchemas(e){return e.schemas.forEach(n=>{this.deleteSchema(n)}),Promise.resolve(void 0)}async deleteSchema(e){const n=this.normalizeId(e);return this.schemasById[n]&&delete this.schemasById[n],this.schemaPriorityMapping.delete(n),Promise.resolve(void 0)}async addContent(e){const n=await this.getResolvedSchema(e.schema);if(n){const r=this.resolveJSONSchemaToSection(n.schema,e.path);typeof r=="object"&&(r[e.key]=e.content),await this.saveSchema(e.schema,n.schema)}}async deleteContent(e){const n=await this.getResolvedSchema(e.schema);if(n){const r=this.resolveJSONSchemaToSection(n.schema,e.path);typeof r=="object"&&delete r[e.key],await this.saveSchema(e.schema,n.schema)}}resolveJSONSchemaToSection(e,n){const r=n.split("/");let i=e;for(const s of r)s!==""&&(this.resolveNext(i,s),i=i[s]);return i}resolveNext(e,n){if(Array.isArray(e)&&isNaN(n))throw new Error("Expected a number after the array object");if(typeof e=="object"&&typeof n!="string")throw new Error("Expected a string after the object")}normalizeId(e){try{return Wr.parse(e).toString()}catch{return e}}getOrAddSchemaHandle(e,n){return super.getOrAddSchemaHandle(e,n)}loadSchema(e){const n=this.requestService;return super.loadSchema(e).then(r=>{if(r.errors&&r.schema===void 0)return n(e).then(i=>{if(!i){const s=sh("json.schema.nocontent","Unable to load schema from '{0}': No content. {1}",$$(e),r.errors);return new Ti({},[s])}try{const s=uO(i);return new Ti(s,[])}catch(s){const a=sh("json.schema.invalidFormat","Unable to parse content from '{0}': {1}.",$$(e),s);return new Ti({},[a])}},i=>{let s=i.toString();const a=i.toString().split("Error: ");return a.length>1&&(s=a[1]),new Ti({},[s])});if(r.uri=e,this.schemaUriToNameAndDescription.has(e)){const{name:i,description:s,versions:a}=this.schemaUriToNameAndDescription.get(e);r.schema.title=i!=null?i:r.schema.title,r.schema.description=s!=null?s:r.schema.description,r.schema.versions=a!=null?a:r.schema.versions}return r})}registerExternalSchema(e,n,r,i,s,a){return(i||s)&&this.schemaUriToNameAndDescription.set(e,{name:i,description:s,versions:a}),super.registerExternalSchema(e,n,r)}clearExternalSchemas(){super.clearExternalSchemas()}setSchemaContributions(e){super.setSchemaContributions(e)}getRegisteredSchemaIds(e){return super.getRegisteredSchemaIds(e)}getResolvedSchema(e){return super.getResolvedSchema(e)}onResourceChange(e){return super.onResourceChange(e)}}function $$(t){try{const e=Wr.parse(t);if(e.scheme==="file")return e.fsPath}catch{}return t}class nM{constructor(e,n){this.telemetry=n,this.jsonDocumentSymbols=new DO(e),this.jsonDocumentSymbols.getKeyLabel=r=>{const i=r.keyNode.internalNode;let s="";return Fn(i)?s="{}":jn(i)?s="[]":s=i.source,s}}findDocumentSymbols(e,n={resultLimit:Number.MAX_VALUE}){var i;let r=[];try{const s=fi.getYamlDocument(e);if(!s||s.documents.length===0)return null;for(const a of s.documents)a.root&&(r=r.concat(this.jsonDocumentSymbols.findDocumentSymbols(e,a,n)))}catch(s){(i=this.telemetry)==null||i.sendError("yaml.documentSymbols.error",s)}return r}findHierarchicalDocumentSymbols(e,n={resultLimit:Number.MAX_VALUE}){var i;let r=[];try{const s=fi.getYamlDocument(e);if(!s||s.documents.length===0)return null;for(const a of s.documents)a.root&&(r=r.concat(this.jsonDocumentSymbols.findDocumentSymbols2(e,a,n)))}catch(s){(i=this.telemetry)==null||i.sendError("yaml.hierarchicalDocumentSymbols.error",s)}return r}}function E$(t,e){for(const n of t)n.isKubernetes=e}class rM{constructor(e,n){this.telemetry=n,this.shouldHover=!0,this.schemaService=e}configure(e){e&&(this.shouldHover=e.hover,this.indentation=e.indentation)}doHover(e,n,r=!1){var i;try{if(!this.shouldHover||!e)return Promise.resolve(void 0);const s=fi.getYamlDocument(e),a=e.offsetAt(n),l=md(a,s);if(l===null)return Promise.resolve(void 0);E$(s.documents,r);const f=s.documents.indexOf(l);return l.currentDocIndex=f,this.getHover(e,n,l)}catch(s){(i=this.telemetry)==null||i.sendError("yaml.hover.error",s)}}getHover(e,n,r){const i=e.offsetAt(n);let s=r.getNodeFromOffset(i);if(!s||(s.type==="object"||s.type==="array")&&i>s.offset+1&&i<s.offset+s.length-1)return Promise.resolve(null);const a=s;if(s.type==="string"){const h=s.parent;if(h&&h.type==="property"&&h.keyNode===s&&(s=h.valueNode,!s))return Promise.resolve(null)}const l=ot.create(e.positionAt(a.offset),e.positionAt(a.offset+a.length)),f=h=>({contents:{kind:Vi.Markdown,value:h},range:l}),d=h=>h.replace(/\s\|\|\s*$/,"");return this.schemaService.getSchemaForResource(e.uri,r).then(h=>{if(h&&s&&!h.errors.length){const g=r.getMatchingSchemas(h.schema,s.offset);let S,O,I=[],P;const C=[],R=[];g.every(v=>{var D,b,_;return(v.node===s||s.type==="property"&&s.valueNode===v.node)&&!v.inverted&&v.schema&&(((D=s.parent)==null?void 0:D.type)==="property"&&(S=s.parent.internalNode.key.source),O=O||v.schema.markdownDescription||this.toMarkdown(v.schema.description),v.schema.enum&&(v.schema.markdownEnumDescriptions?I=v.schema.markdownEnumDescriptions:v.schema.enumDescriptions?I=v.schema.enumDescriptions.map(this.toMarkdown,this):I=[],v.schema.enum.forEach(($,q)=>{typeof $!="string"&&($=JSON.stringify($)),R.push({value:$,description:I[q]})})),v.schema.anyOf&&sM(s,g,v.schema)&&(S="",O=v.schema.description?v.schema.description+`
`:"",v.schema.anyOf.forEach(($,q)=>{S+=$.title||v.schema.closestTitle||"",O+=$.markdownDescription||this.toMarkdown($.description)||"",q!==v.schema.anyOf.length-1&&(S+=" || ",O+=" || ")}),S=d(S),O=d(O)),v.schema.anyOf?P=v.schema.anyOf.map(({type:$})=>$).join(" || "):P=P!=null?P:(_=(b=v.schema.type)==null?void 0:b.toString)==null?void 0:_.call(b),v.schema.enum&&(P="enum"),v.schema.examples&&v.schema.examples.forEach($=>{C.push(cO($,null,2))})),!0});let T="";return S&&(T="#### "+this.toMarkdown(S)),O&&(T=fl(T),T+=O),P&&(T=fl(T),T+=`Type: ${P}`),R.length!==0&&(T=fl(T),T+=`Allowed Values:

`,R.forEach(v=>{v.description?T+=`* \`${S$(v.value)}\`: ${v.description}
`:T+=`* \`${S$(v.value)}\`
`})),C.length!==0&&C.forEach(v=>{T=fl(T),T+=`Example:

`,T+=`\`\`\`yaml
${v}\`\`\`
`}),T.length>0&&h.schema.url&&(T=fl(T),T+=`Source: [${iM(h.schema)}](${h.schema.url})`),f(T)}return null})}toMarkdown(e){if(e){let n=e.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,`$1

$3`);if(n=n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&"),this.indentation!==void 0){const r=new RegExp(` {${this.indentation.length}}`,"g");n=n.replace(r,"&emsp;")}return n}}}function fl(t){return t.length===0?t:(t.endsWith(`
`)||(t+=`
`),t+`
`)}function iM(t){let e="JSON Schema";const n=t.url;if(n){const r=Wr.parse(n);e=sa.basename(r.fsPath)}else t.title&&(e=t.title);return e}function S$(t){return t.indexOf("`")!==-1?"`` "+t+" ``":t}function sM(t,e,n){let r=0;for(const i of e)t===i.node&&i.schema!==n&&n.anyOf.forEach(s=>{i.schema.title===s.title&&i.schema.description===s.description&&i.schema.properties===s.properties&&r++});return r===n.anyOf.length}class oM{validate(e,n){const r=[],i=new Set,s=new Set,a=new Map;_n(n.internalDocument,(l,f,d)=>{!an(f)||((Rn(f)||Dt(f))&&f.anchor&&(i.add(f),a.set(f,d[d.length-1])),Gi(f)&&s.add(f.resolve(n.internalDocument)))});for(const l of i)if(!s.has(l)){const f=this.getAnchorNode(a.get(l),l);if(f){const d=ot.create(e.positionAt(f.offset),e.positionAt(f.offset+f.source.length)),h=kr.create(d,`Unused anchor "${f.source}"`,$t.Hint,0);h.tags=[gf.Unnecessary],r.push(h)}}return r}getAnchorNode(e,n){if(e&&e.srcToken){const r=e.srcToken;if(Uw(r))return T$(r);if(tO(r))for(const i of r.items){if(n.srcToken!==i.value)continue;const s=T$(i);if(s)return s}}}}function T$(t){for(const e of t.start)if(e.type==="anchor")return e;if(t.sep&&Array.isArray(t.sep)){for(const e of t.sep)if(e.type==="anchor")return e}}class aM{constructor(e){this.forbidMapping=e.flowMapping==="forbid",this.forbidSequence=e.flowSequence==="forbid"}validate(e,n){const r=[];return _n(n.internalDocument,(i,s)=>{var a,l;this.forbidMapping&&Fn(s)&&((a=s.srcToken)==null?void 0:a.type)==="flow-collection"&&r.push(kr.create(this.getRangeOf(e,s.srcToken),"Flow style mapping is forbidden",$t.Error,"flowMap")),this.forbidSequence&&jn(s)&&((l=s.srcToken)==null?void 0:l.type)==="flow-collection"&&r.push(kr.create(this.getRangeOf(e,s.srcToken),"Flow style sequence is forbidden",$t.Error,"flowSeq"))}),r}getRangeOf(e,n){return ot.create(e.positionAt(n.start.offset),e.positionAt(n.end.pop().offset))}}class uM{validate(e,n){const r=[];return _n(n.internalDocument,(i,s)=>{if(Fn(s)){for(let a=1;a<s.items.length;a++)if(lM(s.items[a-1],s.items[a])>0){const l=cM(e,s.items[a-1]);r.push(kr.create(l,`Wrong ordering of key "${s.items[a-1].key}" in mapping`,$t.Error,"mapKeyOrder"))}}}),r}}function cM(t,e){var i,s,a,l,f,d,h,g,S,O,I;const n=(d=(a=(i=e==null?void 0:e.srcToken.start[0])==null?void 0:i.offset)!=null?a:(s=e==null?void 0:e.srcToken)==null?void 0:s.key.offset)!=null?d:(f=(l=e==null?void 0:e.srcToken)==null?void 0:l.sep[0])==null?void 0:f.offset,r=((h=e==null?void 0:e.srcToken)==null?void 0:h.value.offset)||((S=(g=e==null?void 0:e.srcToken)==null?void 0:g.sep[0])==null?void 0:S.offset)||((O=e==null?void 0:e.srcToken)==null?void 0:O.key.offset)||((I=e==null?void 0:e.srcToken.start[e.srcToken.start.length-1])==null?void 0:I.offset);return ot.create(t.positionAt(n),t.positionAt(r))}function lM(t,e){const n=String(e.key);return String(t.key).localeCompare(n)}const fM=(t,e)=>{const n=e.positionAt(t.location.start),r={start:n,end:t.location.toLineEnd?Jn.create(n.line,new ua(e).getLineLength(n.line)):e.positionAt(t.location.end)};return kr.create(r,t.message,t.severity,t.code,gd)};class dM{constructor(e,n){this.telemetry=n,this.validators=[],this.MATCHES_MULTIPLE="Matches multiple schemas when only one must validate.",this.validationEnabled=!0,this.jsonValidation=new pO(e,Promise)}configure(e){this.validators=[],e&&(this.validationEnabled=e.validate,this.customTags=e.customTags,this.disableAdditionalProperties=e.disableAdditionalProperties,this.yamlVersion=e.yamlVersion,(e.flowMapping==="forbid"||e.flowSequence==="forbid")&&this.validators.push(new aM(e)),e.keyOrdering&&this.validators.push(new uM)),this.validators.push(new oM)}async doValidation(e,n=!1){var l;if(!this.validationEnabled)return Promise.resolve([]);const r=[];try{const f=fi.getYamlDocument(e,{customTags:this.customTags,yamlVersion:this.yamlVersion},!0);let d=0;for(const h of f.documents){h.isKubernetes=n,h.currentDocIndex=d,h.disableAdditionalProperties=this.disableAdditionalProperties,h.uri=e.uri;const g=await this.jsonValidation.doValidation(e,h),S=h;S.errors.length>0&&r.push(...S.errors),S.warnings.length>0&&r.push(...S.warnings),r.push(...g),r.push(...this.runAdditionalValidators(e,h)),d++}}catch(f){(l=this.telemetry)==null||l.sendError("yaml.validation.error",f)}let i;const s=new Set,a=[];for(let f of r){if(n&&f.message===this.MATCHES_MULTIPLE)continue;if(Object.prototype.hasOwnProperty.call(f,"location")&&(f=fM(f,e)),f.source||(f.source=gd),i&&i.message===f.message&&i.range.end.line===f.range.start.line&&Math.abs(i.range.end.character-f.range.end.character)>=1){i.range.end=f.range.end;continue}else i=f;const d=f.range.start.line+" "+f.range.start.character+" "+f.message;s.has(d)||(a.push(f),s.add(d))}return a}runAdditionalValidators(e,n){const r=[];for(const i of this.validators)r.push(...i.validate(e,n));return r}}var k$={exports:{}};(function(t,e){(function(n){function r(){var i=n();return i.default||i}t.exports=r()})(function(){var n=Object.create,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,f=c=>{throw TypeError(c)},d=(c,m)=>()=>(m||c((m={exports:{}}).exports,m),m.exports),h=(c,m)=>{for(var E in m)r(c,E,{get:m[E],enumerable:!0})},g=(c,m,E,N)=>{if(m&&typeof m=="object"||typeof m=="function")for(let x of s(m))!l.call(c,x)&&x!==E&&r(c,x,{get:()=>m[x],enumerable:!(N=i(m,x))||N.enumerable});return c},S=(c,m,E)=>(E=c!=null?n(a(c)):{},g(m||!c||!c.__esModule?r(E,"default",{value:c,enumerable:!0}):E,c)),O=c=>g(r({},"__esModule",{value:!0}),c),I=(c,m,E)=>m.has(c)||f("Cannot "+E),P=(c,m,E)=>m.has(c)?f("Cannot add the same private member more than once"):m instanceof WeakSet?m.add(c):m.set(c,E),C=(c,m,E)=>(I(c,m,"access private method"),E),R=d((c,m)=>{var E=new Proxy(String,{get:()=>E});m.exports=E}),T=d(c=>{Object.defineProperty(c,"__esModule",{value:!0});function m(){return new Proxy({},{get:()=>j=>j})}var E=/\r\n|[\n\r\u2028\u2029]/;function N(j,ee,ae){let ue=Object.assign({column:0,line:-1},j.start),ve=Object.assign({},ue,j.end),{linesAbove:we=2,linesBelow:Te=3}=ae||{},Pe=ue.line,be=ue.column,Re=ve.line,Ae=ve.column,xe=Math.max(Pe-(we+1),0),at=Math.min(ee.length,Re+Te);Pe===-1&&(xe=0),Re===-1&&(at=ee.length);let Ct=Re-Pe,nt={};if(Ct)for(let vt=0;vt<=Ct;vt++){let bt=vt+Pe;if(!be)nt[bt]=!0;else if(vt===0){let gn=ee[bt-1].length;nt[bt]=[be,gn-be+1]}else if(vt===Ct)nt[bt]=[0,Ae];else{let gn=ee[bt-vt].length;nt[bt]=[0,gn]}}else be===Ae?be?nt[Pe]=[be,0]:nt[Pe]=!0:nt[Pe]=[be,Ae-be];return{start:xe,end:at,markerLines:nt}}function x(j,ee,ae={}){let ue=m(),ve=j.split(E),{start:we,end:Te,markerLines:Pe}=N(ee,ve,ae),be=ee.start&&typeof ee.start.column=="number",Re=String(Te).length,Ae=j.split(E,Te).slice(we,Te).map((xe,at)=>{let Ct=we+1+at,nt=` ${` ${Ct}`.slice(-Re)} |`,vt=Pe[Ct],bt=!Pe[Ct+1];if(vt){let gn="";if(Array.isArray(vt)){let ur=xe.slice(0,Math.max(vt[0]-1,0)).replace(/[^\t]/g," "),Qr=vt[1]||1;gn=[`
 `,ue.gutter(nt.replace(/\d/g," "))," ",ur,ue.marker("^").repeat(Qr)].join(""),bt&&ae.message&&(gn+=" "+ue.message(ae.message))}return[ue.marker(">"),ue.gutter(nt),xe.length>0?` ${xe}`:"",gn].join("")}else return` ${ue.gutter(nt)}${xe.length>0?` ${xe}`:""}`}).join(`
`);return ae.message&&!be&&(Ae=`${" ".repeat(Re+1)}${ae.message}
${Ae}`),Ae}c.codeFrameColumns=x}),v={};h(v,{__debug:()=>xi,check:()=>Sp,doc:()=>Er,format:()=>Ep,formatWithCursor:()=>Ia,getSupportInfo:()=>Vv,util:()=>ms,version:()=>Ev});var D=(c,m,E,N)=>{if(!(c&&m==null))return m.replaceAll?m.replaceAll(E,N):E.global?m.replace(E,N):m.split(E).join(N)},b=D;function _(){}_.prototype={diff:function(c,m){var E,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},x=N.callback;typeof N=="function"&&(x=N,N={});var j=this;function ee(nt){return nt=j.postProcess(nt,N),x?(setTimeout(function(){x(nt)},0),!0):nt}c=this.castInput(c,N),m=this.castInput(m,N),c=this.removeEmpty(this.tokenize(c,N)),m=this.removeEmpty(this.tokenize(m,N));var ae=m.length,ue=c.length,ve=1,we=ae+ue;N.maxEditLength!=null&&(we=Math.min(we,N.maxEditLength));var Te=(E=N.timeout)!==null&&E!==void 0?E:1/0,Pe=Date.now()+Te,be=[{oldPos:-1,lastComponent:void 0}],Re=this.extractCommon(be[0],m,c,0,N);if(be[0].oldPos+1>=ue&&Re+1>=ae)return ee($(j,be[0].lastComponent,m,c,j.useLongestToken));var Ae=-1/0,xe=1/0;function at(){for(var nt=Math.max(Ae,-ve);nt<=Math.min(xe,ve);nt+=2){var vt=void 0,bt=be[nt-1],gn=be[nt+1];bt&&(be[nt-1]=void 0);var ur=!1;if(gn){var Qr=gn.oldPos-nt;ur=gn&&0<=Qr&&Qr<ae}var Ma=bt&&bt.oldPos+1<ue;if(!ur&&!Ma){be[nt]=void 0;continue}if(!Ma||ur&&bt.oldPos<gn.oldPos?vt=j.addToPath(gn,!0,!1,0,N):vt=j.addToPath(bt,!1,!0,1,N),Re=j.extractCommon(vt,m,c,nt,N),vt.oldPos+1>=ue&&Re+1>=ae)return ee($(j,vt.lastComponent,m,c,j.useLongestToken));be[nt]=vt,vt.oldPos+1>=ue&&(xe=Math.min(xe,nt-1)),Re+1>=ae&&(Ae=Math.max(Ae,nt+1))}ve++}if(x)(function nt(){setTimeout(function(){if(ve>we||Date.now()>Pe)return x();at()||nt()},0)})();else for(;ve<=we&&Date.now()<=Pe;){var Ct=at();if(Ct)return Ct}},addToPath:function(c,m,E,N,x){var j=c.lastComponent;return j&&!x.oneChangePerToken&&j.added===m&&j.removed===E?{oldPos:c.oldPos+N,lastComponent:{count:j.count+1,added:m,removed:E,previousComponent:j.previousComponent}}:{oldPos:c.oldPos+N,lastComponent:{count:1,added:m,removed:E,previousComponent:j}}},extractCommon:function(c,m,E,N,x){for(var j=m.length,ee=E.length,ae=c.oldPos,ue=ae-N,ve=0;ue+1<j&&ae+1<ee&&this.equals(E[ae+1],m[ue+1],x);)ue++,ae++,ve++,x.oneChangePerToken&&(c.lastComponent={count:1,previousComponent:c.lastComponent,added:!1,removed:!1});return ve&&!x.oneChangePerToken&&(c.lastComponent={count:ve,previousComponent:c.lastComponent,added:!1,removed:!1}),c.oldPos=ae,ue},equals:function(c,m,E){return E.comparator?E.comparator(c,m):c===m||E.ignoreCase&&c.toLowerCase()===m.toLowerCase()},removeEmpty:function(c){for(var m=[],E=0;E<c.length;E++)c[E]&&m.push(c[E]);return m},castInput:function(c){return c},tokenize:function(c){return Array.from(c)},join:function(c){return c.join("")},postProcess:function(c){return c}};function $(c,m,E,N,x){for(var j=[],ee;m;)j.push(m),ee=m.previousComponent,delete m.previousComponent,m=ee;j.reverse();for(var ae=0,ue=j.length,ve=0,we=0;ae<ue;ae++){var Te=j[ae];if(Te.removed)Te.value=c.join(N.slice(we,we+Te.count)),we+=Te.count;else{if(!Te.added&&x){var Pe=E.slice(ve,ve+Te.count);Pe=Pe.map(function(be,Re){var Ae=N[we+Re];return Ae.length>be.length?Ae:be}),Te.value=c.join(Pe)}else Te.value=c.join(E.slice(ve,ve+Te.count));ve+=Te.count,Te.added||(we+=Te.count)}}return j}function q(c,m){var E;for(E=0;E<c.length&&E<m.length;E++)if(c[E]!=m[E])return c.slice(0,E);return c.slice(0,E)}function F(c,m){var E;if(!c||!m||c[c.length-1]!=m[m.length-1])return"";for(E=0;E<c.length&&E<m.length;E++)if(c[c.length-(E+1)]!=m[m.length-(E+1)])return c.slice(-E);return c.slice(-E)}function L(c,m,E){if(c.slice(0,m.length)!=m)throw Error("string ".concat(JSON.stringify(c)," doesn't start with prefix ").concat(JSON.stringify(m),"; this is a bug"));return E+c.slice(m.length)}function M(c,m,E){if(!m)return c+E;if(c.slice(-m.length)!=m)throw Error("string ".concat(JSON.stringify(c)," doesn't end with suffix ").concat(JSON.stringify(m),"; this is a bug"));return c.slice(0,-m.length)+E}function Y(c,m){return L(c,m,"")}function H(c,m){return M(c,m,"")}function ne(c,m){return m.slice(0,ge(c,m))}function ge(c,m){var E=0;c.length>m.length&&(E=c.length-m.length);var N=m.length;c.length<m.length&&(N=c.length);var x=Array(N),j=0;x[0]=0;for(var ee=1;ee<N;ee++){for(m[ee]==m[j]?x[ee]=x[j]:x[ee]=j;j>0&&m[ee]!=m[j];)j=x[j];m[ee]==m[j]&&j++}j=0;for(var ae=E;ae<c.length;ae++){for(;j>0&&c[ae]!=m[j];)j=x[j];c[ae]==m[j]&&j++}return j}var pe="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",$e=new RegExp("[".concat(pe,"]+|\\s+|[^").concat(pe,"]"),"ug"),Ve=new _;Ve.equals=function(c,m,E){return E.ignoreCase&&(c=c.toLowerCase(),m=m.toLowerCase()),c.trim()===m.trim()},Ve.tokenize=function(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E;if(m.intlSegmenter){if(m.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');E=Array.from(m.intlSegmenter.segment(c),function(j){return j.segment})}else E=c.match($e)||[];var N=[],x=null;return E.forEach(function(j){/\s/.test(j)?x==null?N.push(j):N.push(N.pop()+j):/\s/.test(x)?N[N.length-1]==x?N.push(N.pop()+j):N.push(x+j):N.push(j),x=j}),N},Ve.join=function(c){return c.map(function(m,E){return E==0?m:m.replace(/^\s+/,"")}).join("")},Ve.postProcess=function(c,m){if(!c||m.oneChangePerToken)return c;var E=null,N=null,x=null;return c.forEach(function(j){j.added?N=j:j.removed?x=j:((N||x)&&lt(E,x,N,j),E=j,N=null,x=null)}),(N||x)&&lt(E,x,N,null),c};function lt(c,m,E,N){if(m&&E){var x=m.value.match(/^\s*/)[0],j=m.value.match(/\s*$/)[0],ee=E.value.match(/^\s*/)[0],ae=E.value.match(/\s*$/)[0];if(c){var ue=q(x,ee);c.value=M(c.value,ee,ue),m.value=Y(m.value,ue),E.value=Y(E.value,ue)}if(N){var ve=F(j,ae);N.value=L(N.value,ae,ve),m.value=H(m.value,ve),E.value=H(E.value,ve)}}else if(E)c&&(E.value=E.value.replace(/^\s*/,"")),N&&(N.value=N.value.replace(/^\s*/,""));else if(c&&N){var we=N.value.match(/^\s*/)[0],Te=m.value.match(/^\s*/)[0],Pe=m.value.match(/\s*$/)[0],be=q(we,Te);m.value=Y(m.value,be);var Re=F(Y(we,be),Pe);m.value=H(m.value,Re),N.value=L(N.value,we,Re),c.value=M(c.value,we,we.slice(0,we.length-Re.length))}else if(N){var Ae=N.value.match(/^\s*/)[0],xe=m.value.match(/\s*$/)[0],at=ne(xe,Ae);m.value=H(m.value,at)}else if(c){var Ct=c.value.match(/\s*$/)[0],nt=m.value.match(/^\s*/)[0],vt=ne(Ct,nt);m.value=Y(m.value,vt)}}var Se=new _;Se.tokenize=function(c){var m=new RegExp("(\\r?\\n)|[".concat(pe,"]+|[^\\S\\n\\r]+|[^").concat(pe,"]"),"ug");return c.match(m)||[]};var K=new _;K.tokenize=function(c,m){m.stripTrailingCr&&(c=c.replace(/\r\n/g,`
`));var E=[],N=c.split(/(\n|\r\n)/);N[N.length-1]||N.pop();for(var x=0;x<N.length;x++){var j=N[x];x%2&&!m.newlineIsToken?E[E.length-1]+=j:E.push(j)}return E},K.equals=function(c,m,E){return E.ignoreWhitespace?((!E.newlineIsToken||!c.includes(`
`))&&(c=c.trim()),(!E.newlineIsToken||!m.includes(`
`))&&(m=m.trim())):E.ignoreNewlineAtEof&&!E.newlineIsToken&&(c.endsWith(`
`)&&(c=c.slice(0,-1)),m.endsWith(`
`)&&(m=m.slice(0,-1))),_.prototype.equals.call(this,c,m,E)};var de=new _;de.tokenize=function(c){return c.split(/(\S.+?[.!?])(?=\s+|$)/)};var ce=new _;ce.tokenize=function(c){return c.split(/([{}:;,]|\s+)/)};function U(c){return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},U(c)}var te=new _;te.useLongestToken=!0,te.tokenize=K.tokenize,te.castInput=function(c,m){var E=m.undefinedReplacement,N=m.stringifyReplacer,x=N===void 0?function(j,ee){return typeof ee>"u"?E:ee}:N;return typeof c=="string"?c:JSON.stringify(ye(c,null,null,x),x,"  ")},te.equals=function(c,m,E){return _.prototype.equals.call(te,c.replace(/,([\r\n])/g,"$1"),m.replace(/,([\r\n])/g,"$1"),E)};function ye(c,m,E,N,x){m=m||[],E=E||[],N&&(c=N(x,c));var j;for(j=0;j<m.length;j+=1)if(m[j]===c)return E[j];var ee;if(Object.prototype.toString.call(c)==="[object Array]"){for(m.push(c),ee=new Array(c.length),E.push(ee),j=0;j<c.length;j+=1)ee[j]=ye(c[j],m,E,N,x);return m.pop(),E.pop(),ee}if(c&&c.toJSON&&(c=c.toJSON()),U(c)==="object"&&c!==null){m.push(c),ee={},E.push(ee);var ae=[],ue;for(ue in c)Object.prototype.hasOwnProperty.call(c,ue)&&ae.push(ue);for(ae.sort(),j=0;j<ae.length;j+=1)ue=ae[j],ee[ue]=ye(c[ue],m,E,N,ue);m.pop(),E.pop()}else ee=c;return ee}var Ie=new _;Ie.tokenize=function(c){return c.slice()},Ie.join=Ie.removeEmpty=function(c){return c};function Le(c,m,E){return Ie.diff(c,m,E)}function ze(c){let m=c.indexOf("\r");return m!==-1?c.charAt(m+1)===`
`?"crlf":"cr":"lf"}function Je(c){switch(c){case"cr":return"\r";case"crlf":return`\r
`;default:return`
`}}function et(c,m){let E;switch(m){case`
`:E=/\n/gu;break;case"\r":E=/\r/gu;break;case`\r
`:E=/\r\n/gu;break;default:throw new Error(`Unexpected "eol" ${JSON.stringify(m)}.`)}let N=c.match(E);return N?N.length:0}function rt(c){return b(!1,c,/\r\n?/gu,`
`)}var tn="string",tt="array",qt="cursor",Gt="indent",_t="align",Dn="trim",nn="group",Yt="fill",mt="if-break",un="indent-if-break",dn="line-suffix",vn="line-suffix-boundary",gt="line",Q="label",V="break-parent",Z=new Set([qt,Gt,_t,Dn,nn,Yt,mt,un,dn,vn,gt,Q,V]),ie=(c,m,E)=>{if(!(c&&m==null))return Array.isArray(m)||typeof m=="string"?m[E<0?m.length+E:E]:m.at(E)},A=ie;function y(c){if(typeof c=="string")return tn;if(Array.isArray(c))return tt;if(!c)return;let{type:m}=c;if(Z.has(m))return m}var w=y,B=c=>new Intl.ListFormat("en-US",{type:"disjunction"}).format(c);function J(c){let m=c===null?"null":typeof c;if(m!=="string"&&m!=="object")return`Unexpected doc '${m}', 
Expected it to be 'string' or 'object'.`;if(w(c))throw new Error("doc is valid.");let E=Object.prototype.toString.call(c);if(E!=="[object Object]")return`Unexpected doc '${E}'.`;let N=B([...Z].map(x=>`'${x}'`));return`Unexpected doc.type '${c.type}'.
Expected it to be ${N}.`}var re=class extends Error{constructor(m){super(J(m));ni(this,"name","InvalidDocError");this.doc=m}},fe=re,Ne={};function Xe(c,m,E,N){let x=[c];for(;x.length>0;){let j=x.pop();if(j===Ne){E(x.pop());continue}E&&x.push(j,Ne);let ee=w(j);if(!ee)throw new fe(j);if((m==null?void 0:m(j))!==!1)switch(ee){case tt:case Yt:{let ae=ee===tt?j:j.parts;for(let ue=ae.length,ve=ue-1;ve>=0;--ve)x.push(ae[ve]);break}case mt:x.push(j.flatContents,j.breakContents);break;case nn:if(N&&j.expandedStates)for(let ae=j.expandedStates.length,ue=ae-1;ue>=0;--ue)x.push(j.expandedStates[ue]);else x.push(j.contents);break;case _t:case Gt:case un:case Q:case dn:x.push(j.contents);break;case tn:case qt:case Dn:case vn:case gt:case V:break;default:throw new fe(j)}}}var We=Xe;function Ye(c,m){if(typeof c=="string")return m(c);let E=new Map;return N(c);function N(j){if(E.has(j))return E.get(j);let ee=x(j);return E.set(j,ee),ee}function x(j){switch(w(j)){case tt:return m(j.map(N));case Yt:return m({...j,parts:j.parts.map(N)});case mt:return m({...j,breakContents:N(j.breakContents),flatContents:N(j.flatContents)});case nn:{let{expandedStates:ee,contents:ae}=j;return ee?(ee=ee.map(N),ae=ee[0]):ae=N(ae),m({...j,contents:ae,expandedStates:ee})}case _t:case Gt:case un:case Q:case dn:return m({...j,contents:N(j.contents)});case tn:case qt:case Dn:case vn:case gt:case V:return m(j);default:throw new fe(j)}}}function je(c,m,E){let N=E,x=!1;function j(ee){if(x)return!1;let ae=m(ee);ae!==void 0&&(x=!0,N=ae)}return We(c,j),N}function Pt(c){if(c.type===nn&&c.break||c.type===gt&&c.hard||c.type===V)return!0}function bn(c){return je(c,Pt,!1)}function yt(c){if(c.length>0){let m=A(!1,c,-1);!m.expandedStates&&!m.break&&(m.break="propagated")}return null}function Ut(c){let m=new Set,E=[];function N(j){if(j.type===V&&yt(E),j.type===nn){if(E.push(j),m.has(j))return!1;m.add(j)}}function x(j){j.type===nn&&E.pop().break&&yt(E)}We(c,N,x,!0)}function St(c){return c.type===gt&&!c.hard?c.soft?"":" ":c.type===mt?c.flatContents:c}function An(c){return Ye(c,St)}function hr(c){for(c=[...c];c.length>=2&&A(!1,c,-2).type===gt&&A(!1,c,-1).type===V;)c.length-=2;if(c.length>0){let m=pr(A(!1,c,-1));c[c.length-1]=m}return c}function pr(c){switch(w(c)){case Gt:case un:case nn:case dn:case Q:{let m=pr(c.contents);return{...c,contents:m}}case mt:return{...c,breakContents:pr(c.breakContents),flatContents:pr(c.flatContents)};case Yt:return{...c,parts:hr(c.parts)};case tt:return hr(c);case tn:return c.replace(/[\n\r]*$/u,"");case _t:case qt:case Dn:case vn:case gt:case V:break;default:throw new fe(c)}return c}function Fs(c){return pr(vi(c))}function is(c){switch(w(c)){case Yt:if(c.parts.every(m=>m===""))return"";break;case nn:if(!c.contents&&!c.id&&!c.break&&!c.expandedStates)return"";if(c.contents.type===nn&&c.contents.id===c.id&&c.contents.break===c.break&&c.contents.expandedStates===c.expandedStates)return c.contents;break;case _t:case Gt:case un:case dn:if(!c.contents)return"";break;case mt:if(!c.flatContents&&!c.breakContents)return"";break;case tt:{let m=[];for(let E of c){if(!E)continue;let[N,...x]=Array.isArray(E)?E:[E];typeof N=="string"&&typeof A(!1,m,-1)=="string"?m[m.length-1]+=N:m.push(N),m.push(...x)}return m.length===0?"":m.length===1?m[0]:m}case tn:case qt:case Dn:case vn:case gt:case Q:case V:break;default:throw new fe(c)}return c}function vi(c){return Ye(c,m=>is(m))}function Ii(c,m=jh){return Ye(c,E=>typeof E=="string"?xh(m,E.split(`
`)):E)}function X(c){if(c.type===gt)return!0}function En(c){return je(c,X,!1)}function hn(c,m){return c.type===Q?{...c,contents:m(c.contents)}:m(c)}var it=()=>{},se=it;function ke(c){return{type:Gt,contents:c}}function Me(c,m){return{type:_t,contents:m,n:c}}function Ke(c,m={}){return se(m.expandedStates),{type:nn,id:m.id,contents:c,break:!!m.shouldBreak,expandedStates:m.expandedStates}}function rn(c){return Me(Number.NEGATIVE_INFINITY,c)}function Jt(c){return Me({type:"root"},c)}function sn(c){return Me(-1,c)}function Sn(c,m){return Ke(c[0],{...m,expandedStates:c})}function Un(c){return{type:Yt,parts:c}}function Vt(c,m="",E={}){return{type:mt,breakContents:c,flatContents:m,groupId:E.groupId}}function Tn(c,m){return{type:un,contents:c,groupId:m.groupId,negate:m.negate}}function xt(c){return{type:dn,contents:c}}var kn={type:vn},pn={type:V},wl={type:Dn},_l={type:gt,hard:!0},Mh={type:gt,hard:!0,literal:!0},$l={type:gt},Lh={type:gt,soft:!0},ss=[_l,pn],jh=[Mh,pn],Rs={type:qt};function xh(c,m){let E=[];for(let N=0;N<m.length;N++)N!==0&&E.push(c),E.push(m[N]);return E}function Bh(c,m,E){let N=c;if(m>0){for(let x=0;x<Math.floor(m/E);++x)N=ke(N);N=Me(m%E,N),N=Me(Number.NEGATIVE_INFINITY,N)}return N}function qh(c,m){return c?{type:Q,label:c,contents:m}:m}function bi(c){var m;if(!c)return"";if(Array.isArray(c)){let E=[];for(let N of c)if(Array.isArray(N))E.push(...bi(N));else{let x=bi(N);x!==""&&E.push(x)}return E}return c.type===mt?{...c,breakContents:bi(c.breakContents),flatContents:bi(c.flatContents)}:c.type===nn?{...c,contents:bi(c.contents),expandedStates:(m=c.expandedStates)==null?void 0:m.map(bi)}:c.type===Yt?{type:"fill",parts:c.parts.map(bi)}:c.contents?{...c,contents:bi(c.contents)}:c}function Wh(c){let m=Object.create(null),E=new Set;return N(bi(c));function N(j,ee,ae){var ue,ve;if(typeof j=="string")return JSON.stringify(j);if(Array.isArray(j)){let we=j.map(N).filter(Boolean);return we.length===1?we[0]:`[${we.join(", ")}]`}if(j.type===gt){let we=((ue=ae==null?void 0:ae[ee+1])==null?void 0:ue.type)===V;return j.literal?we?"literalline":"literallineWithoutBreakParent":j.hard?we?"hardline":"hardlineWithoutBreakParent":j.soft?"softline":"line"}if(j.type===V)return((ve=ae==null?void 0:ae[ee-1])==null?void 0:ve.type)===gt&&ae[ee-1].hard?void 0:"breakParent";if(j.type===Dn)return"trim";if(j.type===Gt)return"indent("+N(j.contents)+")";if(j.type===_t)return j.n===Number.NEGATIVE_INFINITY?"dedentToRoot("+N(j.contents)+")":j.n<0?"dedent("+N(j.contents)+")":j.n.type==="root"?"markAsRoot("+N(j.contents)+")":"align("+JSON.stringify(j.n)+", "+N(j.contents)+")";if(j.type===mt)return"ifBreak("+N(j.breakContents)+(j.flatContents?", "+N(j.flatContents):"")+(j.groupId?(j.flatContents?"":', ""')+`, { groupId: ${x(j.groupId)} }`:"")+")";if(j.type===un){let we=[];j.negate&&we.push("negate: true"),j.groupId&&we.push(`groupId: ${x(j.groupId)}`);let Te=we.length>0?`, { ${we.join(", ")} }`:"";return`indentIfBreak(${N(j.contents)}${Te})`}if(j.type===nn){let we=[];j.break&&j.break!=="propagated"&&we.push("shouldBreak: true"),j.id&&we.push(`id: ${x(j.id)}`);let Te=we.length>0?`, { ${we.join(", ")} }`:"";return j.expandedStates?`conditionalGroup([${j.expandedStates.map(Pe=>N(Pe)).join(",")}]${Te})`:`group(${N(j.contents)}${Te})`}if(j.type===Yt)return`fill([${j.parts.map(we=>N(we)).join(", ")}])`;if(j.type===dn)return"lineSuffix("+N(j.contents)+")";if(j.type===vn)return"lineSuffixBoundary";if(j.type===Q)return`label(${JSON.stringify(j.label)}, ${N(j.contents)})`;throw new Error("Unknown doc type "+j.type)}function x(j){if(typeof j!="symbol")return JSON.stringify(String(j));if(j in m)return m[j];let ee=j.description||"symbol";for(let ae=0;;ae++){let ue=ee+(ae>0?` #${ae}`:"");if(!E.has(ue))return E.add(ue),m[j]=`Symbol.for(${JSON.stringify(ue)})`}}}var El=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;function q0(c){return c===12288||c>=65281&&c<=65376||c>=65504&&c<=65510}function Uh(c){return c>=4352&&c<=4447||c===8986||c===8987||c===9001||c===9002||c>=9193&&c<=9196||c===9200||c===9203||c===9725||c===9726||c===9748||c===9749||c>=9776&&c<=9783||c>=9800&&c<=9811||c===9855||c>=9866&&c<=9871||c===9875||c===9889||c===9898||c===9899||c===9917||c===9918||c===9924||c===9925||c===9934||c===9940||c===9962||c===9970||c===9971||c===9973||c===9978||c===9981||c===9989||c===9994||c===9995||c===10024||c===10060||c===10062||c>=10067&&c<=10069||c===10071||c>=10133&&c<=10135||c===10160||c===10175||c===11035||c===11036||c===11088||c===11093||c>=11904&&c<=11929||c>=11931&&c<=12019||c>=12032&&c<=12245||c>=12272&&c<=12287||c>=12289&&c<=12350||c>=12353&&c<=12438||c>=12441&&c<=12543||c>=12549&&c<=12591||c>=12593&&c<=12686||c>=12688&&c<=12773||c>=12783&&c<=12830||c>=12832&&c<=12871||c>=12880&&c<=42124||c>=42128&&c<=42182||c>=43360&&c<=43388||c>=44032&&c<=55203||c>=63744&&c<=64255||c>=65040&&c<=65049||c>=65072&&c<=65106||c>=65108&&c<=65126||c>=65128&&c<=65131||c>=94176&&c<=94180||c===94192||c===94193||c>=94208&&c<=100343||c>=100352&&c<=101589||c>=101631&&c<=101640||c>=110576&&c<=110579||c>=110581&&c<=110587||c===110589||c===110590||c>=110592&&c<=110882||c===110898||c>=110928&&c<=110930||c===110933||c>=110948&&c<=110951||c>=110960&&c<=111355||c>=119552&&c<=119638||c>=119648&&c<=119670||c===126980||c===127183||c===127374||c>=127377&&c<=127386||c>=127488&&c<=127490||c>=127504&&c<=127547||c>=127552&&c<=127560||c===127568||c===127569||c>=127584&&c<=127589||c>=127744&&c<=127776||c>=127789&&c<=127797||c>=127799&&c<=127868||c>=127870&&c<=127891||c>=127904&&c<=127946||c>=127951&&c<=127955||c>=127968&&c<=127984||c===127988||c>=127992&&c<=128062||c===128064||c>=128066&&c<=128252||c>=128255&&c<=128317||c>=128331&&c<=128334||c>=128336&&c<=128359||c===128378||c===128405||c===128406||c===128420||c>=128507&&c<=128591||c>=128640&&c<=128709||c===128716||c>=128720&&c<=128722||c>=128725&&c<=128727||c>=128732&&c<=128735||c===128747||c===128748||c>=128756&&c<=128764||c>=128992&&c<=129003||c===129008||c>=129292&&c<=129338||c>=129340&&c<=129349||c>=129351&&c<=129535||c>=129648&&c<=129660||c>=129664&&c<=129673||c>=129679&&c<=129734||c>=129742&&c<=129756||c>=129759&&c<=129769||c>=129776&&c<=129784||c>=131072&&c<=196605||c>=196608&&c<=262141}var Wu=c=>!(q0(c)||Uh(c)),Vh=/[^\x20-\x7F]/u;function W0(c){if(!c)return 0;if(!Vh.test(c))return c.length;c=c.replace(El(),"  ");let m=0;for(let E of c){let N=E.codePointAt(0);N<=31||N>=127&&N<=159||N>=768&&N<=879||(m+=Wu(N)?1:2)}return m}var Uu=W0,ar=Symbol("MODE_BREAK"),Ir=Symbol("MODE_FLAT"),Ao=Symbol("cursor"),Vu=Symbol("DOC_FILL_PRINTED_LENGTH");function Hu(){return{value:"",length:0,queue:[]}}function Sl(c,m){return Ku(c,{type:"indent"},m)}function Co(c,m,E){return m===Number.NEGATIVE_INFINITY?c.root||Hu():m<0?Ku(c,{type:"dedent"},E):m?m.type==="root"?{...c,root:c}:Ku(c,{type:typeof m=="string"?"stringAlign":"numberAlign",n:m},E):c}function Ku(c,m,E){let N=m.type==="dedent"?c.queue.slice(0,-1):[...c.queue,m],x="",j=0,ee=0,ae=0;for(let Re of N)switch(Re.type){case"indent":we(),E.useTabs?ue(1):ve(E.tabWidth);break;case"stringAlign":we(),x+=Re.n,j+=Re.n.length;break;case"numberAlign":ee+=1,ae+=Re.n;break;default:throw new Error(`Unexpected type '${Re.type}'`)}return Pe(),{...c,value:x,length:j,queue:N};function ue(Re){x+="	".repeat(Re),j+=E.tabWidth*Re}function ve(Re){x+=" ".repeat(Re),j+=Re}function we(){E.useTabs?Te():Pe()}function Te(){ee>0&&ue(ee),be()}function Pe(){ae>0&&ve(ae),be()}function be(){ee=0,ae=0}}function zu(c){let m=0,E=0,N=c.length;e:for(;N--;){let x=c[N];if(x===Ao){E++;continue}for(let j=x.length-1;j>=0;j--){let ee=x[j];if(ee===" "||ee==="	")m++;else{c[N]=x.slice(0,j+1);break e}}}if(m>0||E>0)for(c.length=N+1;E-- >0;)c.push(Ao);return m}function Yu(c,m,E,N,x,j){var ve;if(E===Number.POSITIVE_INFINITY)return!0;let ee=m.length,ae=[c],ue=[];for(;E>=0;){if(ae.length===0){if(ee===0)return!0;ae.push(m[--ee]);continue}let{mode:we,doc:Te}=ae.pop(),Pe=w(Te);switch(Pe){case tn:ue.push(Te),E-=Uu(Te);break;case tt:case Yt:{let be=Pe===tt?Te:Te.parts,Re=(ve=Te[Vu])!=null?ve:0;for(let Ae=be.length-1;Ae>=Re;Ae--)ae.push({mode:we,doc:be[Ae]});break}case Gt:case _t:case un:case Q:ae.push({mode:we,doc:Te.contents});break;case Dn:E+=zu(ue);break;case nn:{if(j&&Te.break)return!1;let be=Te.break?ar:we,Re=Te.expandedStates&&be===ar?A(!1,Te.expandedStates,-1):Te.contents;ae.push({mode:be,doc:Re});break}case mt:{let be=(Te.groupId?x[Te.groupId]||Ir:we)===ar?Te.breakContents:Te.flatContents;be&&ae.push({mode:we,doc:be});break}case gt:if(we===ar||Te.hard)return!0;Te.soft||(ue.push(" "),E--);break;case dn:N=!0;break;case vn:if(N)return!1;break}}return!1}function Sa(c,m){var Pe;let E={},N=m.printWidth,x=Je(m.endOfLine),j=0,ee=[{ind:Hu(),mode:ar,doc:c}],ae=[],ue=!1,ve=[],we=0;for(Ut(c);ee.length>0;){let{ind:be,mode:Re,doc:Ae}=ee.pop();switch(w(Ae)){case tn:{let xe=x!==`
`?b(!1,Ae,`
`,x):Ae;ae.push(xe),ee.length>0&&(j+=Uu(xe));break}case tt:for(let xe=Ae.length-1;xe>=0;xe--)ee.push({ind:be,mode:Re,doc:Ae[xe]});break;case qt:if(we>=2)throw new Error("There are too many 'cursor' in doc.");ae.push(Ao),we++;break;case Gt:ee.push({ind:Sl(be,m),mode:Re,doc:Ae.contents});break;case _t:ee.push({ind:Co(be,Ae.n,m),mode:Re,doc:Ae.contents});break;case Dn:j-=zu(ae);break;case nn:switch(Re){case Ir:if(!ue){ee.push({ind:be,mode:Ae.break?ar:Ir,doc:Ae.contents});break}case ar:{ue=!1;let xe={ind:be,mode:Ir,doc:Ae.contents},at=N-j,Ct=ve.length>0;if(!Ae.break&&Yu(xe,ee,at,Ct,E))ee.push(xe);else if(Ae.expandedStates){let nt=A(!1,Ae.expandedStates,-1);if(Ae.break){ee.push({ind:be,mode:ar,doc:nt});break}else for(let vt=1;vt<Ae.expandedStates.length+1;vt++)if(vt>=Ae.expandedStates.length){ee.push({ind:be,mode:ar,doc:nt});break}else{let bt=Ae.expandedStates[vt],gn={ind:be,mode:Ir,doc:bt};if(Yu(gn,ee,at,Ct,E)){ee.push(gn);break}}}else ee.push({ind:be,mode:ar,doc:Ae.contents});break}}Ae.id&&(E[Ae.id]=A(!1,ee,-1).mode);break;case Yt:{let xe=N-j,at=(Pe=Ae[Vu])!=null?Pe:0,{parts:Ct}=Ae,nt=Ct.length-at;if(nt===0)break;let vt=Ct[at+0],bt=Ct[at+1],gn={ind:be,mode:Ir,doc:vt},ur={ind:be,mode:ar,doc:vt},Qr=Yu(gn,[],xe,ve.length>0,E,!0);if(nt===1){Qr?ee.push(gn):ee.push(ur);break}let Ma={ind:be,mode:Ir,doc:bt},La={ind:be,mode:ar,doc:bt};if(nt===2){Qr?ee.push(Ma,gn):ee.push(La,ur);break}let Hv=Ct[at+2],Hs={ind:be,mode:Re,doc:{...Ae,[Vu]:at+2}};Yu({ind:be,mode:Ir,doc:[vt,bt,Hv]},[],xe,ve.length>0,E,!0)?ee.push(Hs,Ma,gn):Qr?ee.push(Hs,La,gn):ee.push(Hs,La,ur);break}case mt:case un:{let xe=Ae.groupId?E[Ae.groupId]:Re;if(xe===ar){let at=Ae.type===mt?Ae.breakContents:Ae.negate?Ae.contents:ke(Ae.contents);at&&ee.push({ind:be,mode:Re,doc:at})}if(xe===Ir){let at=Ae.type===mt?Ae.flatContents:Ae.negate?ke(Ae.contents):Ae.contents;at&&ee.push({ind:be,mode:Re,doc:at})}break}case dn:ve.push({ind:be,mode:Re,doc:Ae.contents});break;case vn:ve.length>0&&ee.push({ind:be,mode:Re,doc:_l});break;case gt:switch(Re){case Ir:if(Ae.hard)ue=!0;else{Ae.soft||(ae.push(" "),j+=1);break}case ar:if(ve.length>0){ee.push({ind:be,mode:Re,doc:Ae},...ve.reverse()),ve.length=0;break}Ae.literal?be.root?(ae.push(x,be.root.value),j=be.root.length):(ae.push(x),j=0):(j-=zu(ae),ae.push(x+be.value),j=be.length);break}break;case Q:ee.push({ind:be,mode:Re,doc:Ae.contents});break;case V:break;default:throw new fe(Ae)}ee.length===0&&ve.length>0&&(ee.push(...ve.reverse()),ve.length=0)}let Te=ae.indexOf(Ao);if(Te!==-1){let be=ae.indexOf(Ao,Te+1);if(be===-1)return{formatted:ae.filter(at=>at!==Ao).join("")};let Re=ae.slice(0,Te).join(""),Ae=ae.slice(Te+1,be).join(""),xe=ae.slice(be+1).join("");return{formatted:Re+Ae+xe,cursorNodeStart:Re.length,cursorNodeText:Ae}}return{formatted:ae.join("")}}function Hh(c,m,E=0){let N=0;for(let x=E;x<c.length;++x)c[x]==="	"?N=N+m-N%m:N++;return N}var Gu=Hh,os,Tl,Ju,U0=class{constructor(c){P(this,os),this.stack=[c]}get key(){var E;let{stack:c,siblings:m}=this;return(E=A(!1,c,m===null?-2:-4))!=null?E:null}get index(){return this.siblings===null?null:A(!1,this.stack,-2)}get node(){return A(!1,this.stack,-1)}get parent(){return this.getNode(1)}get grandparent(){return this.getNode(2)}get isInArray(){return this.siblings!==null}get siblings(){let{stack:c}=this,m=A(!1,c,-3);return Array.isArray(m)?m:null}get next(){let{siblings:c}=this;return c===null?null:c[this.index+1]}get previous(){let{siblings:c}=this;return c===null?null:c[this.index-1]}get isFirst(){return this.index===0}get isLast(){let{siblings:c,index:m}=this;return c!==null&&m===c.length-1}get isRoot(){return this.stack.length===1}get root(){return this.stack[0]}get ancestors(){return[...C(this,os,Ju).call(this)]}getName(){let{stack:c}=this,{length:m}=c;return m>1?A(!1,c,-2):null}getValue(){return A(!1,this.stack,-1)}getNode(c=0){let m=C(this,os,Tl).call(this,c);return m===-1?null:this.stack[m]}getParentNode(c=0){return this.getNode(c+1)}call(c,...m){let{stack:E}=this,{length:N}=E,x=A(!1,E,-1);for(let j of m)x=x[j],E.push(j,x);try{return c(this)}finally{E.length=N}}callParent(c,m=0){let E=C(this,os,Tl).call(this,m+1),N=this.stack.splice(E+1);try{return c(this)}finally{this.stack.push(...N)}}each(c,...m){let{stack:E}=this,{length:N}=E,x=A(!1,E,-1);for(let j of m)x=x[j],E.push(j,x);try{for(let j=0;j<x.length;++j)E.push(j,x[j]),c(this,j,x),E.length-=2}finally{E.length=N}}map(c,...m){let E=[];return this.each((N,x,j)=>{E[x]=c(N,x,j)},...m),E}match(...c){let m=this.stack.length-1,E=null,N=this.stack[m--];for(let x of c){if(N===void 0)return!1;let j=null;if(typeof E=="number"&&(j=E,E=this.stack[m--],N=this.stack[m--]),x&&!x(N,E,j))return!1;E=this.stack[m--],N=this.stack[m--]}return!0}findAncestor(c){for(let m of C(this,os,Ju).call(this))if(c(m))return m}hasAncestor(c){for(let m of C(this,os,Ju).call(this))if(c(m))return!0;return!1}};os=new WeakSet,Tl=function(c){let{stack:m}=this;for(let E=m.length-1;E>=0;E-=2)if(!Array.isArray(m[E])&&--c<0)return E;return-1},Ju=function*(){let{stack:c}=this;for(let m=c.length-3;m>=0;m-=2){let E=c[m];Array.isArray(E)||(yield E)}};var Kh=U0,zh=new Proxy(()=>{},{get:()=>zh}),kl=zh;function V0(c){return c!==null&&typeof c=="object"}var H0=V0;function*Oo(c,m){let{getVisitorKeys:E,filter:N=()=>!0}=m,x=j=>H0(j)&&N(j);for(let j of E(c)){let ee=c[j];if(Array.isArray(ee))for(let ae of ee)x(ae)&&(yield ae);else x(ee)&&(yield ee)}}function*K0(c,m){let E=[c];for(let N=0;N<E.length;N++){let x=E[N];for(let j of Oo(x,m))yield j,E.push(j)}}function z0(c,m){return Oo(c,m).next().done}function Ta(c){return(m,E,N)=>{let x=!!(N!=null&&N.backwards);if(E===!1)return!1;let{length:j}=m,ee=E;for(;ee>=0&&ee<j;){let ae=m.charAt(ee);if(c instanceof RegExp){if(!c.test(ae))return ee}else if(!c.includes(ae))return ee;x?ee--:ee++}return ee===-1||ee===j?ee:!1}}var Y0=Ta(/\s/u),as=Ta(" 	"),mn=Ta(",; 	"),cn=Ta(/[^\n\r]/u);function G0(c,m,E){let N=!!(E!=null&&E.backwards);if(m===!1)return!1;let x=c.charAt(m);if(N){if(c.charAt(m-1)==="\r"&&x===`
`)return m-2;if(x===`
`||x==="\r"||x==="\u2028"||x==="\u2029")return m-1}else{if(x==="\r"&&c.charAt(m+1)===`
`)return m+2;if(x===`
`||x==="\r"||x==="\u2028"||x==="\u2029")return m+1}return m}var Is=G0;function J0(c,m,E={}){let N=as(c,E.backwards?m-1:m,E),x=Is(c,N,E);return N!==x}var us=J0;function Q0(c){return Array.isArray(c)&&c.length>0}var X0=Q0,Al=new Set(["tokens","comments","parent","enclosingNode","precedingNode","followingNode"]),Z0=c=>Object.keys(c).filter(m=>!Al.has(m));function Zn(c){return c?m=>c(m,Al):Z0}var Po=Zn;function Ms(c){let m=c.type||c.kind||"(unknown type)",E=String(c.name||c.id&&(typeof c.id=="object"?c.id.name:c.id)||c.key&&(typeof c.key=="object"?c.key.name:c.key)||c.value&&(typeof c.value=="object"?"":String(c.value))||c.operator||"");return E.length>20&&(E=E.slice(0,19)+"\u2026"),m+(E?" "+E:"")}function Qu(c,m){var E;((E=c.comments)!=null?E:c.comments=[]).push(m),m.printed=!1,m.nodeDescription=Ms(c)}function cs(c,m){m.leading=!0,m.trailing=!1,Qu(c,m)}function Gn(c,m,E){m.leading=!1,m.trailing=!1,E&&(m.marker=E),Qu(c,m)}function Ls(c,m){m.leading=!1,m.trailing=!0,Qu(c,m)}var Xu=new WeakMap;function Zu(c,m){var ue;if(Xu.has(c))return Xu.get(c);let{printer:{getCommentChildNodes:E,canAttachComment:N,getVisitorKeys:x},locStart:j,locEnd:ee}=m;if(!N)return[];let ae=((ue=E==null?void 0:E(c,m))!=null?ue:[...Oo(c,{getVisitorKeys:Po(x)})]).flatMap(ve=>N(ve)?[ve]:Zu(ve,m));return ae.sort((ve,we)=>j(ve)-j(we)||ee(ve)-ee(we)),Xu.set(c,ae),ae}function Cl(c,m,E,N){let{locStart:x,locEnd:j}=E,ee=x(m),ae=j(m),ue=Zu(c,E),ve,we,Te=0,Pe=ue.length;for(;Te<Pe;){let be=Te+Pe>>1,Re=ue[be],Ae=x(Re),xe=j(Re);if(Ae<=ee&&ae<=xe)return Cl(Re,m,E,Re);if(xe<=ee){ve=Re,Te=be+1;continue}if(ae<=Ae){we=Re,Pe=be;continue}throw new Error("Comment location overlaps with node location")}if((N==null?void 0:N.type)==="TemplateLiteral"){let{quasis:be}=N,Re=tc(be,m,E);ve&&tc(be,ve,E)!==Re&&(ve=null),we&&tc(be,we,E)!==Re&&(we=null)}return{enclosingNode:N,precedingNode:ve,followingNode:we}}var ec=()=>!1;function Yh(c,m){let{comments:E}=c;if(delete c.comments,!X0(E)||!m.printer.canAttachComment)return;let N=[],{locStart:x,locEnd:j,printer:{experimentalFeatures:{avoidAstMutation:ee=!1}={},handleComments:ae={}},originalText:ue}=m,{ownLine:ve=ec,endOfLine:we=ec,remaining:Te=ec}=ae,Pe=E.map((be,Re)=>({...Cl(c,be,m),comment:be,text:ue,options:m,ast:c,isLastComment:E.length-1===Re}));for(let[be,Re]of Pe.entries()){let{comment:Ae,precedingNode:xe,enclosingNode:at,followingNode:Ct,text:nt,options:vt,ast:bt,isLastComment:gn}=Re;if(vt.parser==="json"||vt.parser==="json5"||vt.parser==="jsonc"||vt.parser==="__js_expression"||vt.parser==="__ts_expression"||vt.parser==="__vue_expression"||vt.parser==="__vue_ts_expression"){if(x(Ae)-x(bt)<=0){cs(bt,Ae);continue}if(j(Ae)-j(bt)>=0){Ls(bt,Ae);continue}}let ur;if(ee?ur=[Re]:(Ae.enclosingNode=at,Ae.precedingNode=xe,Ae.followingNode=Ct,ur=[Ae,nt,vt,bt,gn]),ev(nt,vt,Pe,be))Ae.placement="ownLine",ve(...ur)||(Ct?cs(Ct,Ae):xe?Ls(xe,Ae):Gn(at||bt,Ae));else if(Mr(nt,vt,Pe,be))Ae.placement="endOfLine",we(...ur)||(xe?Ls(xe,Ae):Ct?cs(Ct,Ae):Gn(at||bt,Ae));else if(Ae.placement="remaining",!Te(...ur))if(xe&&Ct){let Qr=N.length;Qr>0&&N[Qr-1].followingNode!==Ct&&Gh(N,vt),N.push(Re)}else xe?Ls(xe,Ae):Ct?cs(Ct,Ae):Gn(at||bt,Ae)}if(Gh(N,m),!ee)for(let be of E)delete be.precedingNode,delete be.enclosingNode,delete be.followingNode}var mr=c=>!/[\S\n\u2028\u2029]/u.test(c);function ev(c,m,E,N){let{comment:x,precedingNode:j}=E[N],{locStart:ee,locEnd:ae}=m,ue=ee(x);if(j)for(let ve=N-1;ve>=0;ve--){let{comment:we,precedingNode:Te}=E[ve];if(Te!==j||!mr(c.slice(ae(we),ue)))break;ue=ee(we)}return us(c,ue,{backwards:!0})}function Mr(c,m,E,N){let{comment:x,followingNode:j}=E[N],{locStart:ee,locEnd:ae}=m,ue=ae(x);if(j)for(let ve=N+1;ve<E.length;ve++){let{comment:we,followingNode:Te}=E[ve];if(Te!==j||!mr(c.slice(ue,ee(we))))break;ue=ae(we)}return us(c,ue)}function Gh(c,m){var ve;var E,N;let x=c.length;if(x===0)return;let{precedingNode:j,followingNode:ee}=c[0],ae=m.locStart(ee),ue;for(ue=x;ue>0;--ue){let{comment:we,precedingNode:Te,followingNode:Pe}=c[ue-1];kl.strictEqual(Te,j),kl.strictEqual(Pe,ee);let be=m.originalText.slice(m.locEnd(we),ae);if((ve=(N=(E=m.printer).isGap)==null?void 0:N.call(E,be,m))!=null?ve:/^[\s(]*$/u.test(be))ae=m.locStart(we);else break}for(let[we,{comment:Te}]of c.entries())we<ue?Ls(j,Te):cs(ee,Te);for(let we of[j,ee])we.comments&&we.comments.length>1&&we.comments.sort((Te,Pe)=>m.locStart(Te)-m.locStart(Pe));c.length=0}function tc(c,m,E){let N=E.locStart(m)-1;for(let x=1;x<c.length;++x)if(N<E.locStart(c[x]))return x-1;return 0}function ls(c,m){let E=m-1;E=as(c,E,{backwards:!0}),E=Is(c,E,{backwards:!0}),E=as(c,E,{backwards:!0});let N=Is(c,E,{backwards:!0});return E!==N}var No=ls;function nc(c,m){let E=c.node;return E.printed=!0,m.printer.printComment(c,m)}function wn(c,m){var E;let N=c.node,x=[nc(c,m)],{printer:j,originalText:ee,locStart:ae,locEnd:ue}=m;if((E=j.isBlockComment)!=null&&E.call(j,N)){let we=us(ee,ue(N))?us(ee,ae(N),{backwards:!0})?ss:$l:" ";x.push(we)}else x.push(ss);let ve=Is(ee,as(ee,ue(N)));return ve!==!1&&us(ee,ve)&&x.push(ss),x}function fs(c,m,E){var N;let x=c.node,j=nc(c,m),{printer:ee,originalText:ae,locStart:ue}=m,ve=(N=ee.isBlockComment)==null?void 0:N.call(ee,x);if(E!=null&&E.hasLineSuffix&&!(E!=null&&E.isBlock)||us(ae,ue(x),{backwards:!0})){let we=No(ae,ue(x));return{doc:xt([ss,we?ss:"",j]),isBlock:ve,hasLineSuffix:!0}}return!ve||E!=null&&E.hasLineSuffix?{doc:[xt([" ",j]),pn],isBlock:ve,hasLineSuffix:!0}:{doc:[" ",j],isBlock:ve,hasLineSuffix:!1}}function Ol(c,m){let E=c.node;if(!E)return{};let N=m[Symbol.for("printedComments")];if((E.comments||[]).filter(ae=>!N.has(ae)).length===0)return{leading:"",trailing:""};let x=[],j=[],ee;return c.each(()=>{let ae=c.node;if(N!=null&&N.has(ae))return;let{leading:ue,trailing:ve}=ae;ue?x.push(wn(c,m)):ve&&(ee=fs(c,m,ee),j.push(ee.doc))},"comments"),{leading:x,trailing:j}}function tv(c,m,E){let{leading:N,trailing:x}=Ol(c,E);return!N&&!x?m:hn(m,j=>[N,j,x])}function Pl(c){let{[Symbol.for("comments")]:m,[Symbol.for("printedComments")]:E}=c;for(let N of m){if(!N.printed&&!E.has(N))throw new Error('Comment "'+N.value.trim()+'" was not printed. Please report this error!');delete N.printed}}var Jh=class extends Error{constructor(){super(...arguments);ni(this,"name","ConfigError")}},Qh=class extends Error{constructor(){super(...arguments);ni(this,"name","UndefinedParserError")}},nv={cursorOffset:{category:"Special",type:"int",default:-1,range:{start:-1,end:1/0,step:1},description:"Print (to stderr) where a cursor at the given position would move to after formatting.",cliCategory:"Editor"},endOfLine:{category:"Global",type:"choice",default:"lf",description:"Which end of line characters to apply.",choices:[{value:"lf",description:"Line Feed only (\\n), common on Linux and macOS as well as inside git repos"},{value:"crlf",description:"Carriage Return + Line Feed characters (\\r\\n), common on Windows"},{value:"cr",description:"Carriage Return character only (\\r), used very rarely"},{value:"auto",description:`Maintain existing
(mixed values within one file are normalised by looking at what's used after the first line)`}]},filepath:{category:"Special",type:"path",description:"Specify the input filepath. This will be used to do parser inference.",cliName:"stdin-filepath",cliCategory:"Other",cliDescription:"Path to the file to pretend that stdin comes from."},insertPragma:{category:"Special",type:"boolean",default:!1,description:"Insert @format pragma into file's first docblock comment.",cliCategory:"Other"},parser:{category:"Global",type:"choice",default:void 0,description:"Which parser to use.",exception:c=>typeof c=="string"||typeof c=="function",choices:[{value:"flow",description:"Flow"},{value:"babel",description:"JavaScript"},{value:"babel-flow",description:"Flow"},{value:"babel-ts",description:"TypeScript"},{value:"typescript",description:"TypeScript"},{value:"acorn",description:"JavaScript"},{value:"espree",description:"JavaScript"},{value:"meriyah",description:"JavaScript"},{value:"css",description:"CSS"},{value:"less",description:"Less"},{value:"scss",description:"SCSS"},{value:"json",description:"JSON"},{value:"json5",description:"JSON5"},{value:"jsonc",description:"JSON with Comments"},{value:"json-stringify",description:"JSON.stringify"},{value:"graphql",description:"GraphQL"},{value:"markdown",description:"Markdown"},{value:"mdx",description:"MDX"},{value:"vue",description:"Vue"},{value:"yaml",description:"YAML"},{value:"glimmer",description:"Ember / Handlebars"},{value:"html",description:"HTML"},{value:"angular",description:"Angular"},{value:"lwc",description:"Lightning Web Components"}]},plugins:{type:"path",array:!0,default:[{value:[]}],category:"Global",description:"Add a plugin. Multiple plugins can be passed as separate `--plugin`s.",exception:c=>typeof c=="string"||typeof c=="object",cliName:"plugin",cliCategory:"Config"},printWidth:{category:"Global",type:"int",default:80,description:"The line length where Prettier will try wrap.",range:{start:0,end:1/0,step:1}},rangeEnd:{category:"Special",type:"int",default:1/0,range:{start:0,end:1/0,step:1},description:`Format code ending at a given character offset (exclusive).
The range will extend forwards to the end of the selected statement.`,cliCategory:"Editor"},rangeStart:{category:"Special",type:"int",default:0,range:{start:0,end:1/0,step:1},description:`Format code starting at a given character offset.
The range will extend backwards to the start of the first line containing the selected statement.`,cliCategory:"Editor"},requirePragma:{category:"Special",type:"boolean",default:!1,description:`Require either '@prettier' or '@format' to be present in the file's first docblock comment
in order for it to be formatted.`,cliCategory:"Other"},tabWidth:{type:"int",category:"Global",default:2,description:"Number of spaces per indentation level.",range:{start:0,end:1/0,step:1}},useTabs:{category:"Global",type:"boolean",default:!1,description:"Indent with tabs instead of spaces."},embeddedLanguageFormatting:{category:"Global",type:"choice",default:"auto",description:"Control how Prettier formats quoted code embedded in the file.",choices:[{value:"auto",description:"Format embedded code if Prettier can automatically identify it."},{value:"off",description:"Never automatically format embedded code."}]}};function Nl({plugins:c=[],showDeprecated:m=!1}={}){let E=c.flatMap(x=>{var j;return(j=x.languages)!=null?j:[]}),N=[];for(let x of Fo(Object.assign({},...c.map(({options:j})=>j),nv)))!m&&x.deprecated||(Array.isArray(x.choices)&&(m||(x.choices=x.choices.filter(j=>!j.deprecated)),x.name==="parser"&&(x.choices=[...x.choices,...rc(x.choices,E,c)])),x.pluginDefaults=Object.fromEntries(c.filter(j=>{var ee;return((ee=j.defaultOptions)==null?void 0:ee[x.name])!==void 0}).map(j=>[j.name,j.defaultOptions[x.name]])),N.push(x));return{languages:E,options:N}}function*rc(c,m,E){let N=new Set(c.map(x=>x.value));for(let x of m)if(x.parsers){for(let j of x.parsers)if(!N.has(j)){N.add(j);let ee=E.find(ue=>ue.parsers&&Object.prototype.hasOwnProperty.call(ue.parsers,j)),ae=x.name;ee!=null&&ee.name&&(ae+=` (plugin: ${ee.name})`),yield{value:j,description:ae}}}}function Fo(c){let m=[];for(let[E,N]of Object.entries(c)){let x={name:E,...N};Array.isArray(x.default)&&(x.default=A(!1,x.default,-1).value),m.push(x)}return m}var rv=c=>String(c).split(/[/\\]/u).pop();function Fl(c,m){var N;if(!m)return;let E=rv(m).toLowerCase();return(N=c.find(({filenames:x})=>x==null?void 0:x.some(j=>j.toLowerCase()===E)))!=null?N:c.find(({extensions:x})=>x==null?void 0:x.some(j=>E.endsWith(j)))}function Xh(c,m){var E,N;if(m)return(N=(E=c.find(({name:x})=>x.toLowerCase()===m))!=null?E:c.find(({aliases:x})=>x==null?void 0:x.includes(m)))!=null?N:c.find(({extensions:x})=>x==null?void 0:x.includes(`.${m}`))}function Rl(c,m){var x,j,ee;let E=c.plugins.flatMap(ae=>{var ue;return(ue=ae.languages)!=null?ue:[]}),N=(ee=(j=(x=Xh(E,m.language))!=null?x:Fl(E,m.physicalFile))!=null?j:Fl(E,m.file))!=null?ee:(m.physicalFile,void 0);return N==null?void 0:N.parsers[0]}var Il=Rl,js={key:c=>/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(c)?c:JSON.stringify(c),value(c){if(c===null||typeof c!="object")return JSON.stringify(c);if(Array.isArray(c))return`[${c.map(E=>js.value(E)).join(", ")}]`;let m=Object.keys(c);return m.length===0?"{}":`{ ${m.map(E=>`${js.key(E)}: ${js.value(c[E])}`).join(", ")} }`},pair:({key:c,value:m})=>js.value({[c]:m})},Zh=S(R(),1),Ml=(c,m,{descriptor:E})=>{let N=[`${Zh.default.yellow(typeof c=="string"?E.key(c):E.pair(c))} is deprecated`];return m&&N.push(`we now treat it as ${Zh.default.blue(typeof m=="string"?E.key(m):E.pair(m))}`),N.join("; ")+"."},ds=S(R(),1),ep=Symbol.for("vnopts.VALUE_NOT_EXIST"),ka=Symbol.for("vnopts.VALUE_UNCHANGED"),gr=" ".repeat(2),Ll=(c,m,E)=>{let{text:N,list:x}=E.normalizeExpectedResult(E.schemas[c].expected(E)),j=[];return N&&j.push(Ro(c,m,N,E.descriptor)),x&&j.push([Ro(c,m,x.title,E.descriptor)].concat(x.values.map(ee=>jl(ee,E.loggerPrintWidth))).join(`
`)),xl(j,E.loggerPrintWidth)};function Ro(c,m,E,N){return[`Invalid ${ds.default.red(N.key(c))} value.`,`Expected ${ds.default.blue(E)},`,`but received ${m===ep?ds.default.gray("nothing"):ds.default.red(N.value(m))}.`].join(" ")}function jl({text:c,list:m},E){let N=[];return c&&N.push(`- ${ds.default.blue(c)}`),m&&N.push([`- ${ds.default.blue(m.title)}:`].concat(m.values.map(x=>jl(x,E-gr.length).replace(/^|\n/g,`$&${gr}`))).join(`
`)),xl(N,E)}function xl(c,m){if(c.length===1)return c[0];let[E,N]=c,[x,j]=c.map(ee=>ee.split(`
`,1)[0].length);return x>m&&x>j?N:E}var tp=S(R(),1),Bl=[],np=[];function iv(c,m){if(c===m)return 0;let E=c;c.length>m.length&&(c=m,m=E);let N=c.length,x=m.length;for(;N>0&&c.charCodeAt(~-N)===m.charCodeAt(~-x);)N--,x--;let j=0;for(;j<N&&c.charCodeAt(j)===m.charCodeAt(j);)j++;if(N-=j,x-=j,N===0)return x;let ee,ae,ue,ve,we=0,Te=0;for(;we<N;)np[we]=c.charCodeAt(j+we),Bl[we]=++we;for(;Te<x;)for(ee=m.charCodeAt(j+Te),ue=Te++,ae=Te,we=0;we<N;we++)ve=ee===np[we]?ue:ue+1,ue=Bl[we],ae=Bl[we]=ue>ae?ve>ae?ae+1:ve:ve>ue?ue+1:ve;return ae}var rp=(c,m,{descriptor:E,logger:N,schemas:x})=>{let j=[`Ignored unknown option ${tp.default.yellow(E.pair({key:c,value:m}))}.`],ee=Object.keys(x).sort().find(ae=>iv(c,ae)<3);ee&&j.push(`Did you mean ${tp.default.blue(E.key(ee))}?`),N.warn(j.join(" "))},Io=["default","expected","validate","deprecated","forward","redirect","overlap","preprocess","postprocess"];function sv(c,m){let E=new c(m),N=Object.create(E);for(let x of Io)x in m&&(N[x]=ql(m[x],E,hs.prototype[x].length));return N}var hs=class{static create(c){return sv(this,c)}constructor(c){this.name=c.name}default(c){}expected(c){return"nothing"}validate(c,m){return!1}deprecated(c,m){return!1}forward(c,m){}redirect(c,m){}overlap(c,m,E){return c}preprocess(c,m){return c}postprocess(c,m){return ka}};function ql(c,m,E){return typeof c=="function"?(...N)=>c(...N.slice(0,E-1),m,...N.slice(E-1)):()=>c}var ip=class extends hs{constructor(c){super(c),this._sourceName=c.sourceName}expected(c){return c.schemas[this._sourceName].expected(c)}validate(c,m){return m.schemas[this._sourceName].validate(c,m)}redirect(c,m){return this._sourceName}},ps=class extends hs{expected(){return"anything"}validate(){return!0}},ic=class extends hs{constructor({valueSchema:c,name:m=c.name,...E}){super({...E,name:m}),this._valueSchema=c}expected(c){let{text:m,list:E}=c.normalizeExpectedResult(this._valueSchema.expected(c));return{text:m&&`an array of ${m}`,list:E&&{title:"an array of the following values",values:[{list:E}]}}}validate(c,m){if(!Array.isArray(c))return!1;let E=[];for(let N of c){let x=m.normalizeValidateResult(this._valueSchema.validate(N,m),N);x!==!0&&E.push(x.value)}return E.length===0?!0:{value:E}}deprecated(c,m){let E=[];for(let N of c){let x=m.normalizeDeprecatedResult(this._valueSchema.deprecated(N,m),N);x!==!1&&E.push(...x.map(({value:j})=>({value:[j]})))}return E}forward(c,m){let E=[];for(let N of c){let x=m.normalizeForwardResult(this._valueSchema.forward(N,m),N);E.push(...x.map(sp))}return E}redirect(c,m){let E=[],N=[];for(let x of c){let j=m.normalizeRedirectResult(this._valueSchema.redirect(x,m),x);"remain"in j&&E.push(j.remain),N.push(...j.redirect.map(sp))}return E.length===0?{redirect:N}:{redirect:N,remain:E}}overlap(c,m){return c.concat(m)}};function sp({from:c,to:m}){return{from:[c],to:m}}var ov=class extends hs{expected(){return"true or false"}validate(c){return typeof c=="boolean"}};function av(c,m){let E=Object.create(null);for(let N of c){let x=N[m];if(E[x])throw new Error(`Duplicate ${m} ${JSON.stringify(x)}`);E[x]=N}return E}function Mo(c,m){let E=new Map;for(let N of c){let x=N[m];if(E.has(x))throw new Error(`Duplicate ${m} ${JSON.stringify(x)}`);E.set(x,N)}return E}function zr(){let c=Object.create(null);return m=>{let E=JSON.stringify(m);return c[E]?!0:(c[E]=!0,!1)}}function op(c,m){let E=[],N=[];for(let x of c)m(x)?E.push(x):N.push(x);return[E,N]}function uv(c){return c===Math.floor(c)}function cv(c,m){if(c===m)return 0;let E=typeof c,N=typeof m,x=["undefined","object","boolean","number","string"];return E!==N?x.indexOf(E)-x.indexOf(N):E!=="string"?Number(c)-Number(m):c.localeCompare(m)}function lv(c){return(...m)=>{let E=c(...m);return typeof E=="string"?new Error(E):E}}function ap(c){return c===void 0?{}:c}function up(c){if(typeof c=="string")return{text:c};let{text:m,list:E}=c;return ht((m||E)!==void 0,"Unexpected `expected` result, there should be at least one field."),E?{text:m,list:{title:E.title,values:E.values.map(up)}}:{text:m}}function xs(c,m){return c===!0?!0:c===!1?{value:m}:c}function he(c,m,E=!1){return c===!1?!1:c===!0?E?!0:[{value:m}]:"value"in c?[c]:c.length===0?!1:c}function Ee(c,m){return typeof c=="string"||"key"in c?{from:m,to:c}:"from"in c?{from:c.from,to:c.to}:{from:m,to:c.to}}function _e(c,m){return c===void 0?[]:Array.isArray(c)?c.map(E=>Ee(E,m)):[Ee(c,m)]}function He(c,m){let E=_e(typeof c=="object"&&"redirect"in c?c.redirect:c,m);return E.length===0?{remain:m,redirect:E}:typeof c=="object"&&"remain"in c?{remain:c.remain,redirect:E}:{redirect:E}}function ht(c,m){if(!c)throw new Error(m)}var Ht=class extends hs{constructor(c){super(c),this._choices=Mo(c.choices.map(m=>m&&typeof m=="object"?m:{value:m}),"value")}expected({descriptor:c}){let m=Array.from(this._choices.keys()).map(x=>this._choices.get(x)).filter(({hidden:x})=>!x).map(x=>x.value).sort(cv).map(c.value),E=m.slice(0,-2),N=m.slice(-2);return{text:E.concat(N.join(" or ")).join(", "),list:{title:"one of the following values",values:m}}}validate(c){return this._choices.has(c)}deprecated(c){let m=this._choices.get(c);return m&&m.deprecated?{value:c}:!1}forward(c){let m=this._choices.get(c);return m?m.forward:void 0}redirect(c){let m=this._choices.get(c);return m?m.redirect:void 0}},Vn=class extends hs{expected(){return"a number"}validate(c,m){return typeof c=="number"}},ln=class extends Vn{expected(){return"an integer"}validate(c,m){return m.normalizeValidateResult(super.validate(c,m),c)===!0&&uv(c)}},sc=class extends hs{expected(){return"a string"}validate(c){return typeof c=="string"}},fv=js,Lr=rp,oc=Ll,dv=Ml,Lo=class{constructor(c,m){let{logger:E=console,loggerPrintWidth:N=80,descriptor:x=fv,unknown:j=Lr,invalid:ee=oc,deprecated:ae=dv,missing:ue=()=>!1,required:ve=()=>!1,preprocess:we=Pe=>Pe,postprocess:Te=()=>ka}=m||{};this._utils={descriptor:x,logger:E||{warn:()=>{}},loggerPrintWidth:N,schemas:av(c,"name"),normalizeDefaultResult:ap,normalizeExpectedResult:up,normalizeDeprecatedResult:he,normalizeForwardResult:_e,normalizeRedirectResult:He,normalizeValidateResult:xs},this._unknownHandler=j,this._invalidHandler=lv(ee),this._deprecatedHandler=ae,this._identifyMissing=(Pe,be)=>!(Pe in be)||ue(Pe,be),this._identifyRequired=ve,this._preprocess=we,this._postprocess=Te,this.cleanHistory()}cleanHistory(){this._hasDeprecationWarned=zr()}normalize(c){let m={},E=[this._preprocess(c,this._utils)],N=()=>{for(;E.length!==0;){let x=E.shift(),j=this._applyNormalization(x,m);E.push(...j)}};N();for(let x of Object.keys(this._utils.schemas)){let j=this._utils.schemas[x];if(!(x in m)){let ee=ap(j.default(this._utils));"value"in ee&&E.push({[x]:ee.value})}}N();for(let x of Object.keys(this._utils.schemas)){if(!(x in m))continue;let j=this._utils.schemas[x],ee=m[x],ae=j.postprocess(ee,this._utils);ae!==ka&&(this._applyValidation(ae,x,j),m[x]=ae)}return this._applyPostprocess(m),this._applyRequiredCheck(m),m}_applyNormalization(c,m){let E=[],{knownKeys:N,unknownKeys:x}=this._partitionOptionKeys(c);for(let j of N){let ee=this._utils.schemas[j],ae=ee.preprocess(c[j],this._utils);this._applyValidation(ae,j,ee);let ue=({from:Te,to:Pe})=>{E.push(typeof Pe=="string"?{[Pe]:Te}:{[Pe.key]:Pe.value})},ve=({value:Te,redirectTo:Pe})=>{let be=he(ee.deprecated(Te,this._utils),ae,!0);if(be!==!1)if(be===!0)this._hasDeprecationWarned(j)||this._utils.logger.warn(this._deprecatedHandler(j,Pe,this._utils));else for(let{value:Re}of be){let Ae={key:j,value:Re};if(!this._hasDeprecationWarned(Ae)){let xe=typeof Pe=="string"?{key:Pe,value:Re}:Pe;this._utils.logger.warn(this._deprecatedHandler(Ae,xe,this._utils))}}};_e(ee.forward(ae,this._utils),ae).forEach(ue);let we=He(ee.redirect(ae,this._utils),ae);if(we.redirect.forEach(ue),"remain"in we){let Te=we.remain;m[j]=j in m?ee.overlap(m[j],Te,this._utils):Te,ve({value:Te})}for(let{from:Te,to:Pe}of we.redirect)ve({value:Te,redirectTo:Pe})}for(let j of x){let ee=c[j];this._applyUnknownHandler(j,ee,m,(ae,ue)=>{E.push({[ae]:ue})})}return E}_applyRequiredCheck(c){for(let m of Object.keys(this._utils.schemas))if(this._identifyMissing(m,c)&&this._identifyRequired(m))throw this._invalidHandler(m,ep,this._utils)}_partitionOptionKeys(c){let[m,E]=op(Object.keys(c).filter(N=>!this._identifyMissing(N,c)),N=>N in this._utils.schemas);return{knownKeys:m,unknownKeys:E}}_applyValidation(c,m,E){let N=xs(E.validate(c,this._utils),c);if(N!==!0)throw this._invalidHandler(m,N.value,this._utils)}_applyUnknownHandler(c,m,E,N){let x=this._unknownHandler(c,m,this._utils);if(x)for(let j of Object.keys(x)){if(this._identifyMissing(j,x))continue;let ee=x[j];j in this._utils.schemas?N(j,ee):E[j]=ee}}_applyPostprocess(c){let m=this._postprocess(c,this._utils);if(m!==ka){if(m.delete)for(let E of m.delete)delete c[E];if(m.override){let{knownKeys:E,unknownKeys:N}=this._partitionOptionKeys(m.override);for(let x of E){let j=m.override[x];this._applyValidation(j,x,this._utils.schemas[x]),c[x]=j}for(let x of N){let j=m.override[x];this._applyUnknownHandler(x,j,c,(ee,ae)=>{let ue=this._utils.schemas[ee];this._applyValidation(ae,ee,ue),c[ee]=ae})}}}}},jo;function ac(c,m,{logger:E=!1,isCLI:N=!1,passThrough:x=!1,FlagSchema:j,descriptor:ee}={}){if(N){if(!j)throw new Error("'FlagSchema' option is required.");if(!ee)throw new Error("'descriptor' option is required.")}else ee=js;let ae=x?Array.isArray(x)?(Pe,be)=>x.includes(Pe)?{[Pe]:be}:void 0:(Pe,be)=>({[Pe]:be}):(Pe,be,Re)=>{let{_:Ae,...xe}=Re.schemas;return rp(Pe,be,{...Re,schemas:xe})},ue=Qt(m,{isCLI:N,FlagSchema:j}),ve=new Lo(ue,{logger:E,unknown:ae,descriptor:ee}),we=E!==!1;we&&jo&&(ve._hasDeprecationWarned=jo);let Te=ve.normalize(c);return we&&(jo=ve._hasDeprecationWarned),Te}function Qt(c,{isCLI:m,FlagSchema:E}){let N=[];m&&N.push(ps.create({name:"_"}));for(let x of c)N.push(hv(x,{isCLI:m,optionInfos:c,FlagSchema:E})),x.alias&&m&&N.push(ip.create({name:x.alias,sourceName:x.name}));return N}function hv(c,{isCLI:m,optionInfos:E,FlagSchema:N}){let{name:x}=c,j={name:x},ee,ae={};switch(c.type){case"int":ee=ln,m&&(j.preprocess=Number);break;case"string":ee=sc;break;case"choice":ee=Ht,j.choices=c.choices.map(ue=>ue!=null&&ue.redirect?{...ue,redirect:{to:{key:c.name,value:ue.redirect}}}:ue);break;case"boolean":ee=ov;break;case"flag":ee=N,j.flags=E.flatMap(ue=>[ue.alias,ue.description&&ue.name,ue.oppositeDescription&&`no-${ue.name}`].filter(Boolean));break;case"path":ee=sc;break;default:throw new Error(`Unexpected type ${c.type}`)}if(c.exception?j.validate=(ue,ve,we)=>c.exception(ue)||ve.validate(ue,we):j.validate=(ue,ve,we)=>ue===void 0||ve.validate(ue,we),c.redirect&&(ae.redirect=ue=>ue?{to:typeof c.redirect=="string"?c.redirect:{key:c.redirect.option,value:c.redirect.value}}:void 0),c.deprecated&&(ae.deprecated=!0),m&&!c.array){let ue=j.preprocess||(ve=>ve);j.preprocess=(ve,we,Te)=>we.preprocess(ue(Array.isArray(ve)?A(!1,ve,-1):ve),Te)}return c.array?ic.create({...m?{preprocess:ue=>Array.isArray(ue)?ue:[ue]}:{},...ae,valueSchema:ee.create(j)}):ee.create({...j,...ae})}var cp=ac,uc=(c,m,E)=>{if(!(c&&m==null)){if(m.findLast)return m.findLast(E);for(let N=m.length-1;N>=0;N--){let x=m[N];if(E(x,N,m))return x}}},lp=uc;function fp(c,m){if(!m)throw new Error("parserName is required.");let E=lp(!1,c,x=>x.parsers&&Object.prototype.hasOwnProperty.call(x.parsers,m));if(E)return E;let N=`Couldn't resolve parser "${m}".`;throw N+=" Plugins must be explicitly added to the standalone bundle.",new Jh(N)}function pv(c,m){if(!m)throw new Error("astFormat is required.");let E=lp(!1,c,x=>x.printers&&Object.prototype.hasOwnProperty.call(x.printers,m));if(E)return E;let N=`Couldn't find plugin for AST format "${m}".`;throw N+=" Plugins must be explicitly added to the standalone bundle.",new Jh(N)}function Aa({plugins:c,parser:m}){let E=fp(c,m);return Mi(E,m)}function Mi(c,m){let E=c.parsers[m];return typeof E=="function"?E():E}function cc(c,m){let E=c.printers[m];return typeof E=="function"?E():E}var Wl={astFormat:"estree",printer:{},originalText:void 0,locStart:null,locEnd:null};async function lc(c,m={}){var E;let N={...c};if(!N.parser)if(N.filepath){if(N.parser=Il(N,{physicalFile:N.filepath}),!N.parser)throw new Qh(`No parser could be inferred for file "${N.filepath}".`)}else throw new Qh("No parser and no file path given, couldn't infer a parser.");let x=Nl({plugins:c.plugins,showDeprecated:!0}).options,j={...Wl,...Object.fromEntries(x.filter(Pe=>Pe.default!==void 0).map(Pe=>[Pe.name,Pe.default]))},ee=fp(N.plugins,N.parser),ae=await Mi(ee,N.parser);N.astFormat=ae.astFormat,N.locEnd=ae.locEnd,N.locStart=ae.locStart;let ue=(E=ee.printers)!=null&&E[ae.astFormat]?ee:pv(N.plugins,ae.astFormat),ve=await cc(ue,ae.astFormat);N.printer=ve;let we=ue.defaultOptions?Object.fromEntries(Object.entries(ue.defaultOptions).filter(([,Pe])=>Pe!==void 0)):{},Te={...j,...we};for(let[Pe,be]of Object.entries(Te))(N[Pe]===null||N[Pe]===void 0)&&(N[Pe]=be);return N.parser==="json"&&(N.trailingComma="none"),cp(N,x,{passThrough:Object.keys(Wl),...m})}var Bs=lc,dp=S(T(),1);async function fc(c,m){let E=await Aa(m),N=E.preprocess?E.preprocess(c,m):c;m.originalText=N;let x;try{x=await E.parse(N,m,m)}catch(j){hp(j,c)}return{text:N,ast:x}}function hp(c,m){let{loc:E}=c;if(E){let N=(0,dp.codeFrameColumns)(m,E,{highlightCode:!0});throw c.message+=`
`+N,c.codeFrame=N,c}throw c}var Li=fc;async function qs(c,m,E,N,x){var Re;let{embeddedLanguageFormatting:j,printer:{embed:ee,hasPrettierIgnore:ae=()=>!1,getVisitorKeys:ue}}=E;if(!ee||j!=="auto")return;if(ee.length>2)throw new Error("printer.embed has too many parameters. The API changed in Prettier v3. Please update your plugin. See https://prettier.io/docs/plugins#optional-embed");let ve=Po((Re=ee.getVisitorKeys)!=null?Re:ue),we=[];be();let Te=c.stack;for(let{print:Ae,node:xe,pathStack:at}of we)try{c.stack=at;let Ct=await Ae(Pe,m,c,E);Ct&&x.set(xe,Ct)}catch(Ct){if(globalThis.PRETTIER_DEBUG)throw Ct}c.stack=Te;function Pe(Ae,xe){return dc(Ae,xe,E,N)}function be(){let{node:Ae}=c;if(Ae===null||typeof Ae!="object"||ae(c))return;for(let at of ve(Ae))Array.isArray(Ae[at])?c.each(be,at):c.call(be,at);let xe=ee(c,E);if(xe){if(typeof xe=="function"){we.push({print:xe,node:Ae,pathStack:[...c.stack]});return}x.set(Ae,xe)}}}async function dc(c,m,E,N){let x=await Bs({...E,...m,parentParser:E.parser,originalText:c},{passThrough:!0}),{ast:j}=await Li(c,x),ee=await N(j,x);return Fs(ee)}function mv(c,m){let{originalText:E,[Symbol.for("comments")]:N,locStart:x,locEnd:j,[Symbol.for("printedComments")]:ee}=m,{node:ae}=c,ue=x(ae),ve=j(ae);for(let we of N)x(we)>=ue&&j(we)<=ve&&ee.add(we);return E.slice(ue,ve)}var gv=mv;async function hc(c,m){({ast:c}=await Oa(c,m));let E=new Map,N=new Kh(c),x=new Map;await qs(N,ee,m,hc,x);let j=await Ca(N,m,ee,void 0,x);if(Pl(m),m.nodeAfterCursor&&!m.nodeBeforeCursor)return[Rs,j];if(m.nodeBeforeCursor&&!m.nodeAfterCursor)return[j,Rs];return j;function ee(ue,ve){return ue===void 0||ue===N?ae(ve):Array.isArray(ue)?N.call(()=>ae(ve),...ue):N.call(()=>ae(ve),ue)}function ae(ue){let ve=N.node;if(ve==null)return"";let we=ve&&typeof ve=="object"&&ue===void 0;if(we&&E.has(ve))return E.get(ve);let Te=Ca(N,m,ee,ue,x);return we&&E.set(ve,Te),Te}}function Ca(c,m,E,N,x){var j;let{node:ee}=c,{printer:ae}=m,ue;switch((j=ae.hasPrettierIgnore)!=null&&j.call(ae,c)?ue=gv(c,m):x.has(ee)?ue=x.get(ee):ue=ae.print(c,m,E,N),ee){case m.cursorNode:ue=hn(ue,ve=>[Rs,ve,Rs]);break;case m.nodeBeforeCursor:ue=hn(ue,ve=>[ve,Rs]);break;case m.nodeAfterCursor:ue=hn(ue,ve=>[Rs,ve]);break}return ae.printComment&&(!ae.willPrintOwnComments||!ae.willPrintOwnComments(c,m))&&(ue=tv(c,ue,m)),ue}async function Oa(c,m){var x,j;let E=(x=c.comments)!=null?x:[];m[Symbol.for("comments")]=E,m[Symbol.for("tokens")]=(j=c.tokens)!=null?j:[],m[Symbol.for("printedComments")]=new Set,Yh(c,m);let{printer:{preprocess:N}}=m;return c=N?await N(c,m):c,{ast:c,comments:E}}function Ul(c,m){let{cursorOffset:E,locStart:N,locEnd:x}=m,j=Po(m.printer.getVisitorKeys),ee=be=>N(be)<=E&&x(be)>=E,ae=c,ue=[c];for(let be of K0(c,{getVisitorKeys:j,filter:ee}))ue.push(be),ae=be;if(z0(ae,{getVisitorKeys:j}))return{cursorNode:ae};let ve,we,Te=-1,Pe=Number.POSITIVE_INFINITY;for(;ue.length>0&&(ve===void 0||we===void 0);){ae=ue.pop();let be=ve!==void 0,Re=we!==void 0;for(let Ae of Oo(ae,{getVisitorKeys:j})){if(!be){let xe=x(Ae);xe<=E&&xe>Te&&(ve=Ae,Te=xe)}if(!Re){let xe=N(Ae);xe>=E&&xe<Pe&&(we=Ae,Pe=xe)}}}return{nodeBeforeCursor:ve,nodeAfterCursor:we}}var yv=Ul;function pp(c,m){var ae;let{printer:{massageAstNode:E,getVisitorKeys:N}}=m;if(!E)return c;let x=Po(N),j=(ae=E.ignoredProperties)!=null?ae:new Set;return ee(c);function ee(ue,ve){if(!(ue!==null&&typeof ue=="object"))return ue;if(Array.isArray(ue))return ue.map(be=>ee(be,ve)).filter(Boolean);let we={},Te=new Set(x(ue));for(let be in ue)!Object.prototype.hasOwnProperty.call(ue,be)||j.has(be)||(Te.has(be)?we[be]=ee(ue[be],ue):we[be]=ue[be]);let Pe=E(ue,we,ve);if(Pe!==null)return Pe!=null?Pe:we}}var vv=pp,bv=(c,m,E)=>{if(!(c&&m==null)){if(m.findLastIndex)return m.findLastIndex(E);for(let N=m.length-1;N>=0;N--){let x=m[N];if(E(x,N,m))return N}return-1}},Hn=bv,nr=({parser:c})=>c==="json"||c==="json5"||c==="jsonc"||c==="json-stringify";function Dv(c,m){let E=[c.node,...c.parentNodes],N=new Set([m.node,...m.parentNodes]);return E.find(x=>xo.has(x.type)&&N.has(x))}function mp(c){let m=Hn(!1,c,E=>E.type!=="Program"&&E.type!=="File");return m===-1?c:c.slice(0,m+1)}function gp(c,m,{locStart:E,locEnd:N}){let x=c.node,j=m.node;if(x===j)return{startNode:x,endNode:j};let ee=E(c.node);for(let ue of mp(m.parentNodes))if(E(ue)>=ee)j=ue;else break;let ae=N(m.node);for(let ue of mp(c.parentNodes)){if(N(ue)<=ae)x=ue;else break;if(x===j)break}return{startNode:x,endNode:j}}function Vl(c,m,E,N,x=[],j){let{locStart:ee,locEnd:ae}=E,ue=ee(c),ve=ae(c);if(!(m>ve||m<ue||j==="rangeEnd"&&m===ue||j==="rangeStart"&&m===ve)){for(let we of Zu(c,E)){let Te=Vl(we,m,E,N,[c,...x],j);if(Te)return Te}if(!N||N(c,x[0]))return{node:c,parentNodes:x}}}function Hl(c,m){return m!=="DeclareExportDeclaration"&&c!=="TypeParameterDeclaration"&&(c==="Directive"||c==="TypeAlias"||c==="TSExportAssignment"||c.startsWith("Declare")||c.startsWith("TSDeclare")||c.endsWith("Statement")||c.endsWith("Declaration"))}var xo=new Set(["JsonRoot","ObjectExpression","ArrayExpression","StringLiteral","NumericLiteral","BooleanLiteral","NullLiteral","UnaryExpression","TemplateLiteral"]),Kl=new Set(["OperationDefinition","FragmentDefinition","VariableDefinition","TypeExtensionDefinition","ObjectTypeDefinition","FieldDefinition","DirectiveDefinition","EnumTypeDefinition","EnumValueDefinition","InputValueDefinition","InputObjectTypeDefinition","SchemaDefinition","OperationTypeDefinition","InterfaceTypeDefinition","UnionTypeDefinition","ScalarTypeDefinition"]);function Ws(c,m,E){if(!m)return!1;switch(c.parser){case"flow":case"babel":case"babel-flow":case"babel-ts":case"typescript":case"acorn":case"espree":case"meriyah":case"__babel_estree":return Hl(m.type,E==null?void 0:E.type);case"json":case"json5":case"jsonc":case"json-stringify":return xo.has(m.type);case"graphql":return Kl.has(m.kind);case"vue":return m.tag!=="root"}return!1}function Pa(c,m,E){let{rangeStart:N,rangeEnd:x,locStart:j,locEnd:ee}=m;kl.ok(x>N);let ae=c.slice(N,x).search(/\S/u),ue=ae===-1;if(!ue)for(N+=ae;x>N&&!/\S/u.test(c[x-1]);--x);let ve=Vl(E,N,m,(be,Re)=>Ws(m,be,Re),[],"rangeStart"),we=ue?ve:Vl(E,x,m,be=>Ws(m,be),[],"rangeEnd");if(!ve||!we)return{rangeStart:0,rangeEnd:0};let Te,Pe;if(nr(m)){let be=Dv(ve,we);Te=be,Pe=be}else({startNode:Te,endNode:Pe}=gp(ve,we,m));return{rangeStart:Math.min(j(Te),j(Pe)),rangeEnd:Math.max(ee(Te),ee(Pe))}}var Bo="\uFEFF",Na=Symbol("cursor");async function Us(c,m,E=0){if(!c||c.trim().length===0)return{formatted:"",cursorOffset:-1,comments:[]};let{ast:N,text:x}=await Li(c,m);m.cursorOffset>=0&&(m={...m,...yv(N,m)});let j=await hc(N,m);E>0&&(j=Bh([ss,j],E,m.tabWidth));let ee=Sa(j,m);if(E>0){let ue=ee.formatted.trim();ee.cursorNodeStart!==void 0&&(ee.cursorNodeStart-=ee.formatted.indexOf(ue),ee.cursorNodeStart<0&&(ee.cursorNodeStart=0,ee.cursorNodeText=ee.cursorNodeText.trimStart()),ee.cursorNodeStart+ee.cursorNodeText.length>ue.length&&(ee.cursorNodeText=ee.cursorNodeText.trimEnd())),ee.formatted=ue+Je(m.endOfLine)}let ae=m[Symbol.for("comments")];if(m.cursorOffset>=0){let ue,ve,we,Te;if((m.cursorNode||m.nodeBeforeCursor||m.nodeAfterCursor)&&ee.cursorNodeText)if(we=ee.cursorNodeStart,Te=ee.cursorNodeText,m.cursorNode)ue=m.locStart(m.cursorNode),ve=x.slice(ue,m.locEnd(m.cursorNode));else{if(!m.nodeBeforeCursor&&!m.nodeAfterCursor)throw new Error("Cursor location must contain at least one of cursorNode, nodeBeforeCursor, nodeAfterCursor");ue=m.nodeBeforeCursor?m.locEnd(m.nodeBeforeCursor):0;let at=m.nodeAfterCursor?m.locStart(m.nodeAfterCursor):x.length;ve=x.slice(ue,at)}else ue=0,ve=x,we=0,Te=ee.formatted;let Pe=m.cursorOffset-ue;if(ve===Te)return{formatted:ee.formatted,cursorOffset:we+Pe,comments:ae};let be=ve.split("");be.splice(Pe,0,Na);let Re=Te.split(""),Ae=Le(be,Re),xe=we;for(let at of Ae)if(at.removed){if(at.value.includes(Na))break}else xe+=at.count;return{formatted:ee.formatted,cursorOffset:xe,comments:ae}}return{formatted:ee.formatted,cursorOffset:-1,comments:ae}}async function wv(c,m){let{ast:E,text:N}=await Li(c,m),{rangeStart:x,rangeEnd:j}=Pa(N,m,E),ee=N.slice(x,j),ae=Math.min(x,N.lastIndexOf(`
`,x)+1),ue=N.slice(ae,x).match(/^\s*/u)[0],ve=Gu(ue,m.tabWidth),we=await Us(ee,{...m,rangeStart:0,rangeEnd:Number.POSITIVE_INFINITY,cursorOffset:m.cursorOffset>x&&m.cursorOffset<=j?m.cursorOffset-x:-1,endOfLine:"lf"},ve),Te=we.formatted.trimEnd(),{cursorOffset:Pe}=m;Pe>j?Pe+=Te.length-ee.length:we.cursorOffset>=0&&(Pe=we.cursorOffset+x);let be=N.slice(0,x)+Te+N.slice(j);if(m.endOfLine!=="lf"){let Re=Je(m.endOfLine);Pe>=0&&Re===`\r
`&&(Pe+=et(be.slice(0,Pe),`
`)),be=b(!1,be,`
`,Re)}return{formatted:be,cursorOffset:Pe,comments:we.comments}}function zl(c,m,E){return typeof m!="number"||Number.isNaN(m)||m<0||m>c.length?E:m}function yp(c,m){let{cursorOffset:E,rangeStart:N,rangeEnd:x}=m;return E=zl(c,E,-1),N=zl(c,N,0),x=zl(c,x,c.length),{...m,cursorOffset:E,rangeStart:N,rangeEnd:x}}function vp(c,m){let{cursorOffset:E,rangeStart:N,rangeEnd:x,endOfLine:j}=yp(c,m),ee=c.charAt(0)===Bo;if(ee&&(c=c.slice(1),E--,N--,x--),j==="auto"&&(j=ze(c)),c.includes("\r")){let ae=ue=>et(c.slice(0,Math.max(ue,0)),`\r
`);E-=ae(E),N-=ae(N),x-=ae(x),c=rt(c)}return{hasBOM:ee,text:c,options:yp(c,{...m,cursorOffset:E,rangeStart:N,rangeEnd:x,endOfLine:j})}}async function bp(c,m){let E=await Aa(m);return!E.hasPragma||E.hasPragma(c)}async function Fa(c,m){let{hasBOM:E,text:N,options:x}=vp(c,await Bs(m));if(x.rangeStart>=x.rangeEnd&&N!==""||x.requirePragma&&!await bp(N,x))return{formatted:c,cursorOffset:m.cursorOffset,comments:[]};let j;return x.rangeStart>0||x.rangeEnd<N.length?j=await wv(N,x):(!x.requirePragma&&x.insertPragma&&x.printer.insertPragma&&!await bp(N,x)&&(N=x.printer.insertPragma(N)),j=await Us(N,x)),E&&(j.formatted=Bo+j.formatted,j.cursorOffset>=0&&j.cursorOffset++),j}async function Ra(c,m,E){let{text:N,options:x}=vp(c,await Bs(m)),j=await Li(N,x);return E&&(E.preprocessForPrint&&(j.ast=await Oa(j.ast,x)),E.massage&&(j.ast=vv(j.ast,x))),j}async function Dp(c,m){m=await Bs(m);let E=await hc(c,m);return Sa(E,m)}async function z(c,m){let E=Wh(c),{formatted:N}=await Fa(E,{...m,parser:"__js_expression"});return N}async function qo(c,m){m=await Bs(m);let{ast:E}=await Li(c,m);return hc(E,m)}async function pc(c,m){return Sa(c,await Bs(m))}var Er={};h(Er,{builders:()=>It,printer:()=>_v,utils:()=>$v});var It={join:xh,line:$l,softline:Lh,hardline:ss,literalline:jh,group:Ke,conditionalGroup:Sn,fill:Un,lineSuffix:xt,lineSuffixBoundary:kn,cursor:Rs,breakParent:pn,ifBreak:Vt,trim:wl,indent:ke,indentIfBreak:Tn,align:Me,addAlignmentToDoc:Bh,markAsRoot:Jt,dedentToRoot:rn,dedent:sn,hardlineWithoutBreakParent:_l,literallineWithoutBreakParent:Mh,label:qh,concat:c=>c},_v={printDocToString:Sa},$v={willBreak:bn,traverseDoc:We,findInDoc:je,mapDoc:Ye,removeLines:An,stripTrailingHardline:Fs,replaceEndOfLine:Ii,canBreak:En},Ev="3.5.3",ms={};h(ms,{addDanglingComment:()=>Gn,addLeadingComment:()=>cs,addTrailingComment:()=>Ls,getAlignmentSize:()=>Gu,getIndentSize:()=>Ov,getMaxContinuousCount:()=>Nv,getNextNonSpaceNonCommentCharacter:()=>Rv,getNextNonSpaceNonCommentCharacterIndex:()=>_p,getPreferredQuote:()=>Iv,getStringWidth:()=>Uu,hasNewline:()=>us,hasNewlineInRange:()=>Gr,hasSpaces:()=>jv,isNextLineEmpty:()=>Ql,isNextLineEmptyAfterIndex:()=>Jl,isPreviousLineEmpty:()=>Wv,makeString:()=>Bv,skip:()=>Ta,skipEverythingButNewLine:()=>cn,skipInlineComment:()=>Yl,skipNewline:()=>Is,skipSpaces:()=>as,skipToLineEnd:()=>mn,skipTrailingComment:()=>Gl,skipWhitespace:()=>Y0});function Sv(c,m){if(m===!1)return!1;if(c.charAt(m)==="/"&&c.charAt(m+1)==="*"){for(let E=m+2;E<c.length;++E)if(c.charAt(E)==="*"&&c.charAt(E+1)==="/")return E+2}return m}var Yl=Sv;function Tv(c,m){return m===!1?!1:c.charAt(m)==="/"&&c.charAt(m+1)==="/"?cn(c,m):m}var Gl=Tv;function kv(c,m){let E=null,N=m;for(;N!==E;)E=N,N=as(c,N),N=Yl(c,N),N=Gl(c,N),N=Is(c,N);return N}var Yr=kv;function Av(c,m){let E=null,N=m;for(;N!==E;)E=N,N=mn(c,N),N=Yl(c,N),N=as(c,N);return N=Gl(c,N),N=Is(c,N),N!==!1&&us(c,N)}var Jl=Av;function Cv(c,m){let E=c.lastIndexOf(`
`);return E===-1?0:Gu(c.slice(E+1).match(/^[\t ]*/u)[0],m)}var Ov=Cv;function Pv(c){if(typeof c!="string")throw new TypeError("Expected a string");return c.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function ji(c,m){let E=c.match(new RegExp(`(${Pv(m)})+`,"gu"));return E===null?0:E.reduce((N,x)=>Math.max(N,x.length/m.length),0)}var Nv=ji;function Fv(c,m){let E=Yr(c,m);return E===!1?"":c.charAt(E)}var Rv=Fv,mc="'",wp='"';function Vs(c,m){let E=m===!0||m===mc?mc:wp,N=E===mc?wp:mc,x=0,j=0;for(let ee of c)ee===E?x++:ee===N&&j++;return x>j?N:E}var Iv=Vs;function Mv(c,m,E){for(let N=m;N<E;++N)if(c.charAt(N)===`
`)return!0;return!1}var Gr=Mv;function Lv(c,m,E={}){return as(c,E.backwards?m-1:m,E)!==m}var jv=Lv;function xv(c,m,E){let N=m==='"'?"'":'"',x=b(!1,c,/\\(.)|(["'])/gsu,(j,ee,ae)=>ee===N?ee:ae===m?"\\"+ae:ae||(E&&/^[^\n\r"'0-7\\bfnrt-vx\u2028\u2029]$/u.test(ee)?ee:"\\"+ee));return m+x+m}var Bv=xv;function qv(c,m,E){return Yr(c,E(m))}function _p(c,m){return arguments.length===2||typeof m=="number"?Yr(c,m):qv(...arguments)}function $p(c,m,E){return No(c,E(m))}function Wv(c,m){return arguments.length===2||typeof m=="number"?No(c,m):$p(...arguments)}function Uv(c,m,E){return Jl(c,E(m))}function Ql(c,m){return arguments.length===2||typeof m=="number"?Jl(c,m):Uv(...arguments)}function Jr(c,m=1){return async(...E)=>{var j,ee;let N=(j=E[m])!=null?j:{},x=(ee=N.plugins)!=null?ee:[];return E[m]={...N,plugins:Array.isArray(x)?x:Object.values(x)},c(...E)}}var Ia=Jr(Fa);async function Ep(c,m){let{formatted:E}=await Ia(c,{...m,cursorOffset:-1});return E}async function Sp(c,m){return await Ep(c,m)===c}var Vv=Jr(Nl,0),xi={parse:Jr(Ra),formatAST:Jr(Dp),formatDoc:Jr(z),printToDoc:Jr(qo),printDocToString:Jr(pc)};return O(v)})})(k$);var hM=Object.create,s0=Object.defineProperty,pM=Object.getOwnPropertyDescriptor,mM=Object.getOwnPropertyNames,gM=Object.getPrototypeOf,yM=Object.prototype.hasOwnProperty,Os=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),A$=(t,e)=>{for(var n in e)s0(t,n,{get:e[n],enumerable:!0})},vM=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of mM(e))!yM.call(t,i)&&i!==n&&s0(t,i,{get:()=>e[i],enumerable:!(r=pM(e,i))||r.enumerable});return t},C$=(t,e,n)=>(n=t!=null?hM(gM(t)):{},vM(e||!t||!t.__esModule?s0(n,"default",{value:t,enumerable:!0}):n,t)),ya=Os(t=>{var e={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},n={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},r="tag:yaml.org,2002:",i={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function s(v){let D=[0],b=v.indexOf(`
`);for(;b!==-1;)b+=1,D.push(b),b=v.indexOf(`
`,b);return D}function a(v){let D,b;return typeof v=="string"?(D=s(v),b=v):(Array.isArray(v)&&(v=v[0]),v&&v.context&&(v.lineStarts||(v.lineStarts=s(v.context.src)),D=v.lineStarts,b=v.context.src)),{lineStarts:D,src:b}}function l(v,D){if(typeof v!="number"||v<0)return null;let{lineStarts:b,src:_}=a(D);if(!b||!_||v>_.length)return null;for(let q=0;q<b.length;++q){let F=b[q];if(v<F)return{line:q,col:v-b[q-1]+1};if(v===F)return{line:q+1,col:1}}let $=b.length;return{line:$,col:v-b[$-1]+1}}function f(v,D){let{lineStarts:b,src:_}=a(D);if(!b||!(v>=1)||v>b.length)return null;let $=b[v-1],q=b[v];for(;q&&q>$&&_[q-1]===`
`;)--q;return _.slice($,q)}function d({start:v,end:D},b,_=80){let $=f(v.line,b);if(!$)return null;let{col:q}=v;if($.length>_)if(q<=_-10)$=$.substr(0,_-1)+"\u2026";else{let H=Math.round(_/2);$.length>q+H&&($=$.substr(0,q+H-1)+"\u2026"),q-=$.length-_,$="\u2026"+$.substr(1-_)}let F=1,L="";D&&(D.line===v.line&&q+(D.col-v.col)<=_+1?F=D.col-v.col:(F=Math.min($.length+1,_)-q,L="\u2026"));let M=q>1?" ".repeat(q-1):"",Y="^".repeat(F);return`${$}
${M}${Y}${L}`}var h=class zT{static copy(D){return new zT(D.start,D.end)}constructor(D,b){this.start=D,this.end=b||D}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(D,b){let{start:_,end:$}=this;if(D.length===0||$<=D[0])return this.origStart=_,this.origEnd=$,b;let q=b;for(;q<D.length&&!(D[q]>_);)++q;this.origStart=_+q;let F=q;for(;q<D.length&&!(D[q]>=$);)++q;return this.origEnd=$+q,F}},g=class Xs{static addStringTerminator(D,b,_){if(_[_.length-1]===`
`)return _;let $=Xs.endOfWhiteSpace(D,b);return $>=D.length||D[$]===`
`?_+`
`:_}static atDocumentBoundary(D,b,_){let $=D[b];if(!$)return!0;let q=D[b-1];if(q&&q!==`
`)return!1;if(_){if($!==_)return!1}else if($!==e.DIRECTIVES_END&&$!==e.DOCUMENT_END)return!1;let F=D[b+1],L=D[b+2];if(F!==$||L!==$)return!1;let M=D[b+3];return!M||M===`
`||M==="	"||M===" "}static endOfIdentifier(D,b){let _=D[b],$=_==="<",q=$?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;_&&q.indexOf(_)===-1;)_=D[b+=1];return $&&_===">"&&(b+=1),b}static endOfIndent(D,b){let _=D[b];for(;_===" ";)_=D[b+=1];return b}static endOfLine(D,b){let _=D[b];for(;_&&_!==`
`;)_=D[b+=1];return b}static endOfWhiteSpace(D,b){let _=D[b];for(;_==="	"||_===" ";)_=D[b+=1];return b}static startOfLine(D,b){let _=D[b-1];if(_===`
`)return b;for(;_&&_!==`
`;)_=D[b-=1];return b+1}static endOfBlockIndent(D,b,_){let $=Xs.endOfIndent(D,_);if($>_+b)return $;{let q=Xs.endOfWhiteSpace(D,$),F=D[q];if(!F||F===`
`)return q}return null}static atBlank(D,b,_){let $=D[b];return $===`
`||$==="	"||$===" "||_&&!$}static nextNodeIsIndented(D,b,_){return!D||b<0?!1:b>0?!0:_&&D==="-"}static normalizeOffset(D,b){let _=D[b];return _?_!==`
`&&D[b-1]===`
`?b-1:Xs.endOfWhiteSpace(D,b):b}static foldNewline(D,b,_){let $=0,q=!1,F="",L=D[b+1];for(;L===" "||L==="	"||L===`
`;){switch(L){case`
`:$=0,b+=1,F+=`
`;break;case"	":$<=_&&(q=!0),b=Xs.endOfWhiteSpace(D,b+2)-1;break;case" ":$+=1,b+=1;break}L=D[b+1]}return F||(F=" "),L&&$<=_&&(q=!0),{fold:F,offset:b,error:q}}constructor(D,b,_){Object.defineProperty(this,"context",{value:_||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=b||[],this.type=D,this.value=null}getPropValue(D,b,_){if(!this.context)return null;let{src:$}=this.context,q=this.props[D];return q&&$[q.start]===b?$.slice(q.start+(_?1:0),q.end):null}get anchor(){for(let D=0;D<this.props.length;++D){let b=this.getPropValue(D,e.ANCHOR,!0);if(b!=null)return b}return null}get comment(){let D=[];for(let b=0;b<this.props.length;++b){let _=this.getPropValue(b,e.COMMENT,!0);_!=null&&D.push(_)}return D.length>0?D.join(`
`):null}commentHasRequiredWhitespace(D){let{src:b}=this.context;if(this.header&&D===this.header.end||!this.valueRange)return!1;let{end:_}=this.valueRange;return D!==_||Xs.atBlank(b,_-1)}get hasComment(){if(this.context){let{src:D}=this.context;for(let b=0;b<this.props.length;++b)if(D[this.props[b].start]===e.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:D}=this.context;for(let b=0;b<this.props.length;++b)if(D[this.props[b].start]!==e.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[n.FLOW_MAP,n.FLOW_SEQ,n.QUOTE_DOUBLE,n.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let D=l(this.range.start,this.context.root);if(!D)return;let b=l(this.range.end,this.context.root);return{start:D,end:b}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:D,end:b}=this.valueRange;return this.context.src.slice(D,b)}get tag(){for(let D=0;D<this.props.length;++D){let b=this.getPropValue(D,e.TAG,!1);if(b!=null){if(b[1]==="<")return{verbatim:b.slice(2,-1)};{let[_,$,q]=b.match(/^(.*!)([^!]*)$/);return{handle:$,suffix:q}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:D,end:b}=this.valueRange,{src:_}=this.context;for(let $=D;$<b;++$)if(_[$]===`
`)return!0;return!1}parseComment(D){let{src:b}=this.context;if(b[D]===e.COMMENT){let _=Xs.endOfLine(b,D+1),$=new h(D,_);return this.props.push($),_}return D}setOrigRanges(D,b){return this.range&&(b=this.range.setOrigRange(D,b)),this.valueRange&&this.valueRange.setOrigRange(D,b),this.props.forEach(_=>_.setOrigRange(D,b)),b}toString(){let{context:{src:D},range:b,value:_}=this;if(_!=null)return _;let $=D.slice(b.start,b.end);return Xs.addStringTerminator(D,b.end,$)}},S=class extends Error{constructor(v,D,b){if(!b||!(D instanceof g))throw new Error(`Invalid arguments for new ${v}`);super(),this.name=v,this.message=b,this.source=D}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let v=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new h(this.offset,this.offset+1);let D=v&&l(this.offset,v);if(D){let b={line:D.line,col:D.col+1};this.linePos={start:D,end:b}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:D,col:b}=this.linePos.start;this.message+=` at line ${D}, column ${b}`;let _=v&&d(this.linePos,v);_&&(this.message+=`:

${_}
`)}delete this.source}},O=class extends S{constructor(v,D){super("YAMLReferenceError",v,D)}},I=class extends S{constructor(v,D){super("YAMLSemanticError",v,D)}},P=class extends S{constructor(v,D){super("YAMLSyntaxError",v,D)}},C=class extends S{constructor(v,D){super("YAMLWarning",v,D)}};function R(v,D,b){return D in v?Object.defineProperty(v,D,{value:b,enumerable:!0,configurable:!0,writable:!0}):v[D]=b,v}var T=class Ob extends g{static endOfLine(D,b,_){let $=D[b],q=b;for(;$&&$!==`
`&&!(_&&($==="["||$==="]"||$==="{"||$==="}"||$===","));){let F=D[q+1];if($===":"&&(!F||F===`
`||F==="	"||F===" "||_&&F===",")||($===" "||$==="	")&&F==="#")break;q+=1,$=F}return q}get strValue(){if(!this.valueRange||!this.context)return null;let{start:D,end:b}=this.valueRange,{src:_}=this.context,$=_[b-1];for(;D<b&&($===`
`||$==="	"||$===" ");)$=_[--b-1];let q="";for(let L=D;L<b;++L){let M=_[L];if(M===`
`){let{fold:Y,offset:H}=g.foldNewline(_,L,-1);q+=Y,L=H}else if(M===" "||M==="	"){let Y=L,H=_[L+1];for(;L<b&&(H===" "||H==="	");)L+=1,H=_[L+1];H!==`
`&&(q+=L>Y?_.slice(Y,L+1):M)}else q+=M}let F=_[D];switch(F){case"	":{let L="Plain value cannot start with a tab character";return{errors:[new I(this,L)],str:q}}case"@":case"`":{let L=`Plain value cannot start with reserved character ${F}`;return{errors:[new I(this,L)],str:q}}default:return q}}parseBlockValue(D){let{indent:b,inFlow:_,src:$}=this.context,q=D,F=D;for(let L=$[q];L===`
`&&!g.atDocumentBoundary($,q+1);L=$[q]){let M=g.endOfBlockIndent($,b,q+1);if(M===null||$[M]==="#")break;$[M]===`
`?q=M:(F=Ob.endOfLine($,M,_),q=F)}return this.valueRange.isEmpty()&&(this.valueRange.start=D),this.valueRange.end=F,F}parse(D,b){this.context=D;let{inFlow:_,src:$}=D,q=b,F=$[q];return F&&F!=="#"&&F!==`
`&&(q=Ob.endOfLine($,b,_)),this.valueRange=new h(b,q),q=g.endOfWhiteSpace($,q),q=this.parseComment(q),(!this.hasComment||this.valueRange.isEmpty())&&(q=this.parseBlockValue(q)),q}};t.Char=e,t.Node=g,t.PlainValue=T,t.Range=h,t.Type=n,t.YAMLError=S,t.YAMLReferenceError=O,t.YAMLSemanticError=I,t.YAMLSyntaxError=P,t.YAMLWarning=C,t._defineProperty=R,t.defaultTagPrefix=r,t.defaultTags=i}),bM=Os(t=>{var e=ya(),n=class extends e.Node{constructor(){super(e.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(T,v){return this.context=T,this.range=new e.Range(v,v+1),v+1}},r=class extends e.Node{constructor(T,v){super(T,v),this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(T,v){this.context=T;let{parseNode:D,src:b}=T,{atLineStart:_,lineStart:$}=T;!_&&this.type===e.Type.SEQ_ITEM&&(this.error=new e.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let q=_?v-$:T.indent,F=e.Node.endOfWhiteSpace(b,v+1),L=b[F],M=L==="#",Y=[],H=null;for(;L===`
`||L==="#";){if(L==="#"){let ge=e.Node.endOfLine(b,F+1);Y.push(new e.Range(F,ge)),F=ge}else{_=!0,$=F+1;let ge=e.Node.endOfWhiteSpace(b,$);b[ge]===`
`&&Y.length===0&&(H=new n,$=H.parse({src:b},$)),F=e.Node.endOfIndent(b,$)}L=b[F]}if(e.Node.nextNodeIsIndented(L,F-($+q),this.type!==e.Type.SEQ_ITEM)?this.node=D({atLineStart:_,inCollection:!1,indent:q,lineStart:$,parent:this},F):L&&$>v+1&&(F=$-1),this.node){if(H){let ge=T.parent.items||T.parent.contents;ge&&ge.push(H)}Y.length&&Array.prototype.push.apply(this.props,Y),F=this.node.range.end}else if(M){let ge=Y[0];this.props.push(ge),F=ge.end}else F=e.Node.endOfLine(b,v+1);let ne=this.node?this.node.valueRange.end:F;return this.valueRange=new e.Range(v,ne),F}setOrigRanges(T,v){return v=super.setOrigRanges(T,v),this.node?this.node.setOrigRanges(T,v):v}toString(){let{context:{src:T},node:v,range:D,value:b}=this;if(b!=null)return b;let _=v?T.slice(D.start,v.range.start)+String(v):T.slice(D.start,D.end);return e.Node.addStringTerminator(T,D.end,_)}},i=class extends e.Node{constructor(){super(e.Type.COMMENT)}parse(T,v){this.context=T;let D=this.parseComment(v);return this.range=new e.Range(v,D),D}};function s(T){let v=T;for(;v instanceof r;)v=v.node;if(!(v instanceof a))return null;let D=v.items.length,b=-1;for(let q=D-1;q>=0;--q){let F=v.items[q];if(F.type===e.Type.COMMENT){let{indent:L,lineStart:M}=F.context;if(L>0&&F.range.start>=M+L)break;b=q}else if(F.type===e.Type.BLANK_LINE)b=q;else break}if(b===-1)return null;let _=v.items.splice(b,D-b),$=_[0].range.start;for(;v.range.end=$,v.valueRange&&v.valueRange.end>$&&(v.valueRange.end=$),v!==T;)v=v.context.parent;return _}var a=class Pb extends e.Node{static nextContentHasIndent(v,D,b){let _=e.Node.endOfLine(v,D)+1;D=e.Node.endOfWhiteSpace(v,_);let $=v[D];return $?D>=_+b?!0:$!=="#"&&$!==`
`?!1:Pb.nextContentHasIndent(v,D,b):!1}constructor(v){super(v.type===e.Type.SEQ_ITEM?e.Type.SEQ:e.Type.MAP);for(let b=v.props.length-1;b>=0;--b)if(v.props[b].start<v.context.lineStart){this.props=v.props.slice(0,b+1),v.props=v.props.slice(b+1);let _=v.props[0]||v.valueRange;v.range.start=_.start;break}this.items=[v];let D=s(v);D&&Array.prototype.push.apply(this.items,D)}get includesTrailingLines(){return this.items.length>0}parse(v,D){this.context=v;let{parseNode:b,src:_}=v,$=e.Node.startOfLine(_,D),q=this.items[0];q.context.parent=this,this.valueRange=e.Range.copy(q.valueRange);let F=q.range.start-q.context.lineStart,L=D;L=e.Node.normalizeOffset(_,L);let M=_[L],Y=e.Node.endOfWhiteSpace(_,$)===L,H=!1;for(;M;){for(;M===`
`||M==="#";){if(Y&&M===`
`&&!H){let pe=new n;if(L=pe.parse({src:_},L),this.valueRange.end=L,L>=_.length){M=null;break}this.items.push(pe),L-=1}else if(M==="#"){if(L<$+F&&!Pb.nextContentHasIndent(_,L,F))return L;let pe=new i;if(L=pe.parse({indent:F,lineStart:$,src:_},L),this.items.push(pe),this.valueRange.end=L,L>=_.length){M=null;break}}if($=L+1,L=e.Node.endOfIndent(_,$),e.Node.atBlank(_,L)){let pe=e.Node.endOfWhiteSpace(_,L),$e=_[pe];(!$e||$e===`
`||$e==="#")&&(L=pe)}M=_[L],Y=!0}if(!M)break;if(L!==$+F&&(Y||M!==":")){if(L<$+F){$>D&&(L=$);break}else if(!this.error){let pe="All collection items must start at the same column";this.error=new e.YAMLSyntaxError(this,pe)}}if(q.type===e.Type.SEQ_ITEM){if(M!=="-"){$>D&&(L=$);break}}else if(M==="-"&&!this.error){let pe=_[L+1];if(!pe||pe===`
`||pe==="	"||pe===" "){let $e="A collection cannot be both a mapping and a sequence";this.error=new e.YAMLSyntaxError(this,$e)}}let ne=b({atLineStart:Y,inCollection:!0,indent:F,lineStart:$,parent:this},L);if(!ne)return L;if(this.items.push(ne),this.valueRange.end=ne.valueRange.end,L=e.Node.normalizeOffset(_,ne.range.end),M=_[L],Y=!1,H=ne.includesTrailingLines,M){let pe=L-1,$e=_[pe];for(;$e===" "||$e==="	";)$e=_[--pe];$e===`
`&&($=pe+1,Y=!0)}let ge=s(ne);ge&&Array.prototype.push.apply(this.items,ge)}return L}setOrigRanges(v,D){return D=super.setOrigRanges(v,D),this.items.forEach(b=>{D=b.setOrigRanges(v,D)}),D}toString(){let{context:{src:v},items:D,range:b,value:_}=this;if(_!=null)return _;let $=v.slice(b.start,D[0].range.start)+String(D[0]);for(let q=1;q<D.length;++q){let F=D[q],{atLineStart:L,indent:M}=F.context;if(L)for(let Y=0;Y<M;++Y)$+=" ";$+=String(F)}return e.Node.addStringTerminator(v,b.end,$)}},l=class extends e.Node{constructor(){super(e.Type.DIRECTIVE),this.name=null}get parameters(){let T=this.rawValue;return T?T.trim().split(/[ \t]+/):[]}parseName(T){let{src:v}=this.context,D=T,b=v[D];for(;b&&b!==`
`&&b!=="	"&&b!==" ";)b=v[D+=1];return this.name=v.slice(T,D),D}parseParameters(T){let{src:v}=this.context,D=T,b=v[D];for(;b&&b!==`
`&&b!=="#";)b=v[D+=1];return this.valueRange=new e.Range(T,D),D}parse(T,v){this.context=T;let D=this.parseName(v+1);return D=this.parseParameters(D),D=this.parseComment(D),this.range=new e.Range(v,D),D}},f=class Nb extends e.Node{static startCommentOrEndBlankLine(v,D){let b=e.Node.endOfWhiteSpace(v,D),_=v[b];return _==="#"||_===`
`?b:D}constructor(){super(e.Type.DOCUMENT),this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(v){let{src:D}=this.context;this.directives=[];let b=!0,_=!1,$=v;for(;!e.Node.atDocumentBoundary(D,$,e.Char.DIRECTIVES_END);)switch($=Nb.startCommentOrEndBlankLine(D,$),D[$]){case`
`:if(b){let q=new n;$=q.parse({src:D},$),$<D.length&&this.directives.push(q)}else $+=1,b=!0;break;case"#":{let q=new i;$=q.parse({src:D},$),this.directives.push(q),b=!1}break;case"%":{let q=new l;$=q.parse({parent:this,src:D},$),this.directives.push(q),_=!0,b=!1}break;default:return _?this.error=new e.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),$}return D[$]?(this.directivesEndMarker=new e.Range($,$+3),$+3):(_?this.error=new e.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),$)}parseContents(v){let{parseNode:D,src:b}=this.context;this.contents||(this.contents=[]);let _=v;for(;b[_-1]==="-";)_-=1;let $=e.Node.endOfWhiteSpace(b,v),q=_===v;for(this.valueRange=new e.Range($);!e.Node.atDocumentBoundary(b,$,e.Char.DOCUMENT_END);){switch(b[$]){case`
`:if(q){let F=new n;$=F.parse({src:b},$),$<b.length&&this.contents.push(F)}else $+=1,q=!0;_=$;break;case"#":{let F=new i;$=F.parse({src:b},$),this.contents.push(F),q=!1}break;default:{let F=e.Node.endOfIndent(b,$),L=D({atLineStart:q,indent:-1,inFlow:!1,inCollection:!1,lineStart:_,parent:this},F);if(!L)return this.valueRange.end=F;this.contents.push(L),$=L.range.end,q=!1;let M=s(L);M&&Array.prototype.push.apply(this.contents,M)}}$=Nb.startCommentOrEndBlankLine(b,$)}if(this.valueRange.end=$,b[$]&&(this.documentEndMarker=new e.Range($,$+3),$+=3,b[$])){if($=e.Node.endOfWhiteSpace(b,$),b[$]==="#"){let F=new i;$=F.parse({src:b},$),this.contents.push(F)}switch(b[$]){case`
`:$+=1;break;case void 0:break;default:this.error=new e.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return $}parse(v,D){v.root=this,this.context=v;let{src:b}=v,_=b.charCodeAt(D)===65279?D+1:D;return _=this.parseDirectives(_),_=this.parseContents(_),_}setOrigRanges(v,D){return D=super.setOrigRanges(v,D),this.directives.forEach(b=>{D=b.setOrigRanges(v,D)}),this.directivesEndMarker&&(D=this.directivesEndMarker.setOrigRange(v,D)),this.contents.forEach(b=>{D=b.setOrigRanges(v,D)}),this.documentEndMarker&&(D=this.documentEndMarker.setOrigRange(v,D)),D}toString(){let{contents:v,directives:D,value:b}=this;if(b!=null)return b;let _=D.join("");return v.length>0&&((D.length>0||v[0].type===e.Type.COMMENT)&&(_+=`---
`),_+=v.join("")),_[_.length-1]!==`
`&&(_+=`
`),_}},d=class extends e.Node{parse(T,v){this.context=T;let{src:D}=T,b=e.Node.endOfIdentifier(D,v+1);return this.valueRange=new e.Range(v+1,b),b=e.Node.endOfWhiteSpace(D,b),b=this.parseComment(b),b}},h={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},g=class extends e.Node{constructor(T,v){super(T,v),this.blockIndent=null,this.chomping=h.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===h.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:T,end:v}=this.valueRange,{indent:D,src:b}=this.context;if(this.valueRange.isEmpty())return"";let _=null,$=b[v-1];for(;$===`
`||$==="	"||$===" ";){if(v-=1,v<=T){if(this.chomping===h.KEEP)break;return""}$===`
`&&(_=v),$=b[v-1]}let q=v+1;_&&(this.chomping===h.KEEP?(q=_,v=this.valueRange.end):v=_);let F=D+this.blockIndent,L=this.type===e.Type.BLOCK_FOLDED,M=!0,Y="",H="",ne=!1;for(let ge=T;ge<v;++ge){for(let $e=0;$e<F&&b[ge]===" ";++$e)ge+=1;let pe=b[ge];if(pe===`
`)H===`
`?Y+=`
`:H=`
`;else{let $e=e.Node.endOfLine(b,ge),Ve=b.slice(ge,$e);ge=$e,L&&(pe===" "||pe==="	")&&ge<q?(H===" "?H=`
`:!ne&&!M&&H===`
`&&(H=`

`),Y+=H+Ve,H=$e<v&&b[$e]||"",ne=!0):(Y+=H+Ve,H=L&&ge<q?" ":`
`,ne=!1),M&&Ve!==""&&(M=!1)}}return this.chomping===h.STRIP?Y:Y+`
`}parseBlockHeader(T){let{src:v}=this.context,D=T+1,b="";for(;;){let _=v[D];switch(_){case"-":this.chomping=h.STRIP;break;case"+":this.chomping=h.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":b+=_;break;default:return this.blockIndent=Number(b)||null,this.header=new e.Range(T,D),D}D+=1}}parseBlockValue(T){let{indent:v,src:D}=this.context,b=!!this.blockIndent,_=T,$=T,q=1;for(let F=D[_];F===`
`&&(_+=1,!e.Node.atDocumentBoundary(D,_));F=D[_]){let L=e.Node.endOfBlockIndent(D,v,_);if(L===null)break;let M=D[L],Y=L-(_+v);if(this.blockIndent){if(M&&M!==`
`&&Y<this.blockIndent){if(D[L]==="#")break;if(!this.error){let H=`Block scalars must not be less indented than their ${b?"explicit indentation indicator":"first line"}`;this.error=new e.YAMLSemanticError(this,H)}}}else if(D[L]!==`
`){if(Y<q){let H="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new e.YAMLSemanticError(this,H)}this.blockIndent=Y}else Y>q&&(q=Y);D[L]===`
`?_=L:_=$=e.Node.endOfLine(D,L)}return this.chomping!==h.KEEP&&(_=D[$]?$+1:$),this.valueRange=new e.Range(T+1,_),_}parse(T,v){this.context=T;let{src:D}=T,b=this.parseBlockHeader(v);return b=e.Node.endOfWhiteSpace(D,b),b=this.parseComment(b),b=this.parseBlockValue(b),b}setOrigRanges(T,v){return v=super.setOrigRanges(T,v),this.header?this.header.setOrigRange(T,v):v}},S=class extends e.Node{constructor(T,v){super(T,v),this.items=null}prevNodeIsJsonLike(T=this.items.length){let v=this.items[T-1];return!!v&&(v.jsonLike||v.type===e.Type.COMMENT&&this.prevNodeIsJsonLike(T-1))}parse(T,v){this.context=T;let{parseNode:D,src:b}=T,{indent:_,lineStart:$}=T,q=b[v];this.items=[{char:q,offset:v}];let F=e.Node.endOfWhiteSpace(b,v+1);for(q=b[F];q&&q!=="]"&&q!=="}";){switch(q){case`
`:{$=F+1;let L=e.Node.endOfWhiteSpace(b,$);if(b[L]===`
`){let M=new n;$=M.parse({src:b},$),this.items.push(M)}if(F=e.Node.endOfIndent(b,$),F<=$+_&&(q=b[F],F<$+_||q!=="]"&&q!=="}")){let M="Insufficient indentation in flow collection";this.error=new e.YAMLSemanticError(this,M)}}break;case",":this.items.push({char:q,offset:F}),F+=1;break;case"#":{let L=new i;F=L.parse({src:b},F),this.items.push(L)}break;case"?":case":":{let L=b[F+1];if(L===`
`||L==="	"||L===" "||L===","||q===":"&&this.prevNodeIsJsonLike()){this.items.push({char:q,offset:F}),F+=1;break}}default:{let L=D({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:$,parent:this},F);if(!L)return this.valueRange=new e.Range(v,F),F;this.items.push(L),F=e.Node.normalizeOffset(b,L.range.end)}}F=e.Node.endOfWhiteSpace(b,F),q=b[F]}return this.valueRange=new e.Range(v,F+1),q&&(this.items.push({char:q,offset:F}),F=e.Node.endOfWhiteSpace(b,F+1),F=this.parseComment(F)),F}setOrigRanges(T,v){return v=super.setOrigRanges(T,v),this.items.forEach(D=>{if(D instanceof e.Node)v=D.setOrigRanges(T,v);else if(T.length===0)D.origOffset=D.offset;else{let b=v;for(;b<T.length&&!(T[b]>D.offset);)++b;D.origOffset=D.offset+b,v=b}}),v}toString(){let{context:{src:T},items:v,range:D,value:b}=this;if(b!=null)return b;let _=v.filter(F=>F instanceof e.Node),$="",q=D.start;return _.forEach(F=>{let L=T.slice(q,F.range.start);q=F.range.end,$+=L+String(F),$[$.length-1]===`
`&&T[q-1]!==`
`&&T[q]===`
`&&(q+=1)}),$+=T.slice(q,D.end),e.Node.addStringTerminator(T,D.end,$)}},O=class YT extends e.Node{static endOfQuote(v,D){let b=v[D];for(;b&&b!=='"';)D+=b==="\\"?2:1,b=v[D];return D+1}get strValue(){if(!this.valueRange||!this.context)return null;let v=[],{start:D,end:b}=this.valueRange,{indent:_,src:$}=this.context;$[b-1]!=='"'&&v.push(new e.YAMLSyntaxError(this,'Missing closing "quote'));let q="";for(let F=D+1;F<b-1;++F){let L=$[F];if(L===`
`){e.Node.atDocumentBoundary($,F+1)&&v.push(new e.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:M,offset:Y,error:H}=e.Node.foldNewline($,F,_);q+=M,F=Y,H&&v.push(new e.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(L==="\\")switch(F+=1,$[F]){case"0":q+="\0";break;case"a":q+="\x07";break;case"b":q+="\b";break;case"e":q+="\x1B";break;case"f":q+="\f";break;case"n":q+=`
`;break;case"r":q+="\r";break;case"t":q+="	";break;case"v":q+="\v";break;case"N":q+="\x85";break;case"_":q+="\xA0";break;case"L":q+="\u2028";break;case"P":q+="\u2029";break;case" ":q+=" ";break;case'"':q+='"';break;case"/":q+="/";break;case"\\":q+="\\";break;case"	":q+="	";break;case"x":q+=this.parseCharCode(F+1,2,v),F+=2;break;case"u":q+=this.parseCharCode(F+1,4,v),F+=4;break;case"U":q+=this.parseCharCode(F+1,8,v),F+=8;break;case`
`:for(;$[F+1]===" "||$[F+1]==="	";)F+=1;break;default:v.push(new e.YAMLSyntaxError(this,`Invalid escape sequence ${$.substr(F-1,2)}`)),q+="\\"+$[F]}else if(L===" "||L==="	"){let M=F,Y=$[F+1];for(;Y===" "||Y==="	";)F+=1,Y=$[F+1];Y!==`
`&&(q+=F>M?$.slice(M,F+1):L)}else q+=L}return v.length>0?{errors:v,str:q}:q}parseCharCode(v,D,b){let{src:_}=this.context,$=_.substr(v,D),q=$.length===D&&/^[0-9a-fA-F]+$/.test($)?parseInt($,16):NaN;return isNaN(q)?(b.push(new e.YAMLSyntaxError(this,`Invalid escape sequence ${_.substr(v-2,D+2)}`)),_.substr(v-2,D+2)):String.fromCodePoint(q)}parse(v,D){this.context=v;let{src:b}=v,_=YT.endOfQuote(b,D+1);return this.valueRange=new e.Range(D,_),_=e.Node.endOfWhiteSpace(b,_),_=this.parseComment(_),_}},I=class GT extends e.Node{static endOfQuote(v,D){let b=v[D];for(;b;)if(b==="'"){if(v[D+1]!=="'")break;b=v[D+=2]}else b=v[D+=1];return D+1}get strValue(){if(!this.valueRange||!this.context)return null;let v=[],{start:D,end:b}=this.valueRange,{indent:_,src:$}=this.context;$[b-1]!=="'"&&v.push(new e.YAMLSyntaxError(this,"Missing closing 'quote"));let q="";for(let F=D+1;F<b-1;++F){let L=$[F];if(L===`
`){e.Node.atDocumentBoundary($,F+1)&&v.push(new e.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:M,offset:Y,error:H}=e.Node.foldNewline($,F,_);q+=M,F=Y,H&&v.push(new e.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(L==="'")q+=L,F+=1,$[F]!=="'"&&v.push(new e.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(L===" "||L==="	"){let M=F,Y=$[F+1];for(;Y===" "||Y==="	";)F+=1,Y=$[F+1];Y!==`
`&&(q+=F>M?$.slice(M,F+1):L)}else q+=L}return v.length>0?{errors:v,str:q}:q}parse(v,D){this.context=v;let{src:b}=v,_=GT.endOfQuote(b,D+1);return this.valueRange=new e.Range(D,_),_=e.Node.endOfWhiteSpace(b,_),_=this.parseComment(_),_}};function P(T,v){switch(T){case e.Type.ALIAS:return new d(T,v);case e.Type.BLOCK_FOLDED:case e.Type.BLOCK_LITERAL:return new g(T,v);case e.Type.FLOW_MAP:case e.Type.FLOW_SEQ:return new S(T,v);case e.Type.MAP_KEY:case e.Type.MAP_VALUE:case e.Type.SEQ_ITEM:return new r(T,v);case e.Type.COMMENT:case e.Type.PLAIN:return new e.PlainValue(T,v);case e.Type.QUOTE_DOUBLE:return new O(T,v);case e.Type.QUOTE_SINGLE:return new I(T,v);default:return null}}var C=class Hp{static parseType(v,D,b){switch(v[D]){case"*":return e.Type.ALIAS;case">":return e.Type.BLOCK_FOLDED;case"|":return e.Type.BLOCK_LITERAL;case"{":return e.Type.FLOW_MAP;case"[":return e.Type.FLOW_SEQ;case"?":return!b&&e.Node.atBlank(v,D+1,!0)?e.Type.MAP_KEY:e.Type.PLAIN;case":":return!b&&e.Node.atBlank(v,D+1,!0)?e.Type.MAP_VALUE:e.Type.PLAIN;case"-":return!b&&e.Node.atBlank(v,D+1,!0)?e.Type.SEQ_ITEM:e.Type.PLAIN;case'"':return e.Type.QUOTE_DOUBLE;case"'":return e.Type.QUOTE_SINGLE;default:return e.Type.PLAIN}}constructor(v={},{atLineStart:D,inCollection:b,inFlow:_,indent:$,lineStart:q,parent:F}={}){e._defineProperty(this,"parseNode",(L,M)=>{if(e.Node.atDocumentBoundary(this.src,M))return null;let Y=new Hp(this,L),{props:H,type:ne,valueStart:ge}=Y.parseProps(M),pe=P(ne,H),$e=pe.parse(Y,ge);if(pe.range=new e.Range(M,$e),$e<=M&&(pe.error=new Error("Node#parse consumed no characters"),pe.error.parseEnd=$e,pe.error.source=pe,pe.range.end=M+1),Y.nodeStartsCollection(pe)){!pe.error&&!Y.atLineStart&&Y.parent.type===e.Type.DOCUMENT&&(pe.error=new e.YAMLSyntaxError(pe,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let Ve=new a(pe);return $e=Ve.parse(new Hp(Y),$e),Ve.range=new e.Range(M,$e),Ve}return pe}),this.atLineStart=D!=null?D:v.atLineStart||!1,this.inCollection=b!=null?b:v.inCollection||!1,this.inFlow=_!=null?_:v.inFlow||!1,this.indent=$!=null?$:v.indent,this.lineStart=q!=null?q:v.lineStart,this.parent=F!=null?F:v.parent||{},this.root=v.root,this.src=v.src}nodeStartsCollection(v){let{inCollection:D,inFlow:b,src:_}=this;if(D||b)return!1;if(v instanceof r)return!0;let $=v.range.end;return _[$]===`
`||_[$-1]===`
`?!1:($=e.Node.endOfWhiteSpace(_,$),_[$]===":")}parseProps(v){let{inFlow:D,parent:b,src:_}=this,$=[],q=!1;v=this.atLineStart?e.Node.endOfIndent(_,v):e.Node.endOfWhiteSpace(_,v);let F=_[v];for(;F===e.Char.ANCHOR||F===e.Char.COMMENT||F===e.Char.TAG||F===`
`;){if(F===`
`){let M=v,Y;do Y=M+1,M=e.Node.endOfIndent(_,Y);while(_[M]===`
`);let H=M-(Y+this.indent),ne=b.type===e.Type.SEQ_ITEM&&b.context.atLineStart;if(_[M]!=="#"&&!e.Node.nextNodeIsIndented(_[M],H,!ne))break;this.atLineStart=!0,this.lineStart=Y,q=!1,v=M}else if(F===e.Char.COMMENT){let M=e.Node.endOfLine(_,v+1);$.push(new e.Range(v,M)),v=M}else{let M=e.Node.endOfIdentifier(_,v+1);F===e.Char.TAG&&_[M]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(_.slice(v+1,M+13))&&(M=e.Node.endOfIdentifier(_,M+5)),$.push(new e.Range(v,M)),q=!0,v=e.Node.endOfWhiteSpace(_,M)}F=_[v]}q&&F===":"&&e.Node.atBlank(_,v+1,!0)&&(v-=1);let L=Hp.parseType(_,v,D);return{props:$,type:L,valueStart:v}}};function R(T){let v=[];T.indexOf("\r")!==-1&&(T=T.replace(/\r\n?/g,(_,$)=>(_.length>1&&v.push($),`
`)));let D=[],b=0;do{let _=new f,$=new C({src:T});b=_.parse($,b),D.push(_)}while(b<T.length);return D.setOrigRanges=()=>{if(v.length===0)return!1;for(let $=1;$<v.length;++$)v[$]-=$;let _=0;for(let $=0;$<D.length;++$)_=D[$].setOrigRanges(v,_);return v.splice(0,v.length),!0},D.toString=()=>D.join(`...
`),D}t.parse=R}),dl=Os(t=>{var e=ya();function n(Q,V,Z){return Z?`#${Z.replace(/[\s\S]^/gm,`$&${V}#`)}
${V}${Q}`:Q}function r(Q,V,Z){return Z?Z.indexOf(`
`)===-1?`${Q} #${Z}`:`${Q}
`+Z.replace(/^/gm,`${V||""}#`):Q}var i=class{};function s(Q,V,Z){if(Array.isArray(Q))return Q.map((ie,A)=>s(ie,String(A),Z));if(Q&&typeof Q.toJSON=="function"){let ie=Z&&Z.anchors&&Z.anchors.get(Q);ie&&(Z.onCreate=y=>{ie.res=y,delete Z.onCreate});let A=Q.toJSON(V,Z);return ie&&Z.onCreate&&Z.onCreate(A),A}return(!Z||!Z.keep)&&typeof Q=="bigint"?Number(Q):Q}var a=class extends i{constructor(Q){super(),this.value=Q}toJSON(Q,V){return V&&V.keep?this.value:s(this.value,Q,V)}toString(){return String(this.value)}};function l(Q,V,Z){let ie=Z;for(let A=V.length-1;A>=0;--A){let y=V[A];if(Number.isInteger(y)&&y>=0){let w=[];w[y]=ie,ie=w}else{let w={};Object.defineProperty(w,y,{value:ie,writable:!0,enumerable:!0,configurable:!0}),ie=w}}return Q.createNode(ie,!1)}var f=Q=>Q==null||typeof Q=="object"&&Q[Symbol.iterator]().next().done,d=class qa extends i{constructor(V){super(),e._defineProperty(this,"items",[]),this.schema=V}addIn(V,Z){if(f(V))this.add(Z);else{let[ie,...A]=V,y=this.get(ie,!0);if(y instanceof qa)y.addIn(A,Z);else if(y===void 0&&this.schema)this.set(ie,l(this.schema,A,Z));else throw new Error(`Expected YAML collection at ${ie}. Remaining path: ${A}`)}}deleteIn([V,...Z]){if(Z.length===0)return this.delete(V);let ie=this.get(V,!0);if(ie instanceof qa)return ie.deleteIn(Z);throw new Error(`Expected YAML collection at ${V}. Remaining path: ${Z}`)}getIn([V,...Z],ie){let A=this.get(V,!0);return Z.length===0?!ie&&A instanceof a?A.value:A:A instanceof qa?A.getIn(Z,ie):void 0}hasAllNullValues(){return this.items.every(V=>{if(!V||V.type!=="PAIR")return!1;let Z=V.value;return Z==null||Z instanceof a&&Z.value==null&&!Z.commentBefore&&!Z.comment&&!Z.tag})}hasIn([V,...Z]){if(Z.length===0)return this.has(V);let ie=this.get(V,!0);return ie instanceof qa?ie.hasIn(Z):!1}setIn([V,...Z],ie){if(Z.length===0)this.set(V,ie);else{let A=this.get(V,!0);if(A instanceof qa)A.setIn(Z,ie);else if(A===void 0&&this.schema)this.set(V,l(this.schema,Z,ie));else throw new Error(`Expected YAML collection at ${V}. Remaining path: ${Z}`)}}toJSON(){return null}toString(V,{blockItem:Z,flowChars:ie,isMap:A,itemIndent:y},w,B){let{indent:J,indentStep:re,stringify:fe}=V,Ne=this.type===e.Type.FLOW_MAP||this.type===e.Type.FLOW_SEQ||V.inFlow;Ne&&(y+=re);let Xe=A&&this.hasAllNullValues();V=Object.assign({},V,{allNullValues:Xe,indent:y,inFlow:Ne,type:null});let We=!1,Ye=!1,je=this.items.reduce((bn,yt,Ut)=>{let St;yt&&(!We&&yt.spaceBefore&&bn.push({type:"comment",str:""}),yt.commentBefore&&yt.commentBefore.match(/^.*$/gm).forEach(hr=>{bn.push({type:"comment",str:`#${hr}`})}),yt.comment&&(St=yt.comment),Ne&&(!We&&yt.spaceBefore||yt.commentBefore||yt.comment||yt.key&&(yt.key.commentBefore||yt.key.comment)||yt.value&&(yt.value.commentBefore||yt.value.comment))&&(Ye=!0)),We=!1;let An=fe(yt,V,()=>St=null,()=>We=!0);return Ne&&!Ye&&An.includes(`
`)&&(Ye=!0),Ne&&Ut<this.items.length-1&&(An+=","),An=r(An,y,St),We&&(St||Ne)&&(We=!1),bn.push({type:"item",str:An}),bn},[]),Pt;if(je.length===0)Pt=ie.start+ie.end;else if(Ne){let{start:bn,end:yt}=ie,Ut=je.map(St=>St.str);if(Ye||Ut.reduce((St,An)=>St+An.length+2,2)>qa.maxFlowStringSingleLineLength){Pt=bn;for(let St of Ut)Pt+=St?`
${re}${J}${St}`:`
`;Pt+=`
${J}${yt}`}else Pt=`${bn} ${Ut.join(" ")} ${yt}`}else{let bn=je.map(Z);Pt=bn.shift();for(let yt of bn)Pt+=yt?`
${J}${yt}`:`
`}return this.comment?(Pt+=`
`+this.comment.replace(/^/gm,`${J}#`),w&&w()):We&&B&&B(),Pt}};e._defineProperty(d,"maxFlowStringSingleLineLength",60);function h(Q){let V=Q instanceof a?Q.value:Q;return V&&typeof V=="string"&&(V=Number(V)),Number.isInteger(V)&&V>=0?V:null}var g=class extends d{add(Q){this.items.push(Q)}delete(Q){let V=h(Q);return typeof V!="number"?!1:this.items.splice(V,1).length>0}get(Q,V){let Z=h(Q);if(typeof Z!="number")return;let ie=this.items[Z];return!V&&ie instanceof a?ie.value:ie}has(Q){let V=h(Q);return typeof V=="number"&&V<this.items.length}set(Q,V){let Z=h(Q);if(typeof Z!="number")throw new Error(`Expected a valid index, not ${Q}.`);this.items[Z]=V}toJSON(Q,V){let Z=[];V&&V.onCreate&&V.onCreate(Z);let ie=0;for(let A of this.items)Z.push(s(A,String(ie++),V));return Z}toString(Q,V,Z){return Q?super.toString(Q,{blockItem:ie=>ie.type==="comment"?ie.str:`- ${ie.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(Q.indent||"")+"  "},V,Z):JSON.stringify(this)}},S=(Q,V,Z)=>V===null?"":typeof V!="object"?String(V):Q instanceof i&&Z&&Z.doc?Q.toString({anchors:Object.create(null),doc:Z.doc,indent:"",indentStep:Z.indentStep,inFlow:!0,inStringifyKey:!0,stringify:Z.stringify}):JSON.stringify(V),O=class JT extends i{constructor(V,Z=null){super(),this.key=V,this.value=Z,this.type=JT.Type.PAIR}get commentBefore(){return this.key instanceof i?this.key.commentBefore:void 0}set commentBefore(V){if(this.key==null&&(this.key=new a(null)),this.key instanceof i)this.key.commentBefore=V;else{let Z="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(Z)}}addToJSMap(V,Z){let ie=s(this.key,"",V);if(Z instanceof Map){let A=s(this.value,ie,V);Z.set(ie,A)}else if(Z instanceof Set)Z.add(ie);else{let A=S(this.key,ie,V),y=s(this.value,A,V);A in Z?Object.defineProperty(Z,A,{value:y,writable:!0,enumerable:!0,configurable:!0}):Z[A]=y}return Z}toJSON(V,Z){let ie=Z&&Z.mapAsMap?new Map:{};return this.addToJSMap(Z,ie)}toString(V,Z,ie){if(!V||!V.doc)return JSON.stringify(this);let{indent:A,indentSeq:y,simpleKeys:w}=V.doc.options,{key:B,value:J}=this,re=B instanceof i&&B.comment;if(w){if(re)throw new Error("With simple keys, key nodes cannot have comments");if(B instanceof d){let An="With simple keys, collection cannot be used as a key value";throw new Error(An)}}let fe=!w&&(!B||re||(B instanceof i?B instanceof d||B.type===e.Type.BLOCK_FOLDED||B.type===e.Type.BLOCK_LITERAL:typeof B=="object")),{doc:Ne,indent:Xe,indentStep:We,stringify:Ye}=V;V=Object.assign({},V,{implicitKey:!fe,indent:Xe+We});let je=!1,Pt=Ye(B,V,()=>re=null,()=>je=!0);if(Pt=r(Pt,V.indent,re),!fe&&Pt.length>1024){if(w)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");fe=!0}if(V.allNullValues&&!w)return this.comment?(Pt=r(Pt,V.indent,this.comment),Z&&Z()):je&&!re&&ie&&ie(),V.inFlow&&!fe?Pt:`? ${Pt}`;Pt=fe?`? ${Pt}
${Xe}:`:`${Pt}:`,this.comment&&(Pt=r(Pt,V.indent,this.comment),Z&&Z());let bn="",yt=null;if(J instanceof i){if(J.spaceBefore&&(bn=`
`),J.commentBefore){let An=J.commentBefore.replace(/^/gm,`${V.indent}#`);bn+=`
${An}`}yt=J.comment}else J&&typeof J=="object"&&(J=Ne.schema.createNode(J,!0));V.implicitKey=!1,!fe&&!this.comment&&J instanceof a&&(V.indentAtStart=Pt.length+1),je=!1,!y&&A>=2&&!V.inFlow&&!fe&&J instanceof g&&J.type!==e.Type.FLOW_SEQ&&!J.tag&&!Ne.anchors.getName(J)&&(V.indent=V.indent.substr(2));let Ut=Ye(J,V,()=>yt=null,()=>je=!0),St=" ";return bn||this.comment?St=`${bn}
${V.indent}`:!fe&&J instanceof d?(!(Ut[0]==="["||Ut[0]==="{")||Ut.includes(`
`))&&(St=`
${V.indent}`):Ut[0]===`
`&&(St=""),je&&!yt&&ie&&ie(),r(Pt+St+Ut,V.indent,yt)}};e._defineProperty(O,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var I=(Q,V)=>{if(Q instanceof P){let Z=V.get(Q.source);return Z.count*Z.aliasCount}else if(Q instanceof d){let Z=0;for(let ie of Q.items){let A=I(ie,V);A>Z&&(Z=A)}return Z}else if(Q instanceof O){let Z=I(Q.key,V),ie=I(Q.value,V);return Math.max(Z,ie)}return 1},P=class QT extends i{static stringify({range:V,source:Z},{anchors:ie,doc:A,implicitKey:y,inStringifyKey:w}){let B=Object.keys(ie).find(re=>ie[re]===Z);if(!B&&w&&(B=A.anchors.getName(Z)||A.anchors.newName()),B)return`*${B}${y?" ":""}`;let J=A.anchors.getName(Z)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${J} [${V}]`)}constructor(V){super(),this.source=V,this.type=e.Type.ALIAS}set tag(V){throw new Error("Alias nodes cannot have tags")}toJSON(V,Z){if(!Z)return s(this.source,V,Z);let{anchors:ie,maxAliasCount:A}=Z,y=ie.get(this.source);if(!y||y.res===void 0){let w="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new e.YAMLReferenceError(this.cstNode,w):new ReferenceError(w)}if(A>=0&&(y.count+=1,y.aliasCount===0&&(y.aliasCount=I(this.source,ie)),y.count*y.aliasCount>A)){let w="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new e.YAMLReferenceError(this.cstNode,w):new ReferenceError(w)}return y.res}toString(V){return QT.stringify(this,V)}};e._defineProperty(P,"default",!0);function C(Q,V){let Z=V instanceof a?V.value:V;for(let ie of Q)if(ie instanceof O&&(ie.key===V||ie.key===Z||ie.key&&ie.key.value===Z))return ie}var R=class extends d{add(Q,V){Q?Q instanceof O||(Q=new O(Q.key||Q,Q.value)):Q=new O(Q);let Z=C(this.items,Q.key),ie=this.schema&&this.schema.sortMapEntries;if(Z)if(V)Z.value=Q.value;else throw new Error(`Key ${Q.key} already set`);else if(ie){let A=this.items.findIndex(y=>ie(Q,y)<0);A===-1?this.items.push(Q):this.items.splice(A,0,Q)}else this.items.push(Q)}delete(Q){let V=C(this.items,Q);return V?this.items.splice(this.items.indexOf(V),1).length>0:!1}get(Q,V){let Z=C(this.items,Q),ie=Z&&Z.value;return!V&&ie instanceof a?ie.value:ie}has(Q){return!!C(this.items,Q)}set(Q,V){this.add(new O(Q,V),!0)}toJSON(Q,V,Z){let ie=Z?new Z:V&&V.mapAsMap?new Map:{};V&&V.onCreate&&V.onCreate(ie);for(let A of this.items)A.addToJSMap(V,ie);return ie}toString(Q,V,Z){if(!Q)return JSON.stringify(this);for(let ie of this.items)if(!(ie instanceof O))throw new Error(`Map items must all be pairs; found ${JSON.stringify(ie)} instead`);return super.toString(Q,{blockItem:ie=>ie.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:Q.indent||""},V,Z)}},T="<<",v=class extends O{constructor(Q){if(Q instanceof O){let V=Q.value;V instanceof g||(V=new g,V.items.push(Q.value),V.range=Q.value.range),super(Q.key,V),this.range=Q.range}else super(new a(T),new g);this.type=O.Type.MERGE_PAIR}addToJSMap(Q,V){for(let{source:Z}of this.value.items){if(!(Z instanceof R))throw new Error("Merge sources must be maps");let ie=Z.toJSON(null,Q,Map);for(let[A,y]of ie)V instanceof Map?V.has(A)||V.set(A,y):V instanceof Set?V.add(A):Object.prototype.hasOwnProperty.call(V,A)||Object.defineProperty(V,A,{value:y,writable:!0,enumerable:!0,configurable:!0})}return V}toString(Q,V){let Z=this.value;if(Z.items.length>1)return super.toString(Q,V);this.value=Z.items[0];let ie=super.toString(Q,V);return this.value=Z,ie}},D={defaultType:e.Type.BLOCK_LITERAL,lineWidth:76},b={trueStr:"true",falseStr:"false"},_={asBigInt:!1},$={nullStr:"null"},q={defaultType:e.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function F(Q,V,Z){for(let{format:ie,test:A,resolve:y}of V)if(A){let w=Q.match(A);if(w){let B=y.apply(null,w);return B instanceof a||(B=new a(B)),ie&&(B.format=ie),B}}return Z&&(Q=Z(Q)),new a(Q)}var L="flow",M="block",Y="quoted",H=(Q,V)=>{let Z=Q[V+1];for(;Z===" "||Z==="	";){do Z=Q[V+=1];while(Z&&Z!==`
`);Z=Q[V+1]}return V};function ne(Q,V,Z,{indentAtStart:ie,lineWidth:A=80,minContentWidth:y=20,onFold:w,onOverflow:B}){if(!A||A<0)return Q;let J=Math.max(1+y,1+A-V.length);if(Q.length<=J)return Q;let re=[],fe={},Ne=A-V.length;typeof ie=="number"&&(ie>A-Math.max(2,y)?re.push(0):Ne=A-ie);let Xe,We,Ye=!1,je=-1,Pt=-1,bn=-1;Z===M&&(je=H(Q,je),je!==-1&&(Ne=je+J));for(let Ut;Ut=Q[je+=1];){if(Z===Y&&Ut==="\\"){switch(Pt=je,Q[je+1]){case"x":je+=3;break;case"u":je+=5;break;case"U":je+=9;break;default:je+=1}bn=je}if(Ut===`
`)Z===M&&(je=H(Q,je)),Ne=je+J,Xe=void 0;else{if(Ut===" "&&We&&We!==" "&&We!==`
`&&We!=="	"){let St=Q[je+1];St&&St!==" "&&St!==`
`&&St!=="	"&&(Xe=je)}if(je>=Ne)if(Xe)re.push(Xe),Ne=Xe+J,Xe=void 0;else if(Z===Y){for(;We===" "||We==="	";)We=Ut,Ut=Q[je+=1],Ye=!0;let St=je>bn+1?je-2:Pt-1;if(fe[St])return Q;re.push(St),fe[St]=!0,Ne=St+J,Xe=void 0}else Ye=!0}We=Ut}if(Ye&&B&&B(),re.length===0)return Q;w&&w();let yt=Q.slice(0,re[0]);for(let Ut=0;Ut<re.length;++Ut){let St=re[Ut],An=re[Ut+1]||Q.length;St===0?yt=`
${V}${Q.slice(0,An)}`:(Z===Y&&fe[St]&&(yt+=`${Q[St]}\\`),yt+=`
${V}${Q.slice(St+1,An)}`)}return yt}var ge=({indentAtStart:Q})=>Q?Object.assign({indentAtStart:Q},q.fold):q.fold,pe=Q=>/^(%|---|\.\.\.)/m.test(Q);function $e(Q,V,Z){if(!V||V<0)return!1;let ie=V-Z,A=Q.length;if(A<=ie)return!1;for(let y=0,w=0;y<A;++y)if(Q[y]===`
`){if(y-w>ie)return!0;if(w=y+1,A-w<=ie)return!1}return!0}function Ve(Q,V){let{implicitKey:Z}=V,{jsonEncoding:ie,minMultiLineLength:A}=q.doubleQuoted,y=JSON.stringify(Q);if(ie)return y;let w=V.indent||(pe(Q)?"  ":""),B="",J=0;for(let re=0,fe=y[re];fe;fe=y[++re])if(fe===" "&&y[re+1]==="\\"&&y[re+2]==="n"&&(B+=y.slice(J,re)+"\\ ",re+=1,J=re,fe="\\"),fe==="\\")switch(y[re+1]){case"u":{B+=y.slice(J,re);let Ne=y.substr(re+2,4);switch(Ne){case"0000":B+="\\0";break;case"0007":B+="\\a";break;case"000b":B+="\\v";break;case"001b":B+="\\e";break;case"0085":B+="\\N";break;case"00a0":B+="\\_";break;case"2028":B+="\\L";break;case"2029":B+="\\P";break;default:Ne.substr(0,2)==="00"?B+="\\x"+Ne.substr(2):B+=y.substr(re,6)}re+=5,J=re+1}break;case"n":if(Z||y[re+2]==='"'||y.length<A)re+=1;else{for(B+=y.slice(J,re)+`

`;y[re+2]==="\\"&&y[re+3]==="n"&&y[re+4]!=='"';)B+=`
`,re+=2;B+=w,y[re+2]===" "&&(B+="\\"),re+=1,J=re+1}break;default:re+=1}return B=J?B+y.slice(J):y,Z?B:ne(B,w,Y,ge(V))}function lt(Q,V){if(V.implicitKey){if(/\n/.test(Q))return Ve(Q,V)}else if(/[ \t]\n|\n[ \t]/.test(Q))return Ve(Q,V);let Z=V.indent||(pe(Q)?"  ":""),ie="'"+Q.replace(/'/g,"''").replace(/\n+/g,`$&
${Z}`)+"'";return V.implicitKey?ie:ne(ie,Z,L,ge(V))}function Se({comment:Q,type:V,value:Z},ie,A,y){if(/\n[\t ]+$/.test(Z)||/^\s*$/.test(Z))return Ve(Z,ie);let w=ie.indent||(ie.forceBlockIndent||pe(Z)?"  ":""),B=w?"2":"1",J=V===e.Type.BLOCK_FOLDED?!1:V===e.Type.BLOCK_LITERAL?!0:!$e(Z,q.fold.lineWidth,w.length),re=J?"|":">";if(!Z)return re+`
`;let fe="",Ne="";if(Z=Z.replace(/[\n\t ]*$/,We=>{let Ye=We.indexOf(`
`);return Ye===-1?re+="-":(Z===We||Ye!==We.length-1)&&(re+="+",y&&y()),Ne=We.replace(/\n$/,""),""}).replace(/^[\n ]*/,We=>{We.indexOf(" ")!==-1&&(re+=B);let Ye=We.match(/ +$/);return Ye?(fe=We.slice(0,-Ye[0].length),Ye[0]):(fe=We,"")}),Ne&&(Ne=Ne.replace(/\n+(?!\n|$)/g,`$&${w}`)),fe&&(fe=fe.replace(/\n+/g,`$&${w}`)),Q&&(re+=" #"+Q.replace(/ ?[\r\n]+/g," "),A&&A()),!Z)return`${re}${B}
${w}${Ne}`;if(J)return Z=Z.replace(/\n+/g,`$&${w}`),`${re}
${w}${fe}${Z}${Ne}`;Z=Z.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${w}`);let Xe=ne(`${fe}${Z}${Ne}`,w,M,q.fold);return`${re}
${w}${Xe}`}function K(Q,V,Z,ie){let{comment:A,type:y,value:w}=Q,{actualString:B,implicitKey:J,indent:re,inFlow:fe}=V;if(J&&/[\n[\]{},]/.test(w)||fe&&/[[\]{},]/.test(w))return Ve(w,V);if(!w||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(w))return J||fe||w.indexOf(`
`)===-1?w.indexOf('"')!==-1&&w.indexOf("'")===-1?lt(w,V):Ve(w,V):Se(Q,V,Z,ie);if(!J&&!fe&&y!==e.Type.PLAIN&&w.indexOf(`
`)!==-1)return Se(Q,V,Z,ie);if(re===""&&pe(w))return V.forceBlockIndent=!0,Se(Q,V,Z,ie);let Ne=w.replace(/\n+/g,`$&
${re}`);if(B){let{tags:We}=V.doc.schema;if(typeof F(Ne,We,We.scalarFallback).value!="string")return Ve(w,V)}let Xe=J?Ne:ne(Ne,re,L,ge(V));return A&&!fe&&(Xe.indexOf(`
`)!==-1||A.indexOf(`
`)!==-1)?(Z&&Z(),n(Xe,re,A)):Xe}function de(Q,V,Z,ie){let{defaultType:A}=q,{implicitKey:y,inFlow:w}=V,{type:B,value:J}=Q;typeof J!="string"&&(J=String(J),Q=Object.assign({},Q,{value:J}));let re=Ne=>{switch(Ne){case e.Type.BLOCK_FOLDED:case e.Type.BLOCK_LITERAL:return Se(Q,V,Z,ie);case e.Type.QUOTE_DOUBLE:return Ve(J,V);case e.Type.QUOTE_SINGLE:return lt(J,V);case e.Type.PLAIN:return K(Q,V,Z,ie);default:return null}};(B!==e.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(J)||(y||w)&&(B===e.Type.BLOCK_FOLDED||B===e.Type.BLOCK_LITERAL))&&(B=e.Type.QUOTE_DOUBLE);let fe=re(B);if(fe===null&&(fe=re(A),fe===null))throw new Error(`Unsupported default string type ${A}`);return fe}function ce({format:Q,minFractionDigits:V,tag:Z,value:ie}){if(typeof ie=="bigint")return String(ie);if(!isFinite(ie))return isNaN(ie)?".nan":ie<0?"-.inf":".inf";let A=JSON.stringify(ie);if(!Q&&V&&(!Z||Z==="tag:yaml.org,2002:float")&&/^\d/.test(A)){let y=A.indexOf(".");y<0&&(y=A.length,A+=".");let w=V-(A.length-y-1);for(;w-- >0;)A+="0"}return A}function U(Q,V){let Z,ie;switch(V.type){case e.Type.FLOW_MAP:Z="}",ie="flow map";break;case e.Type.FLOW_SEQ:Z="]",ie="flow sequence";break;default:Q.push(new e.YAMLSemanticError(V,"Not a flow collection!?"));return}let A;for(let y=V.items.length-1;y>=0;--y){let w=V.items[y];if(!w||w.type!==e.Type.COMMENT){A=w;break}}if(A&&A.char!==Z){let y=`Expected ${ie} to end with ${Z}`,w;typeof A.offset=="number"?(w=new e.YAMLSemanticError(V,y),w.offset=A.offset+1):(w=new e.YAMLSemanticError(A,y),A.range&&A.range.end&&(w.offset=A.range.end-A.range.start)),Q.push(w)}}function te(Q,V){let Z=V.context.src[V.range.start-1];if(Z!==`
`&&Z!=="	"&&Z!==" "){let ie="Comments must be separated from other tokens by white space characters";Q.push(new e.YAMLSemanticError(V,ie))}}function ye(Q,V){let Z=String(V),ie=Z.substr(0,8)+"..."+Z.substr(-8);return new e.YAMLSemanticError(Q,`The "${ie}" key is too long`)}function Ie(Q,V){for(let{afterKey:Z,before:ie,comment:A}of V){let y=Q.items[ie];y?(Z&&y.value&&(y=y.value),A===void 0?(Z||!y.commentBefore)&&(y.spaceBefore=!0):y.commentBefore?y.commentBefore+=`
`+A:y.commentBefore=A):A!==void 0&&(Q.comment?Q.comment+=`
`+A:Q.comment=A)}}function Le(Q,V){let Z=V.strValue;return Z?typeof Z=="string"?Z:(Z.errors.forEach(ie=>{ie.source||(ie.source=V),Q.errors.push(ie)}),Z.str):""}function ze(Q,V){let{handle:Z,suffix:ie}=V.tag,A=Q.tagPrefixes.find(y=>y.handle===Z);if(!A){let y=Q.getDefaults().tagPrefixes;if(y&&(A=y.find(w=>w.handle===Z)),!A)throw new e.YAMLSemanticError(V,`The ${Z} tag handle is non-default and was not declared.`)}if(!ie)throw new e.YAMLSemanticError(V,`The ${Z} tag has no suffix.`);if(Z==="!"&&(Q.version||Q.options.version)==="1.0"){if(ie[0]==="^")return Q.warnings.push(new e.YAMLWarning(V,"YAML 1.0 ^ tag expansion is not supported")),ie;if(/[:/]/.test(ie)){let y=ie.match(/^([a-z0-9-]+)\/(.*)/i);return y?`tag:${y[1]}.yaml.org,2002:${y[2]}`:`tag:${ie}`}}return A.prefix+decodeURIComponent(ie)}function Je(Q,V){let{tag:Z,type:ie}=V,A=!1;if(Z){let{handle:y,suffix:w,verbatim:B}=Z;if(B){if(B!=="!"&&B!=="!!")return B;let J=`Verbatim tags aren't resolved, so ${B} is invalid.`;Q.errors.push(new e.YAMLSemanticError(V,J))}else if(y==="!"&&!w)A=!0;else try{return ze(Q,V)}catch(J){Q.errors.push(J)}}switch(ie){case e.Type.BLOCK_FOLDED:case e.Type.BLOCK_LITERAL:case e.Type.QUOTE_DOUBLE:case e.Type.QUOTE_SINGLE:return e.defaultTags.STR;case e.Type.FLOW_MAP:case e.Type.MAP:return e.defaultTags.MAP;case e.Type.FLOW_SEQ:case e.Type.SEQ:return e.defaultTags.SEQ;case e.Type.PLAIN:return A?e.defaultTags.STR:null;default:return null}}function et(Q,V,Z){let{tags:ie}=Q.schema,A=[];for(let w of ie)if(w.tag===Z)if(w.test)A.push(w);else{let B=w.resolve(Q,V);return B instanceof d?B:new a(B)}let y=Le(Q,V);return typeof y=="string"&&A.length>0?F(y,A,ie.scalarFallback):null}function rt({type:Q}){switch(Q){case e.Type.FLOW_MAP:case e.Type.MAP:return e.defaultTags.MAP;case e.Type.FLOW_SEQ:case e.Type.SEQ:return e.defaultTags.SEQ;default:return e.defaultTags.STR}}function tn(Q,V,Z){try{let ie=et(Q,V,Z);if(ie)return Z&&V.tag&&(ie.tag=Z),ie}catch(ie){return ie.source||(ie.source=V),Q.errors.push(ie),null}try{let ie=rt(V);if(!ie)throw new Error(`The tag ${Z} is unavailable`);let A=`The tag ${Z} is unavailable, falling back to ${ie}`;Q.warnings.push(new e.YAMLWarning(V,A));let y=et(Q,V,ie);return y.tag=Z,y}catch(ie){let A=new e.YAMLReferenceError(V,ie.message);return A.stack=ie.stack,Q.errors.push(A),null}}var tt=Q=>{if(!Q)return!1;let{type:V}=Q;return V===e.Type.MAP_KEY||V===e.Type.MAP_VALUE||V===e.Type.SEQ_ITEM};function qt(Q,V){let Z={before:[],after:[]},ie=!1,A=!1,y=tt(V.context.parent)?V.context.parent.props.concat(V.props):V.props;for(let{start:w,end:B}of y)switch(V.context.src[w]){case e.Char.COMMENT:{if(!V.commentHasRequiredWhitespace(w)){let fe="Comments must be separated from other tokens by white space characters";Q.push(new e.YAMLSemanticError(V,fe))}let{header:J,valueRange:re}=V;(re&&(w>re.start||J&&w>J.start)?Z.after:Z.before).push(V.context.src.slice(w+1,B));break}case e.Char.ANCHOR:if(ie){let J="A node can have at most one anchor";Q.push(new e.YAMLSemanticError(V,J))}ie=!0;break;case e.Char.TAG:if(A){let J="A node can have at most one tag";Q.push(new e.YAMLSemanticError(V,J))}A=!0;break}return{comments:Z,hasAnchor:ie,hasTag:A}}function Gt(Q,V){let{anchors:Z,errors:ie,schema:A}=Q;if(V.type===e.Type.ALIAS){let w=V.rawValue,B=Z.getNode(w);if(!B){let re=`Aliased anchor not found: ${w}`;return ie.push(new e.YAMLReferenceError(V,re)),null}let J=new P(B);return Z._cstAliases.push(J),J}let y=Je(Q,V);if(y)return tn(Q,V,y);if(V.type!==e.Type.PLAIN){let w=`Failed to resolve ${V.type} node here`;return ie.push(new e.YAMLSyntaxError(V,w)),null}try{let w=Le(Q,V);return F(w,A.tags,A.tags.scalarFallback)}catch(w){return w.source||(w.source=V),ie.push(w),null}}function _t(Q,V){if(!V)return null;V.error&&Q.errors.push(V.error);let{comments:Z,hasAnchor:ie,hasTag:A}=qt(Q.errors,V);if(ie){let{anchors:w}=Q,B=V.anchor,J=w.getNode(B);J&&(w.map[w.newName(B)]=J),w.map[B]=V}if(V.type===e.Type.ALIAS&&(ie||A)){let w="An alias node must not specify any properties";Q.errors.push(new e.YAMLSemanticError(V,w))}let y=Gt(Q,V);if(y){y.range=[V.range.start,V.range.end],Q.options.keepCstNodes&&(y.cstNode=V),Q.options.keepNodeTypes&&(y.type=V.type);let w=Z.before.join(`
`);w&&(y.commentBefore=y.commentBefore?`${y.commentBefore}
${w}`:w);let B=Z.after.join(`
`);B&&(y.comment=y.comment?`${y.comment}
${B}`:B)}return V.resolved=y}function Dn(Q,V){if(V.type!==e.Type.MAP&&V.type!==e.Type.FLOW_MAP){let w=`A ${V.type} node cannot be resolved as a mapping`;return Q.errors.push(new e.YAMLSyntaxError(V,w)),null}let{comments:Z,items:ie}=V.type===e.Type.FLOW_MAP?un(Q,V):mt(Q,V),A=new R;A.items=ie,Ie(A,Z);let y=!1;for(let w=0;w<ie.length;++w){let{key:B}=ie[w];if(B instanceof d&&(y=!0),Q.schema.merge&&B&&B.value===T){ie[w]=new v(ie[w]);let J=ie[w].value.items,re=null;J.some(fe=>{if(fe instanceof P){let{type:Ne}=fe.source;return Ne===e.Type.MAP||Ne===e.Type.FLOW_MAP?!1:re="Merge nodes aliases can only point to maps"}return re="Merge nodes can only have Alias nodes as values"}),re&&Q.errors.push(new e.YAMLSemanticError(V,re))}else for(let J=w+1;J<ie.length;++J){let{key:re}=ie[J];if(B===re||B&&re&&Object.prototype.hasOwnProperty.call(B,"value")&&B.value===re.value){let fe=`Map keys must be unique; "${B}" is repeated`;Q.errors.push(new e.YAMLSemanticError(V,fe));break}}}if(y&&!Q.options.mapAsMap){let w="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";Q.warnings.push(new e.YAMLWarning(V,w))}return V.resolved=A,A}var nn=({context:{lineStart:Q,node:V,src:Z},props:ie})=>{if(ie.length===0)return!1;let{start:A}=ie[0];if(V&&A>V.valueRange.start||Z[A]!==e.Char.COMMENT)return!1;for(let y=Q;y<A;++y)if(Z[y]===`
`)return!1;return!0};function Yt(Q,V){if(!nn(Q))return;let Z=Q.getPropValue(0,e.Char.COMMENT,!0),ie=!1,A=V.value.commentBefore;if(A&&A.startsWith(Z))V.value.commentBefore=A.substr(Z.length+1),ie=!0;else{let y=V.value.comment;!Q.node&&y&&y.startsWith(Z)&&(V.value.comment=y.substr(Z.length+1),ie=!0)}ie&&(V.comment=Z)}function mt(Q,V){let Z=[],ie=[],A,y=null;for(let w=0;w<V.items.length;++w){let B=V.items[w];switch(B.type){case e.Type.BLANK_LINE:Z.push({afterKey:!!A,before:ie.length});break;case e.Type.COMMENT:Z.push({afterKey:!!A,before:ie.length,comment:B.comment});break;case e.Type.MAP_KEY:A!==void 0&&ie.push(new O(A)),B.error&&Q.errors.push(B.error),A=_t(Q,B.node),y=null;break;case e.Type.MAP_VALUE:{if(A===void 0&&(A=null),B.error&&Q.errors.push(B.error),!B.context.atLineStart&&B.node&&B.node.type===e.Type.MAP&&!B.node.context.atLineStart){let fe="Nested mappings are not allowed in compact mappings";Q.errors.push(new e.YAMLSemanticError(B.node,fe))}let J=B.node;if(!J&&B.props.length>0){J=new e.PlainValue(e.Type.PLAIN,[]),J.context={parent:B,src:B.context.src};let fe=B.range.start+1;if(J.range={start:fe,end:fe},J.valueRange={start:fe,end:fe},typeof B.range.origStart=="number"){let Ne=B.range.origStart+1;J.range.origStart=J.range.origEnd=Ne,J.valueRange.origStart=J.valueRange.origEnd=Ne}}let re=new O(A,_t(Q,J));Yt(B,re),ie.push(re),A&&typeof y=="number"&&B.range.start>y+1024&&Q.errors.push(ye(V,A)),A=void 0,y=null}break;default:A!==void 0&&ie.push(new O(A)),A=_t(Q,B),y=B.range.start,B.error&&Q.errors.push(B.error);e:for(let J=w+1;;++J){let re=V.items[J];switch(re&&re.type){case e.Type.BLANK_LINE:case e.Type.COMMENT:continue e;case e.Type.MAP_VALUE:break e;default:{let fe="Implicit map keys need to be followed by map values";Q.errors.push(new e.YAMLSemanticError(B,fe));break e}}}if(B.valueRangeContainsNewline){let J="Implicit map keys need to be on a single line";Q.errors.push(new e.YAMLSemanticError(B,J))}}}return A!==void 0&&ie.push(new O(A)),{comments:Z,items:ie}}function un(Q,V){let Z=[],ie=[],A,y=!1,w="{";for(let B=0;B<V.items.length;++B){let J=V.items[B];if(typeof J.char=="string"){let{char:re,offset:fe}=J;if(re==="?"&&A===void 0&&!y){y=!0,w=":";continue}if(re===":"){if(A===void 0&&(A=null),w===":"){w=",";continue}}else if(y&&(A===void 0&&re!==","&&(A=null),y=!1),A!==void 0&&(ie.push(new O(A)),A=void 0,re===",")){w=":";continue}if(re==="}"){if(B===V.items.length-1)continue}else if(re===w){w=":";continue}let Ne=`Flow map contains an unexpected ${re}`,Xe=new e.YAMLSyntaxError(V,Ne);Xe.offset=fe,Q.errors.push(Xe)}else J.type===e.Type.BLANK_LINE?Z.push({afterKey:!!A,before:ie.length}):J.type===e.Type.COMMENT?(te(Q.errors,J),Z.push({afterKey:!!A,before:ie.length,comment:J.comment})):A===void 0?(w===","&&Q.errors.push(new e.YAMLSemanticError(J,"Separator , missing in flow map")),A=_t(Q,J)):(w!==","&&Q.errors.push(new e.YAMLSemanticError(J,"Indicator : missing in flow map entry")),ie.push(new O(A,_t(Q,J))),A=void 0,y=!1)}return U(Q.errors,V),A!==void 0&&ie.push(new O(A)),{comments:Z,items:ie}}function dn(Q,V){if(V.type!==e.Type.SEQ&&V.type!==e.Type.FLOW_SEQ){let y=`A ${V.type} node cannot be resolved as a sequence`;return Q.errors.push(new e.YAMLSyntaxError(V,y)),null}let{comments:Z,items:ie}=V.type===e.Type.FLOW_SEQ?gt(Q,V):vn(Q,V),A=new g;if(A.items=ie,Ie(A,Z),!Q.options.mapAsMap&&ie.some(y=>y instanceof O&&y.key instanceof d)){let y="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";Q.warnings.push(new e.YAMLWarning(V,y))}return V.resolved=A,A}function vn(Q,V){let Z=[],ie=[];for(let A=0;A<V.items.length;++A){let y=V.items[A];switch(y.type){case e.Type.BLANK_LINE:Z.push({before:ie.length});break;case e.Type.COMMENT:Z.push({comment:y.comment,before:ie.length});break;case e.Type.SEQ_ITEM:if(y.error&&Q.errors.push(y.error),ie.push(_t(Q,y.node)),y.hasProps){let w="Sequence items cannot have tags or anchors before the - indicator";Q.errors.push(new e.YAMLSemanticError(y,w))}break;default:y.error&&Q.errors.push(y.error),Q.errors.push(new e.YAMLSyntaxError(y,`Unexpected ${y.type} node in sequence`))}}return{comments:Z,items:ie}}function gt(Q,V){let Z=[],ie=[],A=!1,y,w=null,B="[",J=null;for(let re=0;re<V.items.length;++re){let fe=V.items[re];if(typeof fe.char=="string"){let{char:Ne,offset:Xe}=fe;if(Ne!==":"&&(A||y!==void 0)&&(A&&y===void 0&&(y=B?ie.pop():null),ie.push(new O(y)),A=!1,y=void 0,w=null),Ne===B)B=null;else if(!B&&Ne==="?")A=!0;else if(B!=="["&&Ne===":"&&y===void 0){if(B===","){if(y=ie.pop(),y instanceof O){let We="Chaining flow sequence pairs is invalid",Ye=new e.YAMLSemanticError(V,We);Ye.offset=Xe,Q.errors.push(Ye)}if(!A&&typeof w=="number"){let We=fe.range?fe.range.start:fe.offset;We>w+1024&&Q.errors.push(ye(V,y));let{src:Ye}=J.context;for(let je=w;je<We;++je)if(Ye[je]===`
`){let Pt="Implicit keys of flow sequence pairs need to be on a single line";Q.errors.push(new e.YAMLSemanticError(J,Pt));break}}}else y=null;w=null,A=!1,B=null}else if(B==="["||Ne!=="]"||re<V.items.length-1){let We=`Flow sequence contains an unexpected ${Ne}`,Ye=new e.YAMLSyntaxError(V,We);Ye.offset=Xe,Q.errors.push(Ye)}}else if(fe.type===e.Type.BLANK_LINE)Z.push({before:ie.length});else if(fe.type===e.Type.COMMENT)te(Q.errors,fe),Z.push({comment:fe.comment,before:ie.length});else{if(B){let Xe=`Expected a ${B} in flow sequence`;Q.errors.push(new e.YAMLSemanticError(fe,Xe))}let Ne=_t(Q,fe);y===void 0?(ie.push(Ne),J=fe):(ie.push(new O(y,Ne)),y=void 0),w=fe.range.start,B=","}}return U(Q.errors,V),y!==void 0&&ie.push(new O(y)),{comments:Z,items:ie}}t.Alias=P,t.Collection=d,t.Merge=v,t.Node=i,t.Pair=O,t.Scalar=a,t.YAMLMap=R,t.YAMLSeq=g,t.addComment=r,t.binaryOptions=D,t.boolOptions=b,t.findPair=C,t.intOptions=_,t.isEmptyPath=f,t.nullOptions=$,t.resolveMap=Dn,t.resolveNode=_t,t.resolveSeq=dn,t.resolveString=Le,t.strOptions=q,t.stringifyNumber=ce,t.stringifyString=de,t.toJSON=s}),O$=Os(t=>{var e=ya(),n=dl(),r={identify:F=>F instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(F,L)=>{let M=n.resolveString(F,L);if(typeof Xi=="function")return Xi.from(M,"base64");if(typeof atob=="function"){let Y=atob(M.replace(/[\n\r]/g,"")),H=new Uint8Array(Y.length);for(let ne=0;ne<Y.length;++ne)H[ne]=Y.charCodeAt(ne);return H}else{let Y="This environment does not support reading binary tags; either Buffer or atob is required";return F.errors.push(new e.YAMLReferenceError(L,Y)),null}},options:n.binaryOptions,stringify:({comment:F,type:L,value:M},Y,H,ne)=>{let ge;if(typeof Xi=="function")ge=M instanceof Xi?M.toString("base64"):Xi.from(M.buffer).toString("base64");else if(typeof btoa=="function"){let pe="";for(let $e=0;$e<M.length;++$e)pe+=String.fromCharCode(M[$e]);ge=btoa(pe)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(L||(L=n.binaryOptions.defaultType),L===e.Type.QUOTE_DOUBLE)M=ge;else{let{lineWidth:pe}=n.binaryOptions,$e=Math.ceil(ge.length/pe),Ve=new Array($e);for(let lt=0,Se=0;lt<$e;++lt,Se+=pe)Ve[lt]=ge.substr(Se,pe);M=Ve.join(L===e.Type.BLOCK_LITERAL?`
`:" ")}return n.stringifyString({comment:F,type:L,value:M},Y,H,ne)}};function i(F,L){let M=n.resolveSeq(F,L);for(let Y=0;Y<M.items.length;++Y){let H=M.items[Y];if(!(H instanceof n.Pair)){if(H instanceof n.YAMLMap){if(H.items.length>1){let ge="Each pair must have its own sequence indicator";throw new e.YAMLSemanticError(L,ge)}let ne=H.items[0]||new n.Pair;H.commentBefore&&(ne.commentBefore=ne.commentBefore?`${H.commentBefore}
${ne.commentBefore}`:H.commentBefore),H.comment&&(ne.comment=ne.comment?`${H.comment}
${ne.comment}`:H.comment),H=ne}M.items[Y]=H instanceof n.Pair?H:new n.Pair(H)}}return M}function s(F,L,M){let Y=new n.YAMLSeq(F);Y.tag="tag:yaml.org,2002:pairs";for(let H of L){let ne,ge;if(Array.isArray(H))if(H.length===2)ne=H[0],ge=H[1];else throw new TypeError(`Expected [key, value] tuple: ${H}`);else if(H&&H instanceof Object){let $e=Object.keys(H);if($e.length===1)ne=$e[0],ge=H[ne];else throw new TypeError(`Expected { key: value } tuple: ${H}`)}else ne=H;let pe=F.createPair(ne,ge,M);Y.items.push(pe)}return Y}var a={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:i,createNode:s},l=class XT extends n.YAMLSeq{constructor(){super(),e._defineProperty(this,"add",n.YAMLMap.prototype.add.bind(this)),e._defineProperty(this,"delete",n.YAMLMap.prototype.delete.bind(this)),e._defineProperty(this,"get",n.YAMLMap.prototype.get.bind(this)),e._defineProperty(this,"has",n.YAMLMap.prototype.has.bind(this)),e._defineProperty(this,"set",n.YAMLMap.prototype.set.bind(this)),this.tag=XT.tag}toJSON(L,M){let Y=new Map;M&&M.onCreate&&M.onCreate(Y);for(let H of this.items){let ne,ge;if(H instanceof n.Pair?(ne=n.toJSON(H.key,"",M),ge=n.toJSON(H.value,ne,M)):ne=n.toJSON(H,"",M),Y.has(ne))throw new Error("Ordered maps must not include duplicate keys");Y.set(ne,ge)}return Y}};e._defineProperty(l,"tag","tag:yaml.org,2002:omap");function f(F,L){let M=i(F,L),Y=[];for(let{key:H}of M.items)if(H instanceof n.Scalar)if(Y.includes(H.value)){let ne="Ordered maps must not include duplicate keys";throw new e.YAMLSemanticError(L,ne)}else Y.push(H.value);return Object.assign(new l,M)}function d(F,L,M){let Y=s(F,L,M),H=new l;return H.items=Y.items,H}var h={identify:F=>F instanceof Map,nodeClass:l,default:!1,tag:"tag:yaml.org,2002:omap",resolve:f,createNode:d},g=class ZT extends n.YAMLMap{constructor(){super(),this.tag=ZT.tag}add(L){let M=L instanceof n.Pair?L:new n.Pair(L);n.findPair(this.items,M.key)||this.items.push(M)}get(L,M){let Y=n.findPair(this.items,L);return!M&&Y instanceof n.Pair?Y.key instanceof n.Scalar?Y.key.value:Y.key:Y}set(L,M){if(typeof M!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof M}`);let Y=n.findPair(this.items,L);Y&&!M?this.items.splice(this.items.indexOf(Y),1):!Y&&M&&this.items.push(new n.Pair(L))}toJSON(L,M){return super.toJSON(L,M,Set)}toString(L,M,Y){if(!L)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(L,M,Y);throw new Error("Set items must all have null values")}};e._defineProperty(g,"tag","tag:yaml.org,2002:set");function S(F,L){let M=n.resolveMap(F,L);if(!M.hasAllNullValues())throw new e.YAMLSemanticError(L,"Set items must all have null values");return Object.assign(new g,M)}function O(F,L,M){let Y=new g;for(let H of L)Y.items.push(F.createPair(H,null,M));return Y}var I={identify:F=>F instanceof Set,nodeClass:g,default:!1,tag:"tag:yaml.org,2002:set",resolve:S,createNode:O},P=(F,L)=>{let M=L.split(":").reduce((Y,H)=>Y*60+Number(H),0);return F==="-"?-M:M},C=({value:F})=>{if(isNaN(F)||!isFinite(F))return n.stringifyNumber(F);let L="";F<0&&(L="-",F=Math.abs(F));let M=[F%60];return F<60?M.unshift(0):(F=Math.round((F-M[0])/60),M.unshift(F%60),F>=60&&(F=Math.round((F-M[0])/60),M.unshift(F))),L+M.map(Y=>Y<10?"0"+String(Y):String(Y)).join(":").replace(/000000\d*$/,"")},R={identify:F=>typeof F=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(F,L,M)=>P(L,M.replace(/_/g,"")),stringify:C},T={identify:F=>typeof F=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(F,L,M)=>P(L,M.replace(/_/g,"")),stringify:C},v={identify:F=>F instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(F,L,M,Y,H,ne,ge,pe,$e)=>{pe&&(pe=(pe+"00").substr(1,3));let Ve=Date.UTC(L,M-1,Y,H||0,ne||0,ge||0,pe||0);if($e&&$e!=="Z"){let lt=P($e[0],$e.slice(1));Math.abs(lt)<30&&(lt*=60),Ve-=6e4*lt}return new Date(Ve)},stringify:({value:F})=>F.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function D(F){let L={};return F?typeof YAML_SILENCE_DEPRECATION_WARNINGS<"u"?!YAML_SILENCE_DEPRECATION_WARNINGS:!L.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS<"u"?!YAML_SILENCE_WARNINGS:!L.YAML_SILENCE_WARNINGS}function b(F,L){D(!1)&&console.warn(L?`${L}: ${F}`:F)}function _(F){if(D(!0)){let L=F.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");b(`The endpoint 'yaml/${L}' will be removed in a future release.`,"DeprecationWarning")}}var $={};function q(F,L){if(!$[F]&&D(!0)){$[F]=!0;let M=`The option '${F}' will be removed in a future release`;M+=L?`, use '${L}' instead.`:".",b(M,"DeprecationWarning")}}t.binary=r,t.floatTime=T,t.intTime=R,t.omap=h,t.pairs=a,t.set=I,t.timestamp=v,t.warn=b,t.warnFileDeprecation=_,t.warnOptionDeprecation=q}),P$=Os(t=>{var e=ya(),n=dl(),r=O$();function i(K,de,ce){let U=new n.YAMLMap(K);if(de instanceof Map)for(let[te,ye]of de)U.items.push(K.createPair(te,ye,ce));else if(de&&typeof de=="object")for(let te of Object.keys(de))U.items.push(K.createPair(te,de[te],ce));return typeof K.sortMapEntries=="function"&&U.items.sort(K.sortMapEntries),U}var s={createNode:i,default:!0,nodeClass:n.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:n.resolveMap};function a(K,de,ce){let U=new n.YAMLSeq(K);if(de&&de[Symbol.iterator])for(let te of de){let ye=K.createNode(te,ce.wrapScalars,null,ce);U.items.push(ye)}return U}var l={createNode:a,default:!0,nodeClass:n.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:n.resolveSeq},f={identify:K=>typeof K=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n.resolveString,stringify(K,de,ce,U){return de=Object.assign({actualString:!0},de),n.stringifyString(K,de,ce,U)},options:n.strOptions},d=[s,l,f],h=K=>typeof K=="bigint"||Number.isInteger(K),g=(K,de,ce)=>n.intOptions.asBigInt?BigInt(K):parseInt(de,ce);function S(K,de,ce){let{value:U}=K;return h(U)&&U>=0?ce+U.toString(de):n.stringifyNumber(K)}var O={identify:K=>K==null,createNode:(K,de,ce)=>ce.wrapScalars?new n.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:n.nullOptions,stringify:()=>n.nullOptions.nullStr},I={identify:K=>typeof K=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:K=>K[0]==="t"||K[0]==="T",options:n.boolOptions,stringify:({value:K})=>K?n.boolOptions.trueStr:n.boolOptions.falseStr},P={identify:K=>h(K)&&K>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(K,de)=>g(K,de,8),options:n.intOptions,stringify:K=>S(K,8,"0o")},C={identify:h,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:K=>g(K,K,10),options:n.intOptions,stringify:n.stringifyNumber},R={identify:K=>h(K)&&K>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(K,de)=>g(K,de,16),options:n.intOptions,stringify:K=>S(K,16,"0x")},T={identify:K=>typeof K=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(K,de)=>de?NaN:K[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:n.stringifyNumber},v={identify:K=>typeof K=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:K=>parseFloat(K),stringify:({value:K})=>Number(K).toExponential()},D={identify:K=>typeof K=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(K,de,ce){let U=de||ce,te=new n.Scalar(parseFloat(K));return U&&U[U.length-1]==="0"&&(te.minFractionDigits=U.length),te},stringify:n.stringifyNumber},b=d.concat([O,I,P,C,R,T,v,D]),_=K=>typeof K=="bigint"||Number.isInteger(K),$=({value:K})=>JSON.stringify(K),q=[s,l,{identify:K=>typeof K=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n.resolveString,stringify:$},{identify:K=>K==null,createNode:(K,de,ce)=>ce.wrapScalars?new n.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:$},{identify:K=>typeof K=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:K=>K==="true",stringify:$},{identify:_,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:K=>n.intOptions.asBigInt?BigInt(K):parseInt(K,10),stringify:({value:K})=>_(K)?K.toString():JSON.stringify(K)},{identify:K=>typeof K=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:K=>parseFloat(K),stringify:$}];q.scalarFallback=K=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(K)}`)};var F=({value:K})=>K?n.boolOptions.trueStr:n.boolOptions.falseStr,L=K=>typeof K=="bigint"||Number.isInteger(K);function M(K,de,ce){let U=de.replace(/_/g,"");if(n.intOptions.asBigInt){switch(ce){case 2:U=`0b${U}`;break;case 8:U=`0o${U}`;break;case 16:U=`0x${U}`;break}let ye=BigInt(U);return K==="-"?BigInt(-1)*ye:ye}let te=parseInt(U,ce);return K==="-"?-1*te:te}function Y(K,de,ce){let{value:U}=K;if(L(U)){let te=U.toString(de);return U<0?"-"+ce+te.substr(1):ce+te}return n.stringifyNumber(K)}var H=d.concat([{identify:K=>K==null,createNode:(K,de,ce)=>ce.wrapScalars?new n.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:n.nullOptions,stringify:()=>n.nullOptions.nullStr},{identify:K=>typeof K=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:n.boolOptions,stringify:F},{identify:K=>typeof K=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:n.boolOptions,stringify:F},{identify:L,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(K,de,ce)=>M(de,ce,2),stringify:K=>Y(K,2,"0b")},{identify:L,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(K,de,ce)=>M(de,ce,8),stringify:K=>Y(K,8,"0")},{identify:L,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(K,de,ce)=>M(de,ce,10),stringify:n.stringifyNumber},{identify:L,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(K,de,ce)=>M(de,ce,16),stringify:K=>Y(K,16,"0x")},{identify:K=>typeof K=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(K,de)=>de?NaN:K[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:n.stringifyNumber},{identify:K=>typeof K=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:K=>parseFloat(K.replace(/_/g,"")),stringify:({value:K})=>Number(K).toExponential()},{identify:K=>typeof K=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(K,de){let ce=new n.Scalar(parseFloat(K.replace(/_/g,"")));if(de){let U=de.replace(/_/g,"");U[U.length-1]==="0"&&(ce.minFractionDigits=U.length)}return ce},stringify:n.stringifyNumber}],r.binary,r.omap,r.pairs,r.set,r.intTime,r.floatTime,r.timestamp),ne={core:b,failsafe:d,json:q,yaml11:H},ge={binary:r.binary,bool:I,float:D,floatExp:v,floatNaN:T,floatTime:r.floatTime,int:C,intHex:R,intOct:P,intTime:r.intTime,map:s,null:O,omap:r.omap,pairs:r.pairs,seq:l,set:r.set,timestamp:r.timestamp};function pe(K,de,ce){if(de){let U=ce.filter(ye=>ye.tag===de),te=U.find(ye=>!ye.format)||U[0];if(!te)throw new Error(`Tag ${de} not found`);return te}return ce.find(U=>(U.identify&&U.identify(K)||U.class&&K instanceof U.class)&&!U.format)}function $e(K,de,ce){if(K instanceof n.Node)return K;let{defaultPrefix:U,onTagObj:te,prevObjects:ye,schema:Ie,wrapScalars:Le}=ce;de&&de.startsWith("!!")&&(de=U+de.slice(2));let ze=pe(K,de,Ie.tags);if(!ze){if(typeof K.toJSON=="function"&&(K=K.toJSON()),!K||typeof K!="object")return Le?new n.Scalar(K):K;ze=K instanceof Map?s:K[Symbol.iterator]?l:s}te&&(te(ze),delete ce.onTagObj);let Je={value:void 0,node:void 0};if(K&&typeof K=="object"&&ye){let et=ye.get(K);if(et){let rt=new n.Alias(et);return ce.aliasNodes.push(rt),rt}Je.value=K,ye.set(K,Je)}return Je.node=ze.createNode?ze.createNode(ce.schema,K,ce):Le?new n.Scalar(K):K,de&&Je.node instanceof n.Node&&(Je.node.tag=de),Je.node}function Ve(K,de,ce,U){let te=K[U.replace(/\W/g,"")];if(!te){let ye=Object.keys(K).map(Ie=>JSON.stringify(Ie)).join(", ");throw new Error(`Unknown schema "${U}"; use one of ${ye}`)}if(Array.isArray(ce))for(let ye of ce)te=te.concat(ye);else typeof ce=="function"&&(te=ce(te.slice()));for(let ye=0;ye<te.length;++ye){let Ie=te[ye];if(typeof Ie=="string"){let Le=de[Ie];if(!Le){let ze=Object.keys(de).map(Je=>JSON.stringify(Je)).join(", ");throw new Error(`Unknown custom tag "${Ie}"; use one of ${ze}`)}te[ye]=Le}}return te}var lt=(K,de)=>K.key<de.key?-1:K.key>de.key?1:0,Se=class ek{constructor({customTags:de,merge:ce,schema:U,sortMapEntries:te,tags:ye}){this.merge=!!ce,this.name=U,this.sortMapEntries=te===!0?lt:te||null,!de&&ye&&r.warnOptionDeprecation("tags","customTags"),this.tags=Ve(ne,ge,de||ye,U)}createNode(de,ce,U,te){let ye={defaultPrefix:ek.defaultPrefix,schema:this,wrapScalars:ce},Ie=te?Object.assign(te,ye):ye;return $e(de,U,Ie)}createPair(de,ce,U){U||(U={wrapScalars:!0});let te=this.createNode(de,U.wrapScalars,null,U),ye=this.createNode(ce,U.wrapScalars,null,U);return new n.Pair(te,ye)}};e._defineProperty(Se,"defaultPrefix",e.defaultTagPrefix),e._defineProperty(Se,"defaultTags",e.defaultTags),t.Schema=Se}),DM=Os(t=>{var e=ya(),n=dl(),r=P$(),i={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},s={get binary(){return n.binaryOptions},set binary(D){Object.assign(n.binaryOptions,D)},get bool(){return n.boolOptions},set bool(D){Object.assign(n.boolOptions,D)},get int(){return n.intOptions},set int(D){Object.assign(n.intOptions,D)},get null(){return n.nullOptions},set null(D){Object.assign(n.nullOptions,D)},get str(){return n.strOptions},set str(D){Object.assign(n.strOptions,D)}},a={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:e.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:e.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:e.defaultTagPrefix}]}};function l(D,b){if((D.version||D.options.version)==="1.0"){let q=b.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(q)return"!"+q[1];let F=b.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return F?`!${F[1]}/${F[2]}`:`!${b.replace(/^tag:/,"")}`}let _=D.tagPrefixes.find(q=>b.indexOf(q.prefix)===0);if(!_){let q=D.getDefaults().tagPrefixes;_=q&&q.find(F=>b.indexOf(F.prefix)===0)}if(!_)return b[0]==="!"?b:`!<${b}>`;let $=b.substr(_.prefix.length).replace(/[!,[\]{}]/g,q=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[q]);return _.handle+$}function f(D,b){if(b instanceof n.Alias)return n.Alias;if(b.tag){let q=D.filter(F=>F.tag===b.tag);if(q.length>0)return q.find(F=>F.format===b.format)||q[0]}let _,$;if(b instanceof n.Scalar){$=b.value;let q=D.filter(F=>F.identify&&F.identify($)||F.class&&$ instanceof F.class);_=q.find(F=>F.format===b.format)||q.find(F=>!F.format)}else $=b,_=D.find(q=>q.nodeClass&&$ instanceof q.nodeClass);if(!_){let q=$&&$.constructor?$.constructor.name:typeof $;throw new Error(`Tag not resolved for ${q} value`)}return _}function d(D,b,{anchors:_,doc:$}){let q=[],F=$.anchors.getName(D);return F&&(_[F]=D,q.push(`&${F}`)),D.tag?q.push(l($,D.tag)):b.default||q.push(l($,b.tag)),q.join(" ")}function h(D,b,_,$){let{anchors:q,schema:F}=b.doc,L;if(!(D instanceof n.Node)){let H={aliasNodes:[],onTagObj:ne=>L=ne,prevObjects:new Map};D=F.createNode(D,!0,null,H);for(let ne of H.aliasNodes){ne.source=ne.source.node;let ge=q.getName(ne.source);ge||(ge=q.newName(),q.map[ge]=ne.source)}}if(D instanceof n.Pair)return D.toString(b,_,$);L||(L=f(F.tags,D));let M=d(D,L,b);M.length>0&&(b.indentAtStart=(b.indentAtStart||0)+M.length+1);let Y=typeof L.stringify=="function"?L.stringify(D,b,_,$):D instanceof n.Scalar?n.stringifyString(D,b,_,$):D.toString(b,_,$);return M?D instanceof n.Scalar||Y[0]==="{"||Y[0]==="["?`${M} ${Y}`:`${M}
${b.indent}${Y}`:Y}var g=class tk{static validAnchorNode(b){return b instanceof n.Scalar||b instanceof n.YAMLSeq||b instanceof n.YAMLMap}constructor(b){e._defineProperty(this,"map",Object.create(null)),this.prefix=b}createAlias(b,_){return this.setAnchor(b,_),new n.Alias(b)}createMergePair(...b){let _=new n.Merge;return _.value.items=b.map($=>{if($ instanceof n.Alias){if($.source instanceof n.YAMLMap)return $}else if($ instanceof n.YAMLMap)return this.createAlias($);throw new Error("Merge sources must be Map nodes or their Aliases")}),_}getName(b){let{map:_}=this;return Object.keys(_).find($=>_[$]===b)}getNames(){return Object.keys(this.map)}getNode(b){return this.map[b]}newName(b){b||(b=this.prefix);let _=Object.keys(this.map);for(let $=1;;++$){let q=`${b}${$}`;if(!_.includes(q))return q}}resolveNodes(){let{map:b,_cstAliases:_}=this;Object.keys(b).forEach($=>{b[$]=b[$].resolved}),_.forEach($=>{$.source=$.source.resolved}),delete this._cstAliases}setAnchor(b,_){if(b!=null&&!tk.validAnchorNode(b))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(_&&/[\x00-\x19\s,[\]{}]/.test(_))throw new Error("Anchor names must not contain whitespace or control characters");let{map:$}=this,q=b&&Object.keys($).find(F=>$[F]===b);if(q)if(_)q!==_&&(delete $[q],$[_]=b);else return q;else{if(!_){if(!b)return null;_=this.newName()}$[_]=b}return _}},S=(D,b)=>{if(D&&typeof D=="object"){let{tag:_}=D;D instanceof n.Collection?(_&&(b[_]=!0),D.items.forEach($=>S($,b))):D instanceof n.Pair?(S(D.key,b),S(D.value,b)):D instanceof n.Scalar&&_&&(b[_]=!0)}return b},O=D=>Object.keys(S(D,{}));function I(D,b){let _={before:[],after:[]},$,q=!1;for(let F of b)if(F.valueRange){if($!==void 0){let M="Document contains trailing content not separated by a ... or --- line";D.errors.push(new e.YAMLSyntaxError(F,M));break}let L=n.resolveNode(D,F);q&&(L.spaceBefore=!0,q=!1),$=L}else F.comment!==null?($===void 0?_.before:_.after).push(F.comment):F.type===e.Type.BLANK_LINE&&(q=!0,$===void 0&&_.before.length>0&&!D.commentBefore&&(D.commentBefore=_.before.join(`
`),_.before=[]));if(D.contents=$||null,!$)D.comment=_.before.concat(_.after).join(`
`)||null;else{let F=_.before.join(`
`);if(F){let L=$ instanceof n.Collection&&$.items[0]?$.items[0]:$;L.commentBefore=L.commentBefore?`${F}
${L.commentBefore}`:F}D.comment=_.after.join(`
`)||null}}function P({tagPrefixes:D},b){let[_,$]=b.parameters;if(!_||!$){let q="Insufficient parameters given for %TAG directive";throw new e.YAMLSemanticError(b,q)}if(D.some(q=>q.handle===_)){let q="The %TAG directive must only be given at most once per handle in the same document.";throw new e.YAMLSemanticError(b,q)}return{handle:_,prefix:$}}function C(D,b){let[_]=b.parameters;if(b.name==="YAML:1.0"&&(_="1.0"),!_){let $="Insufficient parameters given for %YAML directive";throw new e.YAMLSemanticError(b,$)}if(!a[_]){let $=`Document will be parsed as YAML ${D.version||D.options.version} rather than YAML ${_}`;D.warnings.push(new e.YAMLWarning(b,$))}return _}function R(D,b,_){let $=[],q=!1;for(let F of b){let{comment:L,name:M}=F;switch(M){case"TAG":try{D.tagPrefixes.push(P(D,F))}catch(Y){D.errors.push(Y)}q=!0;break;case"YAML":case"YAML:1.0":if(D.version){let Y="The %YAML directive must only be given at most once per document.";D.errors.push(new e.YAMLSemanticError(F,Y))}try{D.version=C(D,F)}catch(Y){D.errors.push(Y)}q=!0;break;default:if(M){let Y=`YAML only supports %TAG and %YAML directives, and not %${M}`;D.warnings.push(new e.YAMLWarning(F,Y))}}L&&$.push(L)}if(_&&!q&&(D.version||_.version||D.options.version)==="1.1"){let F=({handle:L,prefix:M})=>({handle:L,prefix:M});D.tagPrefixes=_.tagPrefixes.map(F),D.version=_.version}D.commentBefore=$.join(`
`)||null}function T(D){if(D instanceof n.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var v=class Fb{constructor(b){this.anchors=new g(b.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=b,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(b){return T(this.contents),this.contents.add(b)}addIn(b,_){T(this.contents),this.contents.addIn(b,_)}delete(b){return T(this.contents),this.contents.delete(b)}deleteIn(b){return n.isEmptyPath(b)?this.contents==null?!1:(this.contents=null,!0):(T(this.contents),this.contents.deleteIn(b))}getDefaults(){return Fb.defaults[this.version]||Fb.defaults[this.options.version]||{}}get(b,_){return this.contents instanceof n.Collection?this.contents.get(b,_):void 0}getIn(b,_){return n.isEmptyPath(b)?!_&&this.contents instanceof n.Scalar?this.contents.value:this.contents:this.contents instanceof n.Collection?this.contents.getIn(b,_):void 0}has(b){return this.contents instanceof n.Collection?this.contents.has(b):!1}hasIn(b){return n.isEmptyPath(b)?this.contents!==void 0:this.contents instanceof n.Collection?this.contents.hasIn(b):!1}set(b,_){T(this.contents),this.contents.set(b,_)}setIn(b,_){n.isEmptyPath(b)?this.contents=_:(T(this.contents),this.contents.setIn(b,_))}setSchema(b,_){if(!b&&!_&&this.schema)return;typeof b=="number"&&(b=b.toFixed(1)),b==="1.0"||b==="1.1"||b==="1.2"?(this.version?this.version=b:this.options.version=b,delete this.options.schema):b&&typeof b=="string"&&(this.options.schema=b),Array.isArray(_)&&(this.options.customTags=_);let $=Object.assign({},this.getDefaults(),this.options);this.schema=new r.Schema($)}parse(b,_){this.options.keepCstNodes&&(this.cstNode=b),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:$=[],contents:q=[],directivesEndMarker:F,error:L,valueRange:M}=b;if(L&&(L.source||(L.source=this),this.errors.push(L)),R(this,$,_),F&&(this.directivesEndMarker=!0),this.range=M?[M.start,M.end]:null,this.setSchema(),this.anchors._cstAliases=[],I(this,q),this.anchors.resolveNodes(),this.options.prettyErrors){for(let Y of this.errors)Y instanceof e.YAMLError&&Y.makePretty();for(let Y of this.warnings)Y instanceof e.YAMLError&&Y.makePretty()}return this}listNonDefaultTags(){return O(this.contents).filter(b=>b.indexOf(r.Schema.defaultPrefix)!==0)}setTagPrefix(b,_){if(b[0]!=="!"||b[b.length-1]!=="!")throw new Error("Handle must start and end with !");if(_){let $=this.tagPrefixes.find(q=>q.handle===b);$?$.prefix=_:this.tagPrefixes.push({handle:b,prefix:_})}else this.tagPrefixes=this.tagPrefixes.filter($=>$.handle!==b)}toJSON(b,_){let{keepBlobsInJSON:$,mapAsMap:q,maxAliasCount:F}=this.options,L=$&&(typeof b!="string"||!(this.contents instanceof n.Scalar)),M={doc:this,indentStep:"  ",keep:L,mapAsMap:L&&!!q,maxAliasCount:F,stringify:h},Y=Object.keys(this.anchors.map);Y.length>0&&(M.anchors=new Map(Y.map(ne=>[this.anchors.map[ne],{alias:[],aliasCount:0,count:1}])));let H=n.toJSON(this.contents,b,M);if(typeof _=="function"&&M.anchors)for(let{count:ne,res:ge}of M.anchors.values())_(ge,ne);return H}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let b=this.options.indent;if(!Number.isInteger(b)||b<=0){let Y=JSON.stringify(b);throw new Error(`"indent" option must be a positive integer, not ${Y}`)}this.setSchema();let _=[],$=!1;if(this.version){let Y="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?Y="%YAML:1.0":this.version==="1.1"&&(Y="%YAML 1.1")),_.push(Y),$=!0}let q=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:Y,prefix:H})=>{q.some(ne=>ne.indexOf(H)===0)&&(_.push(`%TAG ${Y} ${H}`),$=!0)}),($||this.directivesEndMarker)&&_.push("---"),this.commentBefore&&(($||!this.directivesEndMarker)&&_.unshift(""),_.unshift(this.commentBefore.replace(/^/gm,"#")));let F={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(b),stringify:h},L=!1,M=null;if(this.contents){this.contents instanceof n.Node&&(this.contents.spaceBefore&&($||this.directivesEndMarker)&&_.push(""),this.contents.commentBefore&&_.push(this.contents.commentBefore.replace(/^/gm,"#")),F.forceBlockIndent=!!this.comment,M=this.contents.comment);let Y=M?null:()=>L=!0,H=h(this.contents,F,()=>M=null,Y);_.push(n.addComment(H,"",M))}else this.contents!==void 0&&_.push(h(this.contents,F));return this.comment&&((!L||M)&&_[_.length-1]!==""&&_.push(""),_.push(this.comment.replace(/^/gm,"#"))),_.join(`
`)+`
`}};e._defineProperty(v,"defaults",a),t.Document=v,t.defaultOptions=i,t.scalarOptions=s}),wM=Os(t=>{var e=bM(),n=DM(),r=P$(),i=ya(),s=O$();dl();function a(O,I=!0,P){P===void 0&&typeof I=="string"&&(P=I,I=!0);let C=Object.assign({},n.Document.defaults[n.defaultOptions.version],n.defaultOptions);return new r.Schema(C).createNode(O,I,P)}var l=class extends n.Document{constructor(O){super(Object.assign({},n.defaultOptions,O))}};function f(O,I){let P=[],C;for(let R of e.parse(O)){let T=new l(I);T.parse(R,C),P.push(T),C=T}return P}function d(O,I){let P=e.parse(O),C=new l(I).parse(P[0]);if(P.length>1){let R="Source contains multiple documents; please use YAML.parseAllDocuments()";C.errors.unshift(new i.YAMLSemanticError(P[1],R))}return C}function h(O,I){let P=d(O,I);if(P.warnings.forEach(C=>s.warn(C)),P.errors.length>0)throw P.errors[0];return P.toJSON()}function g(O,I){let P=new l(I);return P.contents=O,String(P)}var S={createNode:a,defaultOptions:n.defaultOptions,Document:l,parse:h,parseAllDocuments:f,parseCST:e.parse,parseDocument:d,scalarOptions:n.scalarOptions,stringify:g};t.YAML=S}),_M=Os((t,e)=>{e.exports=wM().YAML}),$M=Os(t=>{var e=dl(),n=ya();t.findPair=e.findPair,t.parseMap=e.resolveMap,t.parseSeq=e.resolveSeq,t.stringifyNumber=e.stringifyNumber,t.stringifyString=e.stringifyString,t.toJSON=e.toJSON,t.Type=n.Type,t.YAMLError=n.YAMLError,t.YAMLReferenceError=n.YAMLReferenceError,t.YAMLSemanticError=n.YAMLSemanticError,t.YAMLSyntaxError=n.YAMLSyntaxError,t.YAMLWarning=n.YAMLWarning}),N$={};A$(N$,{languages:()=>oE,options:()=>aE,parsers:()=>w0,printers:()=>TE});var EM=(t,e,n,r)=>{if(!(t&&e==null))return e.replaceAll?e.replaceAll(n,r):n.global?e.replace(n,r):e.split(n).join(r)},o0=EM,F$="string",R$="array",I$="cursor",M$="indent",a0="align",L$="trim",u0="group",c0="fill",l0="if-break",j$="indent-if-break",f0="line-suffix",x$="line-suffix-boundary",Iu="line",B$="label",d0="break-parent",q$=new Set([I$,M$,a0,L$,u0,c0,l0,j$,f0,x$,Iu,B$,d0]),SM=(t,e,n)=>{if(!(t&&e==null))return Array.isArray(e)||typeof e=="string"?e[n<0?e.length+n:n]:e.at(n)},hi=SM;function TM(t){if(typeof t=="string")return F$;if(Array.isArray(t))return R$;if(!t)return;let{type:e}=t;if(q$.has(e))return e}var W$=TM,kM=t=>new Intl.ListFormat("en-US",{type:"disjunction"}).format(t);function AM(t){let e=t===null?"null":typeof t;if(e!=="string"&&e!=="object")return`Unexpected doc '${e}', 
Expected it to be 'string' or 'object'.`;if(W$(t))throw new Error("doc is valid.");let n=Object.prototype.toString.call(t);if(n!=="[object Object]")return`Unexpected doc '${n}'.`;let r=kM([...q$].map(i=>`'${i}'`));return`Unexpected doc.type '${t.type}'.
Expected it to be ${r}.`}var CM=class extends Error{constructor(e){super(AM(e));ni(this,"name","InvalidDocError");this.doc=e}},OM=CM;function PM(t,e){if(typeof t=="string")return e(t);let n=new Map;return r(t);function r(s){if(n.has(s))return n.get(s);let a=i(s);return n.set(s,a),a}function i(s){switch(W$(s)){case R$:return e(s.map(r));case c0:return e({...s,parts:s.parts.map(r)});case l0:return e({...s,breakContents:r(s.breakContents),flatContents:r(s.flatContents)});case u0:{let{expandedStates:a,contents:l}=s;return a?(a=a.map(r),l=a[0]):l=r(l),e({...s,contents:l,expandedStates:a})}case a0:case M$:case j$:case B$:case f0:return e({...s,contents:r(s.contents)});case F$:case I$:case L$:case x$:case Iu:case d0:return e(s);default:throw new OM(s)}}}function NM(t,e=m0){return PM(t,n=>typeof n=="string"?Fr(e,n.split(`
`)):n)}var FM=()=>{},RM=FM;function oh(t,e){return{type:a0,contents:e,n:t}}function ah(t,e={}){return RM(e.expandedStates),{type:u0,id:e.id,contents:t,break:!!e.shouldBreak,expandedStates:e.expandedStates}}function U$(t){return oh(Number.NEGATIVE_INFINITY,t)}function IM(t){return oh({type:"root"},t)}function MM(t){return oh(-1,t)}function V$(t,e){return ah(t[0],{...e,expandedStates:t})}function H$(t){return{type:c0,parts:t}}function h0(t,e="",n={}){return{type:l0,breakContents:t,flatContents:e,groupId:n.groupId}}function LM(t){return{type:f0,contents:t}}var p0={type:d0},jM={type:Iu,hard:!0},xM={type:Iu,hard:!0,literal:!0},hl={type:Iu},K$={type:Iu,soft:!0},Kt=[jM,p0],m0=[xM,p0];function Fr(t,e){let n=[];for(let r=0;r<e.length;r++)r!==0&&n.push(t),n.push(e[r]);return n}function BM(t){return(e,n,r)=>{let i=!!(r!=null&&r.backwards);if(n===!1)return!1;let{length:s}=e,a=n;for(;a>=0&&a<s;){let l=e.charAt(a);if(t instanceof RegExp){if(!t.test(l))return a}else if(!t.includes(l))return a;i?a--:a++}return a===-1||a===s?a:!1}}var z$=BM(" 	");function qM(t,e,n){let r=!!(n!=null&&n.backwards);if(e===!1)return!1;let i=t.charAt(e);if(r){if(t.charAt(e-1)==="\r"&&i===`
`)return e-2;if(i===`
`||i==="\r"||i==="\u2028"||i==="\u2029")return e-1}else{if(i==="\r"&&t.charAt(e+1)===`
`)return e+2;if(i===`
`||i==="\r"||i==="\u2028"||i==="\u2029")return e+1}return e}var Y$=qM;function WM(t,e){let n=e-1;n=z$(t,n,{backwards:!0}),n=Y$(t,n,{backwards:!0}),n=z$(t,n,{backwards:!0});let r=Y$(t,n,{backwards:!0});return n!==r}var UM=WM,VM=class extends Error{constructor(e,n,r="type"){super(`Unexpected ${n} node ${r}: ${JSON.stringify(e[r])}.`);ni(this,"name","UnexpectedNodeError");this.node=e}},HM=VM;function G$(t,e){let{node:n}=t;if(n.type==="root"&&e.filepath&&/(?:[/\\]|^)\.(?:prettier|stylelint|lintstaged)rc$/u.test(e.filepath))return async r=>{let i=await r(e.originalText,{parser:"json"});return i?[i,Kt]:void 0}}G$.getVisitorKeys=()=>[];var KM=G$,pl=null;function ml(t){if(pl!==null&&typeof pl.property){let e=pl;return pl=ml.prototype=null,e}return pl=ml.prototype=t!=null?t:Object.create(null),new ml}var zM=10;for(let t=0;t<=zM;t++)ml();function YM(t){return ml(t)}function GM(t,e="type"){YM(t);function n(r){let i=r[e],s=t[i];if(!Array.isArray(s))throw Object.assign(new Error(`Missing visitor keys for '${i}'.`),{node:r});return s}return n}var JM=GM,QM=Object.fromEntries(Object.entries({root:["children"],document:["head","body","children"],documentHead:["children"],documentBody:["children"],directive:[],alias:[],blockLiteral:[],blockFolded:["children"],plain:["children"],quoteSingle:[],quoteDouble:[],mapping:["children"],mappingItem:["key","value","children"],mappingKey:["content","children"],mappingValue:["content","children"],sequence:["children"],sequenceItem:["content","children"],flowMapping:["children"],flowMappingItem:["key","value","children"],flowSequence:["children"],flowSequenceItem:["content","children"],comment:[],tag:[],anchor:[]}).map(([t,e])=>[t,[...e,"anchor","tag","indicatorComment","leadingComments","middleComments","trailingComment","endComments"]])),XM=QM,ZM=JM(XM),eL=ZM;function uh(t){return t.position.start.offset}function tL(t){return t.position.end.offset}function nL(t){return/^\s*@(?:prettier|format)\s*$/u.test(t)}function rL(t){return/^\s*#[^\S\n]*@(?:prettier|format)\s*?(?:\n|$)/u.test(t)}function iL(t){return`# @format

${t}`}function sL(t){return Array.isArray(t)&&t.length>0}var gl=sL;function Ps(t,e){return typeof(t==null?void 0:t.type)=="string"&&(!e||e.includes(t.type))}function J$(t,e,n){return e("children"in t?{...t,children:t.children.map(r=>J$(r,e,t))}:t,n)}function yl(t,e,n){Object.defineProperty(t,e,{get:n,enumerable:!1})}function oL(t,e){let n=0,r=e.length;for(let i=t.position.end.offset-1;i<r;i++){let s=e[i];if(s===`
`&&n++,n===1&&/\S/u.test(s))return!1;if(n===2)return!0}return!1}function Q$(t){let{node:e}=t;switch(e.type){case"tag":case"anchor":case"comment":return!1}let n=t.stack.length;for(let r=1;r<n;r++){let i=t.stack[r],s=t.stack[r-1];if(Array.isArray(s)&&typeof i=="number"&&i!==s.length-1)return!1}return!0}function g0(t){return gl(t.children)?g0(hi(!1,t.children,-1)):t}function X$(t){return t.value.trim()==="prettier-ignore"}function aL(t){let{node:e}=t;if(e.type==="documentBody"){let n=t.parent.head;return Ri(n)&&X$(hi(!1,n.endComments,-1))}return $o(e)&&X$(hi(!1,e.leadingComments,-1))}function ch(t){return!gl(t.children)&&!uL(t)}function uL(t){return $o(t)||Mu(t)||Z$(t)||Fi(t)||Ri(t)}function $o(t){return gl(t==null?void 0:t.leadingComments)}function Mu(t){return gl(t==null?void 0:t.middleComments)}function Z$(t){return t==null?void 0:t.indicatorComment}function Fi(t){return t==null?void 0:t.trailingComment}function Ri(t){return gl(t==null?void 0:t.endComments)}function eE(t){let e=[],n;for(let r of t.split(/( +)/u))r!==" "?n===" "?e.push(r):e.push((e.pop()||"")+r):n===void 0&&e.unshift(""),n=r;return n===" "&&e.push((e.pop()||"")+" "),e[0]===""&&(e.shift(),e.unshift(" "+(e.shift()||""))),e}function cL(t,e,n){let r=e.split(`
`).map((i,s,a)=>s===0&&s===a.length-1?i:s!==0&&s!==a.length-1?i.trim():s===0?i.trimEnd():i.trimStart());return n.proseWrap==="preserve"?r.map(i=>i.length===0?[]:[i]):r.map(i=>i.length===0?[]:eE(i)).reduce((i,s,a)=>a!==0&&r[a-1].length>0&&s.length>0&&!(t==="quoteDouble"&&hi(!1,hi(!1,i,-1),-1).endsWith("\\"))?[...i.slice(0,-1),[...hi(!1,i,-1),...s]]:[...i,s],[]).map(i=>n.proseWrap==="never"?[i.join(" ")]:i)}function lL(t,{parentIndent:e,isLastDescendant:n,options:r}){let i=t.position.start.line===t.position.end.line?"":r.originalText.slice(t.position.start.offset,t.position.end.offset).match(/^[^\n]*\n(.*)$/su)[1],s;if(t.indent===null){let f=i.match(/^(?<leadingSpace> *)[^\n\r ]/mu);s=f?f.groups.leadingSpace.length:Number.POSITIVE_INFINITY}else s=t.indent-1+e;let a=i.split(`
`).map(f=>f.slice(s));if(r.proseWrap==="preserve"||t.type==="blockLiteral")return l(a.map(f=>f.length===0?[]:[f]));return l(a.map(f=>f.length===0?[]:eE(f)).reduce((f,d,h)=>h!==0&&a[h-1].length>0&&d.length>0&&!/^\s/u.test(d[0])&&!/^\s|\s$/u.test(hi(!1,f,-1))?[...f.slice(0,-1),[...hi(!1,f,-1),...d]]:[...f,d],[]).map(f=>f.reduce((d,h)=>d.length>0&&/\s$/u.test(hi(!1,d,-1))?[...d.slice(0,-1),hi(!1,d,-1)+" "+h]:[...d,h],[])).map(f=>r.proseWrap==="never"?[f.join(" ")]:f));function l(f){if(t.chomping==="keep")return hi(!1,f,-1).length===0?f.slice(0,-1):f;let d=0;for(let h=f.length-1;h>=0&&f[h].length===0;h--)d++;return d===0?f:d>=2&&!n?f.slice(0,-(d-1)):f.slice(0,-d)}}function y0(t){if(!t)return!0;switch(t.type){case"plain":case"quoteDouble":case"quoteSingle":case"alias":case"flowMapping":case"flowSequence":return!0;default:return!1}}var v0=new WeakMap;function tE(t,e){let{node:n,root:r}=t,i;return v0.has(r)?i=v0.get(r):(i=new Set,v0.set(r,i)),!i.has(n.position.end.line)&&(i.add(n.position.end.line),oL(n,e)&&!nE(t.parent))?K$:""}function nE(t){return Ri(t)&&!Ps(t,["documentHead","documentBody","flowMapping","flowSequence"])}function pi(t,e){return oh(" ".repeat(t),e)}function fL(t,e,n){let{node:r}=t,i=t.ancestors.filter(d=>d.type==="sequence"||d.type==="mapping").length,s=Q$(t),a=[r.type==="blockFolded"?">":"|"];r.indent!==null&&a.push(r.indent.toString()),r.chomping!=="clip"&&a.push(r.chomping==="keep"?"+":"-"),Z$(r)&&a.push(" ",e("indicatorComment"));let l=lL(r,{parentIndent:i,isLastDescendant:s,options:n}),f=[];for(let[d,h]of l.entries())d===0&&f.push(Kt),f.push(H$(Fr(hl,h))),d!==l.length-1?f.push(h.length===0?Kt:IM(m0)):r.chomping==="keep"&&s&&f.push(U$(h.length===0?Kt:m0));return r.indent===null?a.push(MM(pi(n.tabWidth,f))):a.push(U$(pi(r.indent-1+i,f))),a}var dL=fL;function rE(t,e,n){let{node:r}=t,i=r.type==="flowMapping",s=i?"{":"[",a=i?"}":"]",l=K$;i&&r.children.length>0&&n.bracketSpacing&&(l=hl);let f=hi(!1,r.children,-1),d=(f==null?void 0:f.type)==="flowMappingItem"&&ch(f.key)&&ch(f.value);return[s,pi(n.tabWidth,[l,hL(t,e,n),n.trailingComma==="none"?"":h0(","),Ri(r)?[Kt,Fr(Kt,t.map(e,"endComments"))]:""]),d?"":l,a]}function hL(t,e,n){return t.map(({isLast:r,node:i,next:s})=>[e(),r?"":[",",hl,i.position.start.line!==s.position.start.line?tE(t,n.originalText):""]],"children")}function pL(t,e,n){var r;let{node:i,parent:s}=t,{key:a,value:l}=i,f=ch(a),d=ch(l);if(f&&d)return": ";let h=e("key"),g=mL(i)?" ":"";if(d)return i.type==="flowMappingItem"&&s.type==="flowMapping"?h:i.type==="mappingItem"&&b0(a.content,n)&&!Fi(a.content)&&((r=s.tag)==null?void 0:r.value)!=="tag:yaml.org,2002:set"?[h,g,":"]:["? ",pi(2,h)];let S=e("value");if(f)return[": ",pi(2,S)];if($o(l)||!y0(a.content))return["? ",pi(2,h),Kt,...t.map(()=>[e(),Kt],"value","leadingComments"),": ",pi(2,S)];if(gL(a.content)&&!$o(a.content)&&!Mu(a.content)&&!Fi(a.content)&&!Ri(a)&&!$o(l.content)&&!Mu(l.content)&&!Ri(l)&&b0(l.content,n))return[h,g,": ",S];let O=Symbol("mappingKey"),I=ah([h0("? "),ah(pi(2,h),{id:O})]),P=[Kt,": ",pi(2,S)],C=[g,":"];$o(l.content)||Ri(l)&&l.content&&!Ps(l.content,["mapping","sequence"])||s.type==="mapping"&&Fi(a.content)&&y0(l.content)||Ps(l.content,["mapping","sequence"])&&l.content.tag===null&&l.content.anchor===null?C.push(Kt):l.content?C.push(hl):Fi(l)&&C.push(" "),C.push(S);let R=pi(n.tabWidth,C);return b0(a.content,n)&&!$o(a.content)&&!Mu(a.content)&&!Ri(a)?V$([[h,R]]):V$([[I,h0(P,R,{groupId:O})]])}function b0(t,e){if(!t)return!0;switch(t.type){case"plain":case"quoteSingle":case"quoteDouble":break;case"alias":return!0;default:return!1}if(e.proseWrap==="preserve")return t.position.start.line===t.position.end.line;if(/\\$/mu.test(e.originalText.slice(t.position.start.offset,t.position.end.offset)))return!1;switch(e.proseWrap){case"never":return!t.value.includes(`
`);case"always":return!/[\n ]/u.test(t.value);default:return!1}}function mL(t){var e;return((e=t.key.content)==null?void 0:e.type)==="alias"}function gL(t){if(!t)return!0;switch(t.type){case"plain":case"quoteDouble":case"quoteSingle":return t.position.start.line===t.position.end.line;case"alias":return!0;default:return!1}}var yL=pL;function vL(t){return J$(t,bL)}function bL(t){switch(t.type){case"document":yl(t,"head",()=>t.children[0]),yl(t,"body",()=>t.children[1]);break;case"documentBody":case"sequenceItem":case"flowSequenceItem":case"mappingKey":case"mappingValue":yl(t,"content",()=>t.children[0]);break;case"mappingItem":case"flowMappingItem":yl(t,"key",()=>t.children[0]),yl(t,"value",()=>t.children[1]);break}return t}var DL=vL;function wL(t,e,n){let{node:r}=t,i=[];r.type!=="mappingValue"&&$o(r)&&i.push([Fr(Kt,t.map(n,"leadingComments")),Kt]);let{tag:s,anchor:a}=r;s&&i.push(n("tag")),s&&a&&i.push(" "),a&&i.push(n("anchor"));let l="";return Ps(r,["mapping","sequence","comment","directive","mappingItem","sequenceItem"])&&!Q$(t)&&(l=tE(t,e.originalText)),(s||a)&&(Ps(r,["sequence","mapping"])&&!Mu(r)?i.push(Kt):i.push(" ")),Mu(r)&&i.push([r.middleComments.length===1?"":Kt,Fr(Kt,t.map(n,"middleComments")),Kt]),aL(t)?i.push(NM(e.originalText.slice(r.position.start.offset,r.position.end.offset).trimEnd())):i.push(ah(_L(t,e,n))),Fi(r)&&!Ps(r,["document","documentHead"])&&i.push(LM([r.type==="mappingValue"&&!r.content?"":" ",t.parent.type==="mappingKey"&&t.getParentNode(2).type==="mapping"&&y0(r)?"":p0,n("trailingComment")])),nE(r)&&i.push(pi(r.type==="sequenceItem"?2:0,[Kt,Fr(Kt,t.map(({node:f})=>[UM(e.originalText,uh(f))?Kt:"",n()],"endComments"))])),i.push(l),i}function _L(t,e,n){let{node:r}=t;switch(r.type){case"root":{let i=[];t.each(({node:a,next:l,isFirst:f})=>{f||i.push(Kt),i.push(n()),iE(a,l)?(i.push(Kt,"..."),Fi(a)&&i.push(" ",n("trailingComment"))):l&&!Fi(l.head)&&i.push(Kt,"---")},"children");let s=g0(r);return(!Ps(s,["blockLiteral","blockFolded"])||s.chomping!=="keep")&&i.push(Kt),i}case"document":{let i=[];return EL(t,e)==="head"&&((r.head.children.length>0||r.head.endComments.length>0)&&i.push(n("head")),Fi(r.head)?i.push(["---"," ",n(["head","trailingComment"])]):i.push("---")),$L(r)&&i.push(n("body")),Fr(Kt,i)}case"documentHead":return Fr(Kt,[...t.map(n,"children"),...t.map(n,"endComments")]);case"documentBody":{let{children:i,endComments:s}=r,a="";if(i.length>0&&s.length>0){let l=g0(r);Ps(l,["blockFolded","blockLiteral"])?l.chomping!=="keep"&&(a=[Kt,Kt]):a=Kt}return[Fr(Kt,t.map(n,"children")),a,Fr(Kt,t.map(n,"endComments"))]}case"directive":return["%",Fr(" ",[r.name,...r.parameters])];case"comment":return["#",r.value];case"alias":return["*",r.value];case"tag":return e.originalText.slice(r.position.start.offset,r.position.end.offset);case"anchor":return["&",r.value];case"plain":return vl(r.type,e.originalText.slice(r.position.start.offset,r.position.end.offset),e);case"quoteDouble":case"quoteSingle":{let i="'",s='"',a=e.originalText.slice(r.position.start.offset+1,r.position.end.offset-1);if(r.type==="quoteSingle"&&a.includes("\\")||r.type==="quoteDouble"&&/\\[^"]/u.test(a)){let f=r.type==="quoteDouble"?s:i;return[f,vl(r.type,a,e),f]}if(a.includes(s))return[i,vl(r.type,r.type==="quoteDouble"?o0(!1,o0(!1,a,String.raw`\"`,s),"'",i.repeat(2)):a,e),i];if(a.includes(i))return[s,vl(r.type,r.type==="quoteSingle"?o0(!1,a,"''",i):a,e),s];let l=e.singleQuote?i:s;return[l,vl(r.type,a,e),l]}case"blockFolded":case"blockLiteral":return dL(t,n,e);case"mapping":case"sequence":return Fr(Kt,t.map(n,"children"));case"sequenceItem":return["- ",pi(2,r.content?n("content"):"")];case"mappingKey":case"mappingValue":return r.content?n("content"):"";case"mappingItem":case"flowMappingItem":return yL(t,n,e);case"flowMapping":return rE(t,n,e);case"flowSequence":return rE(t,n,e);case"flowSequenceItem":return n("content");default:throw new HM(r,"YAML")}}function $L(t){return t.body.children.length>0||Ri(t.body)}function iE(t,e){return Fi(t)||e&&(e.head.children.length>0||Ri(e.head))}function EL(t,e){let n=t.node;if(t.isFirst&&/---(?:\s|$)/u.test(e.originalText.slice(uh(n),uh(n)+4))||n.head.children.length>0||Ri(n.head)||Fi(n.head))return"head";let r=t.next;return iE(n,r)?!1:r?"root":!1}function vl(t,e,n){let r=cL(t,e,n);return Fr(Kt,r.map(i=>H$(Fr(hl,i))))}function sE(t,e){if(Ps(t))switch(t.type){case"comment":if(nL(t.value))return null;break;case"quoteDouble":case"quoteSingle":e.type="quote";break}}sE.ignoredProperties=new Set(["position"]);var SL={preprocess:DL,embed:KM,print:wL,massageAstNode:sE,insertPragma:iL,getVisitorKeys:eL},TL=SL,oE=[{linguistLanguageId:407,name:"YAML",type:"data",color:"#cb171e",tmScope:"source.yaml",aliases:["yml"],extensions:[".yml",".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".gemrc","CITATION.cff","glide.lock",".prettierrc",".stylelintrc",".lintstagedrc"],aceMode:"yaml",codemirrorMode:"yaml",codemirrorMimeType:"text/x-yaml",parsers:["yaml"],vscodeLanguageIds:["yaml","ansible","dockercompose","github-actions-workflow","home-assistant"]}],D0={bracketSpacing:{category:"Common",type:"boolean",default:!0,description:"Print spaces between brackets.",oppositeDescription:"Do not print spaces between brackets."},objectWrap:{category:"Common",type:"choice",default:"preserve",description:"How to wrap object literals.",choices:[{value:"preserve",description:"Keep as multi-line, if there is a newline between the opening brace and first property."},{value:"collapse",description:"Fit to a single line when possible."}]},singleQuote:{category:"Common",type:"boolean",default:!1,description:"Use single quotes instead of double quotes."},proseWrap:{category:"Common",type:"choice",default:"preserve",description:"How to wrap prose.",choices:[{value:"always",description:"Wrap prose if it exceeds the print width."},{value:"never",description:"Do not wrap prose."},{value:"preserve",description:"Wrap prose as-is."}]},bracketSameLine:{category:"Common",type:"boolean",default:!1,description:"Put > of opening tags on the last line instead of on a new line."},singleAttributePerLine:{category:"Common",type:"boolean",default:!1,description:"Enforce single attribute per line in HTML, Vue and JSX."}},kL={bracketSpacing:D0.bracketSpacing,singleQuote:D0.singleQuote,proseWrap:D0.proseWrap},aE=kL,w0={};A$(w0,{yaml:()=>Kj});var lh=`
`,uE="\r",AL=function(){function t(e){this.length=e.length;for(var n=[0],r=0;r<e.length;)switch(e[r]){case lh:r+=lh.length,n.push(r);break;case uE:r+=uE.length,e[r]===lh&&(r+=lh.length),n.push(r);break;default:r++;break}this.offsets=n}return t.prototype.locationForIndex=function(e){if(e<0||e>this.length)return null;for(var n=0,r=this.offsets;r[n+1]<=e;)n++;var i=e-r[n];return{line:n,column:i}},t.prototype.indexForLocation=function(e){var n=e.line,r=e.column;return n<0||n>=this.offsets.length||r<0||r>this.lengthOfLine(n)?null:this.offsets[n]+r},t.prototype.lengthOfLine=function(e){var n=this.offsets[e],r=e===this.offsets.length-1?this.length:this.offsets[e+1];return r-n},t}();function Hr(t,e=null){"children"in t&&t.children.forEach(n=>Hr(n,t)),"anchor"in t&&t.anchor&&Hr(t.anchor,t),"tag"in t&&t.tag&&Hr(t.tag,t),"leadingComments"in t&&t.leadingComments.forEach(n=>Hr(n,t)),"middleComments"in t&&t.middleComments.forEach(n=>Hr(n,t)),"indicatorComment"in t&&t.indicatorComment&&Hr(t.indicatorComment,t),"trailingComment"in t&&t.trailingComment&&Hr(t.trailingComment,t),"endComments"in t&&t.endComments.forEach(n=>Hr(n,t)),Object.defineProperty(t,"_parent",{value:e,enumerable:!1})}function fh(t){return`${t.line}:${t.column}`}function CL(t){Hr(t);let e=OL(t),n=t.children.slice();t.comments.sort((r,i)=>r.position.start.offset-i.position.end.offset).filter(r=>!r._parent).forEach(r=>{for(;n.length>1&&r.position.start.line>n[0].position.end.line;)n.shift();PL(r,e,n[0])})}function OL(t){let e=Array.from(new Array(t.position.end.line),()=>({}));for(let n of t.comments)e[n.position.start.line-1].comment=n;return cE(e,t),e}function cE(t,e){if(e.position.start.offset!==e.position.end.offset){if("leadingComments"in e){let{start:n}=e.position,{leadingAttachableNode:r}=t[n.line-1];(!r||n.column<r.position.start.column)&&(t[n.line-1].leadingAttachableNode=e)}if("trailingComment"in e&&e.position.end.column>1&&e.type!=="document"&&e.type!=="documentHead"){let{end:n}=e.position,{trailingAttachableNode:r}=t[n.line-1];(!r||n.column>=r.position.end.column)&&(t[n.line-1].trailingAttachableNode=e)}if(e.type!=="root"&&e.type!=="document"&&e.type!=="documentHead"&&e.type!=="documentBody"){let{start:n,end:r}=e.position,i=[r.line].concat(n.line===r.line?[]:n.line);for(let s of i){let a=t[s-1].trailingNode;(!a||r.column>=a.position.end.column)&&(t[s-1].trailingNode=e)}}"children"in e&&e.children.forEach(n=>{cE(t,n)})}}function PL(t,e,n){let r=t.position.start.line,{trailingAttachableNode:i}=e[r-1];if(i){if(i.trailingComment)throw new Error(`Unexpected multiple trailing comment at ${fh(t.position.start)}`);Hr(t,i),i.trailingComment=t;return}for(let a=r;a>=n.position.start.line;a--){let{trailingNode:l}=e[a-1],f;if(l)f=l;else if(a!==r&&e[a-1].comment)f=e[a-1].comment._parent;else continue;if((f.type==="sequence"||f.type==="mapping")&&(f=f.children[0]),f.type==="mappingItem"){let[d,h]=f.children;f=lE(d)?d:h}for(;;){if(NL(f,t)){Hr(t,f),f.endComments.push(t);return}if(!f._parent)break;f=f._parent}break}for(let a=r+1;a<=n.position.end.line;a++){let{leadingAttachableNode:l}=e[a-1];if(l){Hr(t,l),l.leadingComments.push(t);return}}let s=n.children[1];Hr(t,s),s.endComments.push(t)}function NL(t,e){if(t.position.start.offset<e.position.start.offset&&t.position.end.offset>e.position.end.offset)switch(t.type){case"flowMapping":case"flowSequence":return t.children.length===0||e.position.start.line>t.children[t.children.length-1].position.end.line}if(e.position.end.offset<t.position.end.offset)return!1;switch(t.type){case"sequenceItem":return e.position.start.column>t.position.start.column;case"mappingKey":case"mappingValue":return e.position.start.column>t._parent.position.start.column&&(t.children.length===0||t.children.length===1&&t.children[0].type!=="blockFolded"&&t.children[0].type!=="blockLiteral")&&(t.type==="mappingValue"||lE(t));default:return!1}}function lE(t){return t.position.start!==t.position.end&&(t.children.length===0||t.position.start.offset!==t.children[0].position.start.offset)}function qn(t,e){return{type:t,position:e}}function FL(t,e,n){return{...qn("root",t),children:e,comments:n}}function dh(t){switch(t.type){case"DOCUMENT":for(let e=t.contents.length-1;e>=0;e--)t.contents[e].type==="BLANK_LINE"?t.contents.splice(e,1):dh(t.contents[e]);for(let e=t.directives.length-1;e>=0;e--)t.directives[e].type==="BLANK_LINE"&&t.directives.splice(e,1);break;case"FLOW_MAP":case"FLOW_SEQ":case"MAP":case"SEQ":for(let e=t.items.length-1;e>=0;e--){let n=t.items[e];"char"in n||(n.type==="BLANK_LINE"?t.items.splice(e,1):dh(n))}break;case"MAP_KEY":case"MAP_VALUE":case"SEQ_ITEM":t.node&&dh(t.node);break;case"ALIAS":case"BLANK_LINE":case"BLOCK_FOLDED":case"BLOCK_LITERAL":case"COMMENT":case"DIRECTIVE":case"PLAIN":case"QUOTE_DOUBLE":case"QUOTE_SINGLE":break;default:throw new Error(`Unexpected node type ${JSON.stringify(t.type)}`)}}function Lu(){return{leadingComments:[]}}function hh(t=null){return{trailingComment:t}}function va(){return{...Lu(),...hh()}}function RL(t,e,n){return{...qn("alias",t),...va(),...e,value:n}}function IL(t,e){let n=t.cstNode;return RL(e.transformRange({origStart:n.valueRange.origStart-1,origEnd:n.valueRange.origEnd}),e.transformContent(t),n.rawValue)}function ML(t){return{...t,type:"blockFolded"}}function LL(t,e,n,r,i,s){return{...qn("blockValue",t),...Lu(),...e,chomping:n,indent:r,value:i,indicatorComment:s}}var ju;(function(t){t.Tag="!",t.Anchor="&",t.Comment="#"})(ju||(ju={}));function jL(t,e){return{...qn("anchor",t),value:e}}function _0(t,e){return{...qn("comment",t),value:e}}function xL(t,e,n){return{anchor:e,tag:t,middleComments:n}}function BL(t,e){return{...qn("tag",t),value:e}}function fE(t,e,n=()=>!1){let r=t.cstNode,i=[],s=null,a=null,l=null;for(let f of r.props){let d=e.text[f.origStart];switch(d){case ju.Tag:s=s||f,a=BL(e.transformRange(f),t.tag);break;case ju.Anchor:s=s||f,l=jL(e.transformRange(f),r.anchor);break;case ju.Comment:{let h=_0(e.transformRange(f),e.text.slice(f.origStart+1,f.origEnd));e.comments.push(h),!n(h)&&s&&s.origEnd<=f.origStart&&f.origEnd<=r.valueRange.origStart&&i.push(h);break}default:throw new Error(`Unexpected leading character ${JSON.stringify(d)}`)}}return xL(a,l,i)}var $0;(function(t){t.CLIP="clip",t.STRIP="strip",t.KEEP="keep"})($0||($0={}));function dE(t,e){let n=t.cstNode,r=1,i=n.chomping==="CLIP"?0:1,s=n.header.origEnd-n.header.origStart-r-i!==0,a=e.transformRange({origStart:n.header.origStart,origEnd:n.valueRange.origEnd}),l=null,f=fE(t,e,d=>{if(!(a.start.offset<d.position.start.offset&&d.position.end.offset<a.end.offset))return!1;if(l)throw new Error(`Unexpected multiple indicator comments at ${fh(d.position.start)}`);return l=d,!0});return LL(a,f,$0[n.chomping],s?n.blockIndent:null,n.strValue,l)}function qL(t,e){return ML(dE(t,e))}function WL(t){return{...t,type:"blockLiteral"}}function UL(t,e){return WL(dE(t,e))}function VL(t,e){return _0(e.transformRange(t.range),t.comment)}function HL(t,e,n){return{...qn("directive",t),...va(),name:e,parameters:n}}function E0(t,e){for(let n of t.props){let r=e.text[n.origStart];switch(r){case ju.Comment:e.comments.push(_0(e.transformRange(n),e.text.slice(n.origStart+1,n.origEnd)));break;default:throw new Error(`Unexpected leading character ${JSON.stringify(r)}`)}}}function KL(t,e){return E0(t,e),HL(e.transformRange(t.range),t.name,t.parameters)}function zL(t,e,n,r){return{...qn("document",t),...hh(r),children:[e,n]}}function ba(t,e){return{start:t,end:e}}function hE(t){return{start:t,end:t}}function Da(t=[]){return{endComments:t}}function YL(t,e,n){return{...qn("documentBody",t),...Da(n),children:e?[e]:[]}}function Eo(t){return t[t.length-1]}function pE(t,e){let n=t.match(e);return n?n.index:-1}function GL(t,e,n){let r=t.cstNode,{comments:i,endComments:s,documentTrailingComment:a,documentHeadTrailingComment:l}=JL(r,e,n),f=e.transformNode(t.contents),{position:d,documentEndPoint:h}=QL(r,f,e);return e.comments.push(...i,...s),{documentBody:YL(d,f,s),documentEndPoint:h,documentTrailingComment:a,documentHeadTrailingComment:l}}function JL(t,e,n){let r=[],i=[],s=[],a=[],l=!1;for(let f=t.contents.length-1;f>=0;f--){let d=t.contents[f];if(d.type==="COMMENT"){let h=e.transformNode(d);n&&n.line===h.position.start.line?a.unshift(h):l?r.unshift(h):h.position.start.offset>=t.valueRange.origEnd?s.unshift(h):r.unshift(h)}else l=!0}if(s.length>1)throw new Error(`Unexpected multiple document trailing comments at ${fh(s[1].position.start)}`);if(a.length>1)throw new Error(`Unexpected multiple documentHead trailing comments at ${fh(a[1].position.start)}`);return{comments:r,endComments:i,documentTrailingComment:Eo(s)||null,documentHeadTrailingComment:Eo(a)||null}}function QL(t,e,n){let r=pE(n.text.slice(t.valueRange.origEnd),/^\.\.\./),i=r===-1?t.valueRange.origEnd:Math.max(0,t.valueRange.origEnd-1);n.text[i-1]==="\r"&&i--;let s=n.transformRange({origStart:e!==null?e.position.start.offset:i,origEnd:i}),a=r===-1?s.end:n.transformOffset(t.valueRange.origEnd+3);return{position:s,documentEndPoint:a}}function XL(t,e,n,r){return{...qn("documentHead",t),...Da(n),...hh(r),children:e}}function ZL(t,e){let n=t.cstNode,{directives:r,comments:i,endComments:s}=ej(n,e),{position:a,endMarkerPoint:l}=tj(n,r,e);return e.comments.push(...i,...s),{createDocumentHeadWithTrailingComment:f=>(f&&e.comments.push(f),XL(a,r,s,f)),documentHeadEndMarkerPoint:l}}function ej(t,e){let n=[],r=[],i=[],s=!1;for(let a=t.directives.length-1;a>=0;a--){let l=e.transformNode(t.directives[a]);l.type==="comment"?s?r.unshift(l):i.unshift(l):(s=!0,n.unshift(l))}return{directives:n,comments:r,endComments:i}}function tj(t,e,n){let r=pE(n.text.slice(0,t.valueRange.origStart),/---\s*$/);r>0&&!/[\r\n]/.test(n.text[r-1])&&(r=-1);let i=r===-1?{origStart:t.valueRange.origStart,origEnd:t.valueRange.origStart}:{origStart:r,origEnd:r+3};return e.length!==0&&(i.origStart=e[0].position.start.offset),{position:n.transformRange(i),endMarkerPoint:r===-1?null:n.transformOffset(r)}}function nj(t,e){let{createDocumentHeadWithTrailingComment:n,documentHeadEndMarkerPoint:r}=ZL(t,e),{documentBody:i,documentEndPoint:s,documentTrailingComment:a,documentHeadTrailingComment:l}=GL(t,e,r),f=n(l);return a&&e.comments.push(a),zL(ba(f.position.start,s),f,i,a)}function mE(t,e,n){return{...qn("flowCollection",t),...va(),...Da(),...e,children:n}}function rj(t,e,n){return{...mE(t,e,n),type:"flowMapping"}}function gE(t,e,n){return{...qn("flowMappingItem",t),...Lu(),children:[e,n]}}function ph(t,e){let n=[];for(let r of t)r&&"type"in r&&r.type==="COMMENT"?e.comments.push(e.transformNode(r)):n.push(r);return n}function yE(t){let[e,n]=["?",":"].map(r=>{let i=t.find(s=>"char"in s&&s.char===r);return i?{origStart:i.origOffset,origEnd:i.origOffset+1}:null});return{additionalKeyRange:e,additionalValueRange:n}}function vE(t,e){let n=e;return r=>t.slice(n,n=r)}function bE(t){let e=[],n=vE(t,1),r=!1;for(let i=1;i<t.length-1;i++){let s=t[i];if("char"in s&&s.char===","){e.push(n(i)),n(i+1),r=!1;continue}r=!0}return r&&e.push(n(t.length-1)),e}function DE(t,e){return{...qn("mappingKey",t),...hh(),...Da(),children:e?[e]:[]}}function wE(t,e){return{...qn("mappingValue",t),...va(),...Da(),children:e?[e]:[]}}function S0(t,e,n,r,i){let s=e.transformNode(t.key),a=e.transformNode(t.value),l=s||r?DE(e.transformRange({origStart:r?r.origStart:s.position.start.offset,origEnd:s?s.position.end.offset:r.origStart+1}),s):null,f=a||i?wE(e.transformRange({origStart:i?i.origStart:a.position.start.offset,origEnd:a?a.position.end.offset:i.origStart+1}),a):null;return n(ba(l?l.position.start:f.position.start,f?f.position.end:l.position.end),l||DE(hE(f.position.start),null),f||wE(hE(l.position.end),null))}function ij(t,e){let n=ph(t.cstNode.items,e),r=bE(n),i=t.items.map((l,f)=>{let d=r[f],{additionalKeyRange:h,additionalValueRange:g}=yE(d);return S0(l,e,gE,h,g)}),s=n[0],a=Eo(n);return rj(e.transformRange({origStart:s.origOffset,origEnd:a.origOffset+1}),e.transformContent(t),i)}function sj(t,e,n){return{...mE(t,e,n),type:"flowSequence"}}function oj(t,e){return{...qn("flowSequenceItem",t),children:[e]}}function aj(t,e){let n=ph(t.cstNode.items,e),r=bE(n),i=t.items.map((l,f)=>{if(l.type!=="PAIR"){let d=e.transformNode(l);return oj(ba(d.position.start,d.position.end),d)}else{let d=r[f],{additionalKeyRange:h,additionalValueRange:g}=yE(d);return S0(l,e,gE,h,g)}}),s=n[0],a=Eo(n);return sj(e.transformRange({origStart:s.origOffset,origEnd:a.origOffset+1}),e.transformContent(t),i)}function uj(t,e,n){return{...qn("mapping",t),...Lu(),...e,children:n}}function cj(t,e,n){return{...qn("mappingItem",t),...Lu(),children:[e,n]}}function lj(t,e){let n=t.cstNode;n.items.filter(a=>a.type==="MAP_KEY"||a.type==="MAP_VALUE").forEach(a=>E0(a,e));let r=ph(n.items,e),i=fj(r),s=t.items.map((a,l)=>{let f=i[l],[d,h]=f[0].type==="MAP_VALUE"?[null,f[0].range]:[f[0].range,f.length===1?null:f[1].range];return S0(a,e,cj,d,h)});return uj(ba(s[0].position.start,Eo(s).position.end),e.transformContent(t),s)}function fj(t){let e=[],n=vE(t,0),r=!1;for(let i=0;i<t.length;i++){if(t[i].type==="MAP_VALUE"){e.push(n(i+1)),r=!1;continue}r&&e.push(n(i)),r=!0}return r&&e.push(n(1/0)),e}function dj(t,e,n){return{...qn("plain",t),...va(),...e,value:n}}function hj(t,e,n){for(let r=e;r>=0;r--)if(n.test(t[r]))return r;return-1}function pj(t,e){let n=t.cstNode;return dj(e.transformRange({origStart:n.valueRange.origStart,origEnd:hj(e.text,n.valueRange.origEnd-1,/\S/)+1}),e.transformContent(t),n.strValue)}function mj(t){return{...t,type:"quoteDouble"}}function gj(t,e,n){return{...qn("quoteValue",t),...e,...va(),value:n}}function _E(t,e){let n=t.cstNode;return gj(e.transformRange(n.valueRange),e.transformContent(t),n.strValue)}function yj(t,e){return mj(_E(t,e))}function vj(t){return{...t,type:"quoteSingle"}}function bj(t,e){return vj(_E(t,e))}function Dj(t,e,n){return{...qn("sequence",t),...Lu(),...Da(),...e,children:n}}function wj(t,e){return{...qn("sequenceItem",t),...va(),...Da(),children:e?[e]:[]}}function _j(t,e){let n=ph(t.cstNode.items,e).map((r,i)=>{E0(r,e);let s=e.transformNode(t.items[i]);return wj(ba(e.transformOffset(r.valueRange.origStart),s===null?e.transformOffset(r.valueRange.origStart+1):s.position.end),s)});return Dj(ba(n[0].position.start,Eo(n).position.end),e.transformContent(t),n)}function $j(t,e){if(t===null||t.type===void 0&&t.value===null)return null;switch(t.type){case"ALIAS":return IL(t,e);case"BLOCK_FOLDED":return qL(t,e);case"BLOCK_LITERAL":return UL(t,e);case"COMMENT":return VL(t,e);case"DIRECTIVE":return KL(t,e);case"DOCUMENT":return nj(t,e);case"FLOW_MAP":return ij(t,e);case"FLOW_SEQ":return aj(t,e);case"MAP":return lj(t,e);case"PLAIN":return pj(t,e);case"QUOTE_DOUBLE":return yj(t,e);case"QUOTE_SINGLE":return bj(t,e);case"SEQ":return _j(t,e);default:throw new Error(`Unexpected node type ${t.type}`)}}function Ej(t,e,n){let r=new SyntaxError(t);return r.name="YAMLSyntaxError",r.source=e,r.position=n,r}function Sj(t,e){let n=t.source.range||t.source.valueRange;return Ej(t.message,e.text,e.transformRange(n))}function Tj(t,e,n){return{offset:t,line:e,column:n}}function kj(t,e){t<0?t=0:t>e.text.length&&(t=e.text.length);let n=e.locator.locationForIndex(t);return Tj(t,n.line+1,n.column+1)}function Aj(t,e){return ba(e.transformOffset(t.origStart),e.transformOffset(t.origEnd))}function Cj(t){if(!t.setOrigRanges()){let e=n=>{if(Oj(n))return n.origStart=n.start,n.origEnd=n.end,!0;if(Pj(n))return n.origOffset=n.offset,!0};t.forEach(n=>T0(n,e))}}function T0(t,e){if(!(!t||typeof t!="object")&&e(t)!==!0)for(let n of Object.keys(t)){if(n==="context"||n==="error")continue;let r=t[n];Array.isArray(r)?r.forEach(i=>T0(i,e)):T0(r,e)}}function Oj(t){return typeof t.start=="number"}function Pj(t){return typeof t.offset=="number"}function $E(t){if("children"in t){if(t.children.length===1){let e=t.children[0];if(e.type==="plain"&&e.tag===null&&e.anchor===null&&e.value==="")return t.children.splice(0,1),t}t.children.forEach($E)}return t}function EE(t,e,n,r){let i=e(t);return s=>{r(i,s)&&n(t,i=s)}}function SE(t){if(t===null||!("children"in t))return;let e=t.children;if(e.forEach(SE),t.type==="document"){let[s,a]=t.children;s.position.start.offset===s.position.end.offset?s.position.start=s.position.end=a.position.start:a.position.start.offset===a.position.end.offset&&(a.position.start=a.position.end=s.position.end)}let n=EE(t.position,Nj,Fj,Mj),r=EE(t.position,Rj,Ij,Lj);"endComments"in t&&t.endComments.length!==0&&(n(t.endComments[0].position.start),r(Eo(t.endComments).position.end));let i=e.filter(s=>s!==null);if(i.length!==0){let s=i[0],a=Eo(i);n(s.position.start),r(a.position.end),"leadingComments"in s&&s.leadingComments.length!==0&&n(s.leadingComments[0].position.start),"tag"in s&&s.tag&&n(s.tag.position.start),"anchor"in s&&s.anchor&&n(s.anchor.position.start),"trailingComment"in a&&a.trailingComment&&r(a.trailingComment.position.end)}}function Nj(t){return t.start}function Fj(t,e){t.start=e}function Rj(t){return t.end}function Ij(t,e){t.end=e}function Mj(t,e){return e.offset<t.offset}function Lj(t,e){return e.offset>t.offset}var jj=C$(_M(),1),mi=C$($M(),1);mi.default.findPair,mi.default.toJSON,mi.default.parseMap,mi.default.parseSeq,mi.default.stringifyNumber,mi.default.stringifyString,mi.default.Type,mi.default.YAMLError,mi.default.YAMLReferenceError;var xj=mi.default.YAMLSemanticError;mi.default.YAMLSyntaxError,mi.default.YAMLWarning;var{Document:Bj,parseCST:qj}=jj.default;function Wj(t){let e=qj(t);Cj(e);let n=e.map(l=>new Bj({merge:!1,keepCstNodes:!0}).parse(l)),r=new AL(t),i=[],s={text:t,locator:r,comments:i,transformOffset:l=>kj(l,s),transformRange:l=>Aj(l,s),transformNode:l=>$j(l,s),transformContent:l=>fE(l,s)};for(let l of n)for(let f of l.errors)if(!(f instanceof xj&&f.message==='Map keys must be unique; "<<" is repeated'))throw Sj(f,s);n.forEach(l=>dh(l.cstNode));let a=FL(s.transformRange({origStart:0,origEnd:s.text.length}),n.map(s.transformNode),i);return CL(a),SE(a),$E(a),a}function Uj(t,e){let n=new SyntaxError(t+" ("+e.loc.start.line+":"+e.loc.start.column+")");return Object.assign(n,e)}var Vj=Uj;function Hj(t){try{let e=Wj(t);return delete e.comments,e}catch(e){throw e!=null&&e.position?Vj(e.message,{loc:e.position,cause:e}):e}}var Kj={astFormat:"yaml",parse:Hj,hasPragma:rL,locStart:uh,locEnd:tL},TE={yaml:TL},zj=N$,Yj=Object.freeze({__proto__:null,default:zj,languages:oE,options:aE,parsers:w0,printers:TE});class Gj{constructor(){this.formatterEnabled=!0}configure(e){e&&(this.formatterEnabled=e.format)}async format(e,n={}){if(!this.formatterEnabled)return[];try{const r=e.getText(),i={parser:"yaml",plugins:[Yj],tabWidth:n.tabWidth||n.tabSize,singleQuote:n.singleQuote,bracketSpacing:n.bracketSpacing,proseWrap:n.proseWrap==="always"?"always":n.proseWrap==="never"?"never":"preserve",printWidth:n.printWidth},s=await k$.exports.format(r,i);return[fn.replace(ot.create(Jn.create(0,0),e.positionAt(r.length)),s)]}catch{return[]}}}class Jj{constructor(e){this.telemetry=e}findLinks(e){var n;try{const r=fi.getYamlDocument(e),i=[];for(const s of r.documents)i.push($O(e,s));return Promise.all(i).then(s=>[].concat(...s))}catch(r){(n=this.telemetry)==null||n.sendError("yaml.documentLink.error",r)}}}function Qj(t,e){if(!t)return;const n=[],r=fi.getYamlDocument(t);for(const s of r.documents)r.documents.length>1&&n.push(mh(t,s.root)),s.visit(a=>{var l;if(a.type==="object"&&((l=a.parent)==null?void 0:l.type)==="array"&&n.push(mh(t,a)),a.type==="property"&&a.valueNode)switch(a.valueNode.type){case"array":case"object":n.push(mh(t,a));break;case"string":{const f=t.positionAt(a.offset),d=t.positionAt(a.valueNode.offset+a.valueNode.length);f.line!==d.line&&n.push(mh(t,a));break}default:return!0}return!0});const i=e&&e.rangeLimit;return typeof i!="number"||n.length<=i?n:(e&&e.onRangeLimitExceeded&&e.onRangeLimitExceeded(t.uri),n.slice(0,e.rangeLimit))}function mh(t,e){const n=t.positionAt(e.offset);let r=t.positionAt(e.offset+e.length);const i=t.getText(ot.create(n,r)),s=i.length-i.trimRight().length;return s>0&&(r=t.positionAt(e.offset+e.length-s)),pf.create(n.line,r.line,n.character,r.character)}var gh;(function(t){t.JUMP_TO_SCHEMA="jumpToSchema"})(gh||(gh={}));class Xj{constructor(e){this.indentation=e}write(e){if(e.internalNode.srcToken.type!=="flow-collection")return null;const n=e.internalNode.srcToken,r=n.start.type==="flow-map-start"?"block-map":"block-seq",i=e.parent.type,s={type:r,offset:n.offset,indent:n.indent,items:[]};for(const a of n.items)ia(a,({key:l,sep:f,value:d})=>{if(r==="block-map"){const h=[{type:"space",indent:0,offset:l.offset,source:this.indentation}];i==="property"&&h.unshift({type:"newline",indent:0,offset:l.offset,source:`
`}),s.items.push({start:h,key:l,sep:f,value:d})}else r==="block-seq"&&s.items.push({start:[{type:"newline",indent:0,offset:d.offset,source:`
`},{type:"space",indent:0,offset:d.offset,source:this.indentation},{type:"seq-item-ind",indent:0,offset:d.offset,source:"-"},{type:"space",indent:0,offset:d.offset,source:" "}],value:d});if(d.type==="flow-collection")return _n.SKIP});return yw(s)}}var k0={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",g=1,S=2,O=4,I=1,P=2,C=1,R=2,T=4,v=8,D=16,b=32,_=64,$=128,q=256,F=512,L=30,M="...",Y=800,H=16,ne=1,ge=2,pe=3,$e=1/0,Ve=9007199254740991,lt=17976931348623157e292,Se=0/0,K=4294967295,de=K-1,ce=K>>>1,U=[["ary",$],["bind",C],["bindKey",R],["curry",v],["curryRight",D],["flip",F],["partial",b],["partialRight",_],["rearg",q]],te="[object Arguments]",ye="[object Array]",Ie="[object AsyncFunction]",Le="[object Boolean]",ze="[object Date]",Je="[object DOMException]",et="[object Error]",rt="[object Function]",tn="[object GeneratorFunction]",tt="[object Map]",qt="[object Number]",Gt="[object Null]",_t="[object Object]",Dn="[object Promise]",nn="[object Proxy]",Yt="[object RegExp]",mt="[object Set]",un="[object String]",dn="[object Symbol]",vn="[object Undefined]",gt="[object WeakMap]",Q="[object WeakSet]",V="[object ArrayBuffer]",Z="[object DataView]",ie="[object Float32Array]",A="[object Float64Array]",y="[object Int8Array]",w="[object Int16Array]",B="[object Int32Array]",J="[object Uint8Array]",re="[object Uint8ClampedArray]",fe="[object Uint16Array]",Ne="[object Uint32Array]",Xe=/\b__p \+= '';/g,We=/\b(__p \+=) '' \+/g,Ye=/(__e\(.*?\)|\b__t\)) \+\n'';/g,je=/&(?:amp|lt|gt|quot|#39);/g,Pt=/[&<>"']/g,bn=RegExp(je.source),yt=RegExp(Pt.source),Ut=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,An=/<%=([\s\S]+?)%>/g,hr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pr=/^\w*$/,Fs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,is=/[\\^$.*+?()[\]{}|]/g,vi=RegExp(is.source),Ii=/^\s+/,X=/\s/,En=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,hn=/\{\n\/\* \[wrapped with (.+)\] \*/,it=/,? & /,se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ke=/[()=,{}\[\]\/\s]/,Me=/\\(\\)?/g,Ke=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rn=/\w*$/,Jt=/^[-+]0x[0-9a-f]+$/i,sn=/^0b[01]+$/i,Sn=/^\[object .+?Constructor\]$/,Un=/^0o[0-7]+$/i,Vt=/^(?:0|[1-9]\d*)$/,Tn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt=/($^)/,kn=/['\n\r\u2028\u2029\\]/g,pn="\\ud800-\\udfff",wl="\\u0300-\\u036f",_l="\\ufe20-\\ufe2f",Mh="\\u20d0-\\u20ff",$l=wl+_l+Mh,Lh="\\u2700-\\u27bf",ss="a-z\\xdf-\\xf6\\xf8-\\xff",jh="\\xac\\xb1\\xd7\\xf7",Rs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xh="\\u2000-\\u206f",Bh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",qh="A-Z\\xc0-\\xd6\\xd8-\\xde",bi="\\ufe0e\\ufe0f",Wh=jh+Rs+xh+Bh,El="['\u2019]",q0="["+pn+"]",Uh="["+Wh+"]",Wu="["+$l+"]",Vh="\\d+",W0="["+Lh+"]",Uu="["+ss+"]",ar="[^"+pn+Wh+Vh+Lh+ss+qh+"]",Ir="\\ud83c[\\udffb-\\udfff]",Ao="(?:"+Wu+"|"+Ir+")",Vu="[^"+pn+"]",Hu="(?:\\ud83c[\\udde6-\\uddff]){2}",Sl="[\\ud800-\\udbff][\\udc00-\\udfff]",Co="["+qh+"]",Ku="\\u200d",zu="(?:"+Uu+"|"+ar+")",Yu="(?:"+Co+"|"+ar+")",Sa="(?:"+El+"(?:d|ll|m|re|s|t|ve))?",Hh="(?:"+El+"(?:D|LL|M|RE|S|T|VE))?",Gu=Ao+"?",os="["+bi+"]?",Tl="(?:"+Ku+"(?:"+[Vu,Hu,Sl].join("|")+")"+os+Gu+")*",Ju="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",U0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Kh=os+Gu+Tl,zh="(?:"+[W0,Hu,Sl].join("|")+")"+Kh,kl="(?:"+[Vu+Wu+"?",Wu,Hu,Sl,q0].join("|")+")",V0=RegExp(El,"g"),H0=RegExp(Wu,"g"),Oo=RegExp(Ir+"(?="+Ir+")|"+kl+Kh,"g"),K0=RegExp([Co+"?"+Uu+"+"+Sa+"(?="+[Uh,Co,"$"].join("|")+")",Yu+"+"+Hh+"(?="+[Uh,Co+zu,"$"].join("|")+")",Co+"?"+zu+"+"+Sa,Co+"+"+Hh,U0,Ju,Vh,zh].join("|"),"g"),z0=RegExp("["+Ku+pn+$l+bi+"]"),Ta=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Y0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],as=-1,mn={};mn[ie]=mn[A]=mn[y]=mn[w]=mn[B]=mn[J]=mn[re]=mn[fe]=mn[Ne]=!0,mn[te]=mn[ye]=mn[V]=mn[Le]=mn[Z]=mn[ze]=mn[et]=mn[rt]=mn[tt]=mn[qt]=mn[_t]=mn[Yt]=mn[mt]=mn[un]=mn[gt]=!1;var cn={};cn[te]=cn[ye]=cn[V]=cn[Z]=cn[Le]=cn[ze]=cn[ie]=cn[A]=cn[y]=cn[w]=cn[B]=cn[tt]=cn[qt]=cn[_t]=cn[Yt]=cn[mt]=cn[un]=cn[dn]=cn[J]=cn[re]=cn[fe]=cn[Ne]=!0,cn[et]=cn[rt]=cn[gt]=!1;var G0={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Is={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},J0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},us={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Q0=parseFloat,X0=parseInt,Al=typeof Wt=="object"&&Wt&&Wt.Object===Object&&Wt,Z0=typeof self=="object"&&self&&self.Object===Object&&self,Zn=Al||Z0||Function("return this")(),Po=e&&!e.nodeType&&e,Ms=Po&&!0&&t&&!t.nodeType&&t,Qu=Ms&&Ms.exports===Po,cs=Qu&&Al.process,Gn=function(){try{var he=Ms&&Ms.require&&Ms.require("util").types;return he||cs&&cs.binding&&cs.binding("util")}catch{}}(),Ls=Gn&&Gn.isArrayBuffer,Xu=Gn&&Gn.isDate,Zu=Gn&&Gn.isMap,Cl=Gn&&Gn.isRegExp,ec=Gn&&Gn.isSet,Yh=Gn&&Gn.isTypedArray;function mr(he,Ee,_e){switch(_e.length){case 0:return he.call(Ee);case 1:return he.call(Ee,_e[0]);case 2:return he.call(Ee,_e[0],_e[1]);case 3:return he.call(Ee,_e[0],_e[1],_e[2])}return he.apply(Ee,_e)}function ev(he,Ee,_e,He){for(var ht=-1,Ht=he==null?0:he.length;++ht<Ht;){var Vn=he[ht];Ee(He,Vn,_e(Vn),he)}return He}function Mr(he,Ee){for(var _e=-1,He=he==null?0:he.length;++_e<He&&Ee(he[_e],_e,he)!==!1;);return he}function Gh(he,Ee){for(var _e=he==null?0:he.length;_e--&&Ee(he[_e],_e,he)!==!1;);return he}function tc(he,Ee){for(var _e=-1,He=he==null?0:he.length;++_e<He;)if(!Ee(he[_e],_e,he))return!1;return!0}function ls(he,Ee){for(var _e=-1,He=he==null?0:he.length,ht=0,Ht=[];++_e<He;){var Vn=he[_e];Ee(Vn,_e,he)&&(Ht[ht++]=Vn)}return Ht}function No(he,Ee){var _e=he==null?0:he.length;return!!_e&&Fo(he,Ee,0)>-1}function nc(he,Ee,_e){for(var He=-1,ht=he==null?0:he.length;++He<ht;)if(_e(Ee,he[He]))return!0;return!1}function wn(he,Ee){for(var _e=-1,He=he==null?0:he.length,ht=Array(He);++_e<He;)ht[_e]=Ee(he[_e],_e,he);return ht}function fs(he,Ee){for(var _e=-1,He=Ee.length,ht=he.length;++_e<He;)he[ht+_e]=Ee[_e];return he}function Ol(he,Ee,_e,He){var ht=-1,Ht=he==null?0:he.length;for(He&&Ht&&(_e=he[++ht]);++ht<Ht;)_e=Ee(_e,he[ht],ht,he);return _e}function tv(he,Ee,_e,He){var ht=he==null?0:he.length;for(He&&ht&&(_e=he[--ht]);ht--;)_e=Ee(_e,he[ht],ht,he);return _e}function Pl(he,Ee){for(var _e=-1,He=he==null?0:he.length;++_e<He;)if(Ee(he[_e],_e,he))return!0;return!1}var Jh=Rl("length");function Qh(he){return he.split("")}function nv(he){return he.match(se)||[]}function Nl(he,Ee,_e){var He;return _e(he,function(ht,Ht,Vn){if(Ee(ht,Ht,Vn))return He=Ht,!1}),He}function rc(he,Ee,_e,He){for(var ht=he.length,Ht=_e+(He?1:-1);He?Ht--:++Ht<ht;)if(Ee(he[Ht],Ht,he))return Ht;return-1}function Fo(he,Ee,_e){return Ee===Ee?ov(he,Ee,_e):rc(he,Fl,_e)}function rv(he,Ee,_e,He){for(var ht=_e-1,Ht=he.length;++ht<Ht;)if(He(he[ht],Ee))return ht;return-1}function Fl(he){return he!==he}function Xh(he,Ee){var _e=he==null?0:he.length;return _e?Ml(he,Ee)/_e:Se}function Rl(he){return function(Ee){return Ee==null?n:Ee[he]}}function Il(he){return function(Ee){return he==null?n:he[Ee]}}function js(he,Ee,_e,He,ht){return ht(he,function(Ht,Vn,ln){_e=He?(He=!1,Ht):Ee(_e,Ht,Vn,ln)}),_e}function Zh(he,Ee){var _e=he.length;for(he.sort(Ee);_e--;)he[_e]=he[_e].value;return he}function Ml(he,Ee){for(var _e,He=-1,ht=he.length;++He<ht;){var Ht=Ee(he[He]);Ht!==n&&(_e=_e===n?Ht:_e+Ht)}return _e}function ds(he,Ee){for(var _e=-1,He=Array(he);++_e<he;)He[_e]=Ee(_e);return He}function ep(he,Ee){return wn(Ee,function(_e){return[_e,he[_e]]})}function ka(he){return he&&he.slice(0,op(he)+1).replace(Ii,"")}function gr(he){return function(Ee){return he(Ee)}}function Ll(he,Ee){return wn(Ee,function(_e){return he[_e]})}function Ro(he,Ee){return he.has(Ee)}function jl(he,Ee){for(var _e=-1,He=he.length;++_e<He&&Fo(Ee,he[_e],0)>-1;);return _e}function xl(he,Ee){for(var _e=he.length;_e--&&Fo(Ee,he[_e],0)>-1;);return _e}function tp(he,Ee){for(var _e=he.length,He=0;_e--;)he[_e]===Ee&&++He;return He}var Bl=Il(G0),np=Il(Is);function iv(he){return"\\"+us[he]}function rp(he,Ee){return he==null?n:he[Ee]}function Io(he){return z0.test(he)}function sv(he){return Ta.test(he)}function hs(he){for(var Ee,_e=[];!(Ee=he.next()).done;)_e.push(Ee.value);return _e}function ql(he){var Ee=-1,_e=Array(he.size);return he.forEach(function(He,ht){_e[++Ee]=[ht,He]}),_e}function ip(he,Ee){return function(_e){return he(Ee(_e))}}function ps(he,Ee){for(var _e=-1,He=he.length,ht=0,Ht=[];++_e<He;){var Vn=he[_e];(Vn===Ee||Vn===h)&&(he[_e]=h,Ht[ht++]=_e)}return Ht}function ic(he){var Ee=-1,_e=Array(he.size);return he.forEach(function(He){_e[++Ee]=He}),_e}function sp(he){var Ee=-1,_e=Array(he.size);return he.forEach(function(He){_e[++Ee]=[He,He]}),_e}function ov(he,Ee,_e){for(var He=_e-1,ht=he.length;++He<ht;)if(he[He]===Ee)return He;return-1}function av(he,Ee,_e){for(var He=_e+1;He--;)if(he[He]===Ee)return He;return He}function Mo(he){return Io(he)?cv(he):Jh(he)}function zr(he){return Io(he)?lv(he):Qh(he)}function op(he){for(var Ee=he.length;Ee--&&X.test(he.charAt(Ee)););return Ee}var uv=Il(J0);function cv(he){for(var Ee=Oo.lastIndex=0;Oo.test(he);)++Ee;return Ee}function lv(he){return he.match(Oo)||[]}function ap(he){return he.match(K0)||[]}var up=function he(Ee){Ee=Ee==null?Zn:xs.defaults(Zn.Object(),Ee,xs.pick(Zn,Y0));var _e=Ee.Array,He=Ee.Date,ht=Ee.Error,Ht=Ee.Function,Vn=Ee.Math,ln=Ee.Object,sc=Ee.RegExp,fv=Ee.String,Lr=Ee.TypeError,oc=_e.prototype,dv=Ht.prototype,Lo=ln.prototype,jo=Ee["__core-js_shared__"],ac=dv.toString,Qt=Lo.hasOwnProperty,hv=0,cp=function(){var o=/[^.]+$/.exec(jo&&jo.keys&&jo.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),uc=Lo.toString,lp=ac.call(ln),fp=Zn._,pv=sc("^"+ac.call(Qt).replace(is,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Aa=Qu?Ee.Buffer:n,Mi=Ee.Symbol,cc=Ee.Uint8Array,Wl=Aa?Aa.allocUnsafe:n,lc=ip(ln.getPrototypeOf,ln),Bs=ln.create,dp=Lo.propertyIsEnumerable,fc=oc.splice,hp=Mi?Mi.isConcatSpreadable:n,Li=Mi?Mi.iterator:n,qs=Mi?Mi.toStringTag:n,dc=function(){try{var o=ja(ln,"defineProperty");return o({},"",{}),o}catch{}}(),mv=Ee.clearTimeout!==Zn.clearTimeout&&Ee.clearTimeout,gv=He&&He.now!==Zn.Date.now&&He.now,hc=Ee.setTimeout!==Zn.setTimeout&&Ee.setTimeout,Ca=Vn.ceil,Oa=Vn.floor,Ul=ln.getOwnPropertySymbols,yv=Aa?Aa.isBuffer:n,pp=Ee.isFinite,vv=oc.join,bv=ip(ln.keys,ln),Hn=Vn.max,nr=Vn.min,Dv=He.now,mp=Ee.parseInt,gp=Vn.random,Vl=oc.reverse,Hl=ja(Ee,"DataView"),xo=ja(Ee,"Map"),Kl=ja(Ee,"Promise"),Ws=ja(Ee,"Set"),Pa=ja(Ee,"WeakMap"),Bo=ja(ln,"create"),Na=Pa&&new Pa,Us={},wv=xa(Hl),zl=xa(xo),yp=xa(Kl),vp=xa(Ws),bp=xa(Pa),Fa=Mi?Mi.prototype:n,Ra=Fa?Fa.valueOf:n,Dp=Fa?Fa.toString:n;function z(o){if(In(o)&&!Et(o)&&!(o instanceof It)){if(o instanceof Er)return o;if(Qt.call(o,"__wrapped__"))return dT(o)}return new Er(o)}var qo=function(){function o(){}return function(u){if(!On(u))return{};if(Bs)return Bs(u);o.prototype=u;var p=new o;return o.prototype=n,p}}();function pc(){}function Er(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}z.templateSettings={escape:Ut,evaluate:St,interpolate:An,variable:"",imports:{_:z}},z.prototype=pc.prototype,z.prototype.constructor=z,Er.prototype=qo(pc.prototype),Er.prototype.constructor=Er;function It(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=K,this.__views__=[]}function _v(){var o=new It(this.__wrapped__);return o.__actions__=jr(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=jr(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=jr(this.__views__),o}function $v(){if(this.__filtered__){var o=new It(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function Ev(){var o=this.__wrapped__.value(),u=this.__dir__,p=Et(o),k=u<0,W=p?o.length:0,G=QB(0,W,this.__views__),oe=G.start,le=G.end,me=le-oe,Ce=k?le:oe-1,Oe=this.__iteratees__,Fe=Oe.length,qe=0,Ge=nr(me,this.__takeCount__);if(!p||!k&&W==me&&Ge==me)return IS(o,this.__actions__);var ut=[];e:for(;me--&&qe<Ge;){Ce+=u;for(var Ot=-1,ct=o[Ce];++Ot<Fe;){var Mt=Oe[Ot],Bt=Mt.iteratee,ei=Mt.type,Tr=Bt(ct);if(ei==ge)ct=Tr;else if(!Tr){if(ei==ne)continue e;break e}}ut[qe++]=ct}return ut}It.prototype=qo(pc.prototype),It.prototype.constructor=It;function ms(o){var u=-1,p=o==null?0:o.length;for(this.clear();++u<p;){var k=o[u];this.set(k[0],k[1])}}function Sv(){this.__data__=Bo?Bo(null):{},this.size=0}function Yl(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u}function Tv(o){var u=this.__data__;if(Bo){var p=u[o];return p===f?n:p}return Qt.call(u,o)?u[o]:n}function Gl(o){var u=this.__data__;return Bo?u[o]!==n:Qt.call(u,o)}function kv(o,u){var p=this.__data__;return this.size+=this.has(o)?0:1,p[o]=Bo&&u===n?f:u,this}ms.prototype.clear=Sv,ms.prototype.delete=Yl,ms.prototype.get=Tv,ms.prototype.has=Gl,ms.prototype.set=kv;function Yr(o){var u=-1,p=o==null?0:o.length;for(this.clear();++u<p;){var k=o[u];this.set(k[0],k[1])}}function Av(){this.__data__=[],this.size=0}function Jl(o){var u=this.__data__,p=Ia(u,o);if(p<0)return!1;var k=u.length-1;return p==k?u.pop():fc.call(u,p,1),--this.size,!0}function Cv(o){var u=this.__data__,p=Ia(u,o);return p<0?n:u[p][1]}function Ov(o){return Ia(this.__data__,o)>-1}function Pv(o,u){var p=this.__data__,k=Ia(p,o);return k<0?(++this.size,p.push([o,u])):p[k][1]=u,this}Yr.prototype.clear=Av,Yr.prototype.delete=Jl,Yr.prototype.get=Cv,Yr.prototype.has=Ov,Yr.prototype.set=Pv;function ji(o){var u=-1,p=o==null?0:o.length;for(this.clear();++u<p;){var k=o[u];this.set(k[0],k[1])}}function Nv(){this.size=0,this.__data__={hash:new ms,map:new(xo||Yr),string:new ms}}function Fv(o){var u=Ip(this,o).delete(o);return this.size-=u?1:0,u}function Rv(o){return Ip(this,o).get(o)}function mc(o){return Ip(this,o).has(o)}function wp(o,u){var p=Ip(this,o),k=p.size;return p.set(o,u),this.size+=p.size==k?0:1,this}ji.prototype.clear=Nv,ji.prototype.delete=Fv,ji.prototype.get=Rv,ji.prototype.has=mc,ji.prototype.set=wp;function Vs(o){var u=-1,p=o==null?0:o.length;for(this.__data__=new ji;++u<p;)this.add(o[u])}function Iv(o){return this.__data__.set(o,f),this}function Mv(o){return this.__data__.has(o)}Vs.prototype.add=Vs.prototype.push=Iv,Vs.prototype.has=Mv;function Gr(o){var u=this.__data__=new Yr(o);this.size=u.size}function Lv(){this.__data__=new Yr,this.size=0}function jv(o){var u=this.__data__,p=u.delete(o);return this.size=u.size,p}function xv(o){return this.__data__.get(o)}function Bv(o){return this.__data__.has(o)}function qv(o,u){var p=this.__data__;if(p instanceof Yr){var k=p.__data__;if(!xo||k.length<i-1)return k.push([o,u]),this.size=++p.size,this;p=this.__data__=new ji(k)}return p.set(o,u),this.size=p.size,this}Gr.prototype.clear=Lv,Gr.prototype.delete=jv,Gr.prototype.get=xv,Gr.prototype.has=Bv,Gr.prototype.set=qv;function _p(o,u){var p=Et(o),k=!p&&Ba(o),W=!p&&!k&&Ho(o),G=!p&&!k&&!W&&bc(o),oe=p||k||W||G,le=oe?ds(o.length,fv):[],me=le.length;for(var Ce in o)(u||Qt.call(o,Ce))&&!(oe&&(Ce=="length"||W&&(Ce=="offset"||Ce=="parent")||G&&(Ce=="buffer"||Ce=="byteLength"||Ce=="byteOffset")||Ys(Ce,me)))&&le.push(Ce);return le}function $p(o){var u=o.length;return u?o[Jv(0,u-1)]:n}function Wv(o,u){return Mp(jr(o),m(u,0,o.length))}function Uv(o){return Mp(jr(o))}function Ql(o,u,p){(p!==n&&!Bi(o[u],p)||p===n&&!(u in o))&&xi(o,u,p)}function Jr(o,u,p){var k=o[u];(!(Qt.call(o,u)&&Bi(k,p))||p===n&&!(u in o))&&xi(o,u,p)}function Ia(o,u){for(var p=o.length;p--;)if(Bi(o[p][0],u))return p;return-1}function Ep(o,u,p,k){return ae(o,function(W,G,oe){u(k,W,p(W),oe)}),k}function Sp(o,u){return o&&gs(u,rr(u),o)}function Vv(o,u){return o&&gs(u,Br(u),o)}function xi(o,u,p){u=="__proto__"&&dc?dc(o,u,{configurable:!0,enumerable:!0,value:p,writable:!0}):o[u]=p}function c(o,u){for(var p=-1,k=u.length,W=_e(k),G=o==null;++p<k;)W[p]=G?n:wb(o,u[p]);return W}function m(o,u,p){return o===o&&(p!==n&&(o=o<=p?o:p),u!==n&&(o=o>=u?o:u)),o}function E(o,u,p,k,W,G){var oe,le=u&g,me=u&S,Ce=u&O;if(p&&(oe=W?p(o,k,W,G):p(o)),oe!==n)return oe;if(!On(o))return o;var Oe=Et(o);if(Oe){if(oe=ZB(o),!le)return jr(o,oe)}else{var Fe=yr(o),qe=Fe==rt||Fe==tn;if(Ho(o))return jS(o,le);if(Fe==_t||Fe==te||qe&&!W){if(oe=me||qe?{}:rT(o),!le)return me?WB(o,Vv(oe,o)):qB(o,Sp(oe,o))}else{if(!cn[Fe])return W?o:{};oe=eq(o,Fe,le)}}G||(G=new Gr);var Ge=G.get(o);if(Ge)return Ge;G.set(o,oe),NT(o)?o.forEach(function(ct){oe.add(E(ct,u,p,ct,o,G))}):OT(o)&&o.forEach(function(ct,Mt){oe.set(Mt,E(ct,u,p,Mt,o,G))});var ut=Ce?me?ab:ob:me?Br:rr,Ot=Oe?n:ut(o);return Mr(Ot||o,function(ct,Mt){Ot&&(Mt=ct,ct=o[Mt]),Jr(oe,Mt,E(ct,u,p,Mt,o,G))}),oe}function N(o){var u=rr(o);return function(p){return x(p,o,u)}}function x(o,u,p){var k=p.length;if(o==null)return!k;for(o=ln(o);k--;){var W=p[k],G=u[W],oe=o[W];if(oe===n&&!(W in o)||!G(oe))return!1}return!0}function j(o,u,p){if(typeof o!="function")throw new Lr(a);return nf(function(){o.apply(n,p)},u)}function ee(o,u,p,k){var W=-1,G=No,oe=!0,le=o.length,me=[],Ce=u.length;if(!le)return me;p&&(u=wn(u,gr(p))),k?(G=nc,oe=!1):u.length>=i&&(G=Ro,oe=!1,u=new Vs(u));e:for(;++W<le;){var Oe=o[W],Fe=p==null?Oe:p(Oe);if(Oe=k||Oe!==0?Oe:0,oe&&Fe===Fe){for(var qe=Ce;qe--;)if(u[qe]===Fe)continue e;me.push(Oe)}else G(u,Fe,k)||me.push(Oe)}return me}var ae=US(xe),ue=US(at,!0);function ve(o,u){var p=!0;return ae(o,function(k,W,G){return p=!!u(k,W,G),p}),p}function we(o,u,p){for(var k=-1,W=o.length;++k<W;){var G=o[k],oe=u(G);if(oe!=null&&(le===n?oe===oe&&!Zr(oe):p(oe,le)))var le=oe,me=G}return me}function Te(o,u,p,k){var W=o.length;for(p=At(p),p<0&&(p=-p>W?0:W+p),k=k===n||k>W?W:At(k),k<0&&(k+=W),k=p>k?0:RT(k);p<k;)o[p++]=u;return o}function Pe(o,u){var p=[];return ae(o,function(k,W,G){u(k,W,G)&&p.push(k)}),p}function be(o,u,p,k,W){var G=-1,oe=o.length;for(p||(p=nq),W||(W=[]);++G<oe;){var le=o[G];u>0&&p(le)?u>1?be(le,u-1,p,k,W):fs(W,le):k||(W[W.length]=le)}return W}var Re=VS(),Ae=VS(!0);function xe(o,u){return o&&Re(o,u,rr)}function at(o,u){return o&&Ae(o,u,rr)}function Ct(o,u){return ls(u,function(p){return Gs(o[p])})}function nt(o,u){u=Uo(u,o);for(var p=0,k=u.length;o!=null&&p<k;)o=o[ys(u[p++])];return p&&p==k?o:n}function vt(o,u,p){var k=u(o);return Et(o)?k:fs(k,p(o))}function bt(o){return o==null?o===n?vn:Gt:qs&&qs in ln(o)?JB(o):cq(o)}function gn(o,u){return o>u}function ur(o,u){return o!=null&&Qt.call(o,u)}function Qr(o,u){return o!=null&&u in ln(o)}function Ma(o,u,p){return o>=nr(u,p)&&o<Hn(u,p)}function La(o,u,p){for(var k=p?nc:No,W=o[0].length,G=o.length,oe=G,le=_e(G),me=1/0,Ce=[];oe--;){var Oe=o[oe];oe&&u&&(Oe=wn(Oe,gr(u))),me=nr(Oe.length,me),le[oe]=!p&&(u||W>=120&&Oe.length>=120)?new Vs(oe&&Oe):n}Oe=o[0];var Fe=-1,qe=le[0];e:for(;++Fe<W&&Ce.length<me;){var Ge=Oe[Fe],ut=u?u(Ge):Ge;if(Ge=p||Ge!==0?Ge:0,!(qe?Ro(qe,ut):k(Ce,ut,p))){for(oe=G;--oe;){var Ot=le[oe];if(!(Ot?Ro(Ot,ut):k(o[oe],ut,p)))continue e}qe&&qe.push(ut),Ce.push(Ge)}}return Ce}function Hv(o,u,p,k){return xe(o,function(W,G,oe){u(k,p(W),G,oe)}),k}function Hs(o,u,p){u=Uo(u,o),o=aT(o,u);var k=o==null?o:o[ys(wi(u))];return k==null?n:mr(k,o,p)}function wS(o){return In(o)&&bt(o)==te}function bB(o){return In(o)&&bt(o)==V}function DB(o){return In(o)&&bt(o)==ze}function Xl(o,u,p,k,W){return o===u?!0:o==null||u==null||!In(o)&&!In(u)?o!==o&&u!==u:wB(o,u,p,k,Xl,W)}function wB(o,u,p,k,W,G){var oe=Et(o),le=Et(u),me=oe?ye:yr(o),Ce=le?ye:yr(u);me=me==te?_t:me,Ce=Ce==te?_t:Ce;var Oe=me==_t,Fe=Ce==_t,qe=me==Ce;if(qe&&Ho(o)){if(!Ho(u))return!1;oe=!0,Oe=!1}if(qe&&!Oe)return G||(G=new Gr),oe||bc(o)?eT(o,u,p,k,W,G):YB(o,u,me,p,k,W,G);if(!(p&I)){var Ge=Oe&&Qt.call(o,"__wrapped__"),ut=Fe&&Qt.call(u,"__wrapped__");if(Ge||ut){var Ot=Ge?o.value():o,ct=ut?u.value():u;return G||(G=new Gr),W(Ot,ct,p,k,G)}}return qe?(G||(G=new Gr),GB(o,u,p,k,W,G)):!1}function _B(o){return In(o)&&yr(o)==tt}function Kv(o,u,p,k){var W=p.length,G=W,oe=!k;if(o==null)return!G;for(o=ln(o);W--;){var le=p[W];if(oe&&le[2]?le[1]!==o[le[0]]:!(le[0]in o))return!1}for(;++W<G;){le=p[W];var me=le[0],Ce=o[me],Oe=le[1];if(oe&&le[2]){if(Ce===n&&!(me in o))return!1}else{var Fe=new Gr;if(k)var qe=k(Ce,Oe,me,o,u,Fe);if(!(qe===n?Xl(Oe,Ce,I|P,k,Fe):qe))return!1}}return!0}function _S(o){if(!On(o)||iq(o))return!1;var u=Gs(o)?pv:Sn;return u.test(xa(o))}function $B(o){return In(o)&&bt(o)==Yt}function EB(o){return In(o)&&yr(o)==mt}function SB(o){return In(o)&&Wp(o.length)&&!!mn[bt(o)]}function $S(o){return typeof o=="function"?o:o==null?qr:typeof o=="object"?Et(o)?TS(o[0],o[1]):SS(o):HT(o)}function zv(o){if(!tf(o))return bv(o);var u=[];for(var p in ln(o))Qt.call(o,p)&&p!="constructor"&&u.push(p);return u}function TB(o){if(!On(o))return uq(o);var u=tf(o),p=[];for(var k in o)k=="constructor"&&(u||!Qt.call(o,k))||p.push(k);return p}function Yv(o,u){return o<u}function ES(o,u){var p=-1,k=xr(o)?_e(o.length):[];return ae(o,function(W,G,oe){k[++p]=u(W,G,oe)}),k}function SS(o){var u=cb(o);return u.length==1&&u[0][2]?sT(u[0][0],u[0][1]):function(p){return p===o||Kv(p,o,u)}}function TS(o,u){return fb(o)&&iT(u)?sT(ys(o),u):function(p){var k=wb(p,o);return k===n&&k===u?_b(p,o):Xl(u,k,I|P)}}function Tp(o,u,p,k,W){o!==u&&Re(u,function(G,oe){if(W||(W=new Gr),On(G))kB(o,u,oe,p,Tp,k,W);else{var le=k?k(hb(o,oe),G,oe+"",o,u,W):n;le===n&&(le=G),Ql(o,oe,le)}},Br)}function kB(o,u,p,k,W,G,oe){var le=hb(o,p),me=hb(u,p),Ce=oe.get(me);if(Ce){Ql(o,p,Ce);return}var Oe=G?G(le,me,p+"",o,u,oe):n,Fe=Oe===n;if(Fe){var qe=Et(me),Ge=!qe&&Ho(me),ut=!qe&&!Ge&&bc(me);Oe=me,qe||Ge||ut?Et(le)?Oe=le:Kn(le)?Oe=jr(le):Ge?(Fe=!1,Oe=jS(me,!0)):ut?(Fe=!1,Oe=xS(me,!0)):Oe=[]:rf(me)||Ba(me)?(Oe=le,Ba(le)?Oe=IT(le):(!On(le)||Gs(le))&&(Oe=rT(me))):Fe=!1}Fe&&(oe.set(me,Oe),W(Oe,me,k,G,oe),oe.delete(me)),Ql(o,p,Oe)}function kS(o,u){var p=o.length;if(!!p)return u+=u<0?p:0,Ys(u,p)?o[u]:n}function AS(o,u,p){u.length?u=wn(u,function(G){return Et(G)?function(oe){return nt(oe,G.length===1?G[0]:G)}:G}):u=[qr];var k=-1;u=wn(u,gr(st()));var W=ES(o,function(G,oe,le){var me=wn(u,function(Ce){return Ce(G)});return{criteria:me,index:++k,value:G}});return Zh(W,function(G,oe){return BB(G,oe,p)})}function AB(o,u){return CS(o,u,function(p,k){return _b(o,k)})}function CS(o,u,p){for(var k=-1,W=u.length,G={};++k<W;){var oe=u[k],le=nt(o,oe);p(le,oe)&&Zl(G,Uo(oe,o),le)}return G}function CB(o){return function(u){return nt(u,o)}}function Gv(o,u,p,k){var W=k?rv:Fo,G=-1,oe=u.length,le=o;for(o===u&&(u=jr(u)),p&&(le=wn(o,gr(p)));++G<oe;)for(var me=0,Ce=u[G],Oe=p?p(Ce):Ce;(me=W(le,Oe,me,k))>-1;)le!==o&&fc.call(le,me,1),fc.call(o,me,1);return o}function OS(o,u){for(var p=o?u.length:0,k=p-1;p--;){var W=u[p];if(p==k||W!==G){var G=W;Ys(W)?fc.call(o,W,1):Zv(o,W)}}return o}function Jv(o,u){return o+Oa(gp()*(u-o+1))}function OB(o,u,p,k){for(var W=-1,G=Hn(Ca((u-o)/(p||1)),0),oe=_e(G);G--;)oe[k?G:++W]=o,o+=p;return oe}function Qv(o,u){var p="";if(!o||u<1||u>Ve)return p;do u%2&&(p+=o),u=Oa(u/2),u&&(o+=o);while(u);return p}function Nt(o,u){return pb(oT(o,u,qr),o+"")}function PB(o){return $p(Dc(o))}function NB(o,u){var p=Dc(o);return Mp(p,m(u,0,p.length))}function Zl(o,u,p,k){if(!On(o))return o;u=Uo(u,o);for(var W=-1,G=u.length,oe=G-1,le=o;le!=null&&++W<G;){var me=ys(u[W]),Ce=p;if(me==="__proto__"||me==="constructor"||me==="prototype")return o;if(W!=oe){var Oe=le[me];Ce=k?k(Oe,me,le):n,Ce===n&&(Ce=On(Oe)?Oe:Ys(u[W+1])?[]:{})}Jr(le,me,Ce),le=le[me]}return o}var PS=Na?function(o,u){return Na.set(o,u),o}:qr,FB=dc?function(o,u){return dc(o,"toString",{configurable:!0,enumerable:!1,value:Eb(u),writable:!0})}:qr;function RB(o){return Mp(Dc(o))}function Di(o,u,p){var k=-1,W=o.length;u<0&&(u=-u>W?0:W+u),p=p>W?W:p,p<0&&(p+=W),W=u>p?0:p-u>>>0,u>>>=0;for(var G=_e(W);++k<W;)G[k]=o[k+u];return G}function IB(o,u){var p;return ae(o,function(k,W,G){return p=u(k,W,G),!p}),!!p}function kp(o,u,p){var k=0,W=o==null?k:o.length;if(typeof u=="number"&&u===u&&W<=ce){for(;k<W;){var G=k+W>>>1,oe=o[G];oe!==null&&!Zr(oe)&&(p?oe<=u:oe<u)?k=G+1:W=G}return W}return Xv(o,u,qr,p)}function Xv(o,u,p,k){var W=0,G=o==null?0:o.length;if(G===0)return 0;u=p(u);for(var oe=u!==u,le=u===null,me=Zr(u),Ce=u===n;W<G;){var Oe=Oa((W+G)/2),Fe=p(o[Oe]),qe=Fe!==n,Ge=Fe===null,ut=Fe===Fe,Ot=Zr(Fe);if(oe)var ct=k||ut;else Ce?ct=ut&&(k||qe):le?ct=ut&&qe&&(k||!Ge):me?ct=ut&&qe&&!Ge&&(k||!Ot):Ge||Ot?ct=!1:ct=k?Fe<=u:Fe<u;ct?W=Oe+1:G=Oe}return nr(G,de)}function NS(o,u){for(var p=-1,k=o.length,W=0,G=[];++p<k;){var oe=o[p],le=u?u(oe):oe;if(!p||!Bi(le,me)){var me=le;G[W++]=oe===0?0:oe}}return G}function FS(o){return typeof o=="number"?o:Zr(o)?Se:+o}function Xr(o){if(typeof o=="string")return o;if(Et(o))return wn(o,Xr)+"";if(Zr(o))return Dp?Dp.call(o):"";var u=o+"";return u=="0"&&1/o==-$e?"-0":u}function Wo(o,u,p){var k=-1,W=No,G=o.length,oe=!0,le=[],me=le;if(p)oe=!1,W=nc;else if(G>=i){var Ce=u?null:KB(o);if(Ce)return ic(Ce);oe=!1,W=Ro,me=new Vs}else me=u?[]:le;e:for(;++k<G;){var Oe=o[k],Fe=u?u(Oe):Oe;if(Oe=p||Oe!==0?Oe:0,oe&&Fe===Fe){for(var qe=me.length;qe--;)if(me[qe]===Fe)continue e;u&&me.push(Fe),le.push(Oe)}else W(me,Fe,p)||(me!==le&&me.push(Fe),le.push(Oe))}return le}function Zv(o,u){return u=Uo(u,o),o=aT(o,u),o==null||delete o[ys(wi(u))]}function RS(o,u,p,k){return Zl(o,u,p(nt(o,u)),k)}function Ap(o,u,p,k){for(var W=o.length,G=k?W:-1;(k?G--:++G<W)&&u(o[G],G,o););return p?Di(o,k?0:G,k?G+1:W):Di(o,k?G+1:0,k?W:G)}function IS(o,u){var p=o;return p instanceof It&&(p=p.value()),Ol(u,function(k,W){return W.func.apply(W.thisArg,fs([k],W.args))},p)}function eb(o,u,p){var k=o.length;if(k<2)return k?Wo(o[0]):[];for(var W=-1,G=_e(k);++W<k;)for(var oe=o[W],le=-1;++le<k;)le!=W&&(G[W]=ee(G[W]||oe,o[le],u,p));return Wo(be(G,1),u,p)}function MS(o,u,p){for(var k=-1,W=o.length,G=u.length,oe={};++k<W;){var le=k<G?u[k]:n;p(oe,o[k],le)}return oe}function tb(o){return Kn(o)?o:[]}function nb(o){return typeof o=="function"?o:qr}function Uo(o,u){return Et(o)?o:fb(o,u)?[o]:fT(on(o))}var MB=Nt;function Vo(o,u,p){var k=o.length;return p=p===n?k:p,!u&&p>=k?o:Di(o,u,p)}var LS=mv||function(o){return Zn.clearTimeout(o)};function jS(o,u){if(u)return o.slice();var p=o.length,k=Wl?Wl(p):new o.constructor(p);return o.copy(k),k}function rb(o){var u=new o.constructor(o.byteLength);return new cc(u).set(new cc(o)),u}function LB(o,u){var p=u?rb(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.byteLength)}function jB(o){var u=new o.constructor(o.source,rn.exec(o));return u.lastIndex=o.lastIndex,u}function xB(o){return Ra?ln(Ra.call(o)):{}}function xS(o,u){var p=u?rb(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.length)}function BS(o,u){if(o!==u){var p=o!==n,k=o===null,W=o===o,G=Zr(o),oe=u!==n,le=u===null,me=u===u,Ce=Zr(u);if(!le&&!Ce&&!G&&o>u||G&&oe&&me&&!le&&!Ce||k&&oe&&me||!p&&me||!W)return 1;if(!k&&!G&&!Ce&&o<u||Ce&&p&&W&&!k&&!G||le&&p&&W||!oe&&W||!me)return-1}return 0}function BB(o,u,p){for(var k=-1,W=o.criteria,G=u.criteria,oe=W.length,le=p.length;++k<oe;){var me=BS(W[k],G[k]);if(me){if(k>=le)return me;var Ce=p[k];return me*(Ce=="desc"?-1:1)}}return o.index-u.index}function qS(o,u,p,k){for(var W=-1,G=o.length,oe=p.length,le=-1,me=u.length,Ce=Hn(G-oe,0),Oe=_e(me+Ce),Fe=!k;++le<me;)Oe[le]=u[le];for(;++W<oe;)(Fe||W<G)&&(Oe[p[W]]=o[W]);for(;Ce--;)Oe[le++]=o[W++];return Oe}function WS(o,u,p,k){for(var W=-1,G=o.length,oe=-1,le=p.length,me=-1,Ce=u.length,Oe=Hn(G-le,0),Fe=_e(Oe+Ce),qe=!k;++W<Oe;)Fe[W]=o[W];for(var Ge=W;++me<Ce;)Fe[Ge+me]=u[me];for(;++oe<le;)(qe||W<G)&&(Fe[Ge+p[oe]]=o[W++]);return Fe}function jr(o,u){var p=-1,k=o.length;for(u||(u=_e(k));++p<k;)u[p]=o[p];return u}function gs(o,u,p,k){var W=!p;p||(p={});for(var G=-1,oe=u.length;++G<oe;){var le=u[G],me=k?k(p[le],o[le],le,p,o):n;me===n&&(me=o[le]),W?xi(p,le,me):Jr(p,le,me)}return p}function qB(o,u){return gs(o,lb(o),u)}function WB(o,u){return gs(o,tT(o),u)}function Cp(o,u){return function(p,k){var W=Et(p)?ev:Ep,G=u?u():{};return W(p,o,st(k,2),G)}}function gc(o){return Nt(function(u,p){var k=-1,W=p.length,G=W>1?p[W-1]:n,oe=W>2?p[2]:n;for(G=o.length>3&&typeof G=="function"?(W--,G):n,oe&&Sr(p[0],p[1],oe)&&(G=W<3?n:G,W=1),u=ln(u);++k<W;){var le=p[k];le&&o(u,le,k,G)}return u})}function US(o,u){return function(p,k){if(p==null)return p;if(!xr(p))return o(p,k);for(var W=p.length,G=u?W:-1,oe=ln(p);(u?G--:++G<W)&&k(oe[G],G,oe)!==!1;);return p}}function VS(o){return function(u,p,k){for(var W=-1,G=ln(u),oe=k(u),le=oe.length;le--;){var me=oe[o?le:++W];if(p(G[me],me,G)===!1)break}return u}}function UB(o,u,p){var k=u&C,W=ef(o);function G(){var oe=this&&this!==Zn&&this instanceof G?W:o;return oe.apply(k?p:this,arguments)}return G}function HS(o){return function(u){u=on(u);var p=Io(u)?zr(u):n,k=p?p[0]:u.charAt(0),W=p?Vo(p,1).join(""):u.slice(1);return k[o]()+W}}function yc(o){return function(u){return Ol(UT(WT(u).replace(V0,"")),o,"")}}function ef(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var p=qo(o.prototype),k=o.apply(p,u);return On(k)?k:p}}function VB(o,u,p){var k=ef(o);function W(){for(var G=arguments.length,oe=_e(G),le=G,me=vc(W);le--;)oe[le]=arguments[le];var Ce=G<3&&oe[0]!==me&&oe[G-1]!==me?[]:ps(oe,me);if(G-=Ce.length,G<p)return JS(o,u,Op,W.placeholder,n,oe,Ce,n,n,p-G);var Oe=this&&this!==Zn&&this instanceof W?k:o;return mr(Oe,this,oe)}return W}function KS(o){return function(u,p,k){var W=ln(u);if(!xr(u)){var G=st(p,3);u=rr(u),p=function(le){return G(W[le],le,W)}}var oe=o(u,p,k);return oe>-1?W[G?u[oe]:oe]:n}}function zS(o){return zs(function(u){var p=u.length,k=p,W=Er.prototype.thru;for(o&&u.reverse();k--;){var G=u[k];if(typeof G!="function")throw new Lr(a);if(W&&!oe&&Rp(G)=="wrapper")var oe=new Er([],!0)}for(k=oe?k:p;++k<p;){G=u[k];var le=Rp(G),me=le=="wrapper"?ub(G):n;me&&db(me[0])&&me[1]==($|v|b|q)&&!me[4].length&&me[9]==1?oe=oe[Rp(me[0])].apply(oe,me[3]):oe=G.length==1&&db(G)?oe[le]():oe.thru(G)}return function(){var Ce=arguments,Oe=Ce[0];if(oe&&Ce.length==1&&Et(Oe))return oe.plant(Oe).value();for(var Fe=0,qe=p?u[Fe].apply(this,Ce):Oe;++Fe<p;)qe=u[Fe].call(this,qe);return qe}})}function Op(o,u,p,k,W,G,oe,le,me,Ce){var Oe=u&$,Fe=u&C,qe=u&R,Ge=u&(v|D),ut=u&F,Ot=qe?n:ef(o);function ct(){for(var Mt=arguments.length,Bt=_e(Mt),ei=Mt;ei--;)Bt[ei]=arguments[ei];if(Ge)var Tr=vc(ct),ti=tp(Bt,Tr);if(k&&(Bt=qS(Bt,k,W,Ge)),G&&(Bt=WS(Bt,G,oe,Ge)),Mt-=ti,Ge&&Mt<Ce){var zn=ps(Bt,Tr);return JS(o,u,Op,ct.placeholder,p,Bt,zn,le,me,Ce-Mt)}var qi=Fe?p:this,Qs=qe?qi[o]:o;return Mt=Bt.length,le?Bt=lq(Bt,le):ut&&Mt>1&&Bt.reverse(),Oe&&me<Mt&&(Bt.length=me),this&&this!==Zn&&this instanceof ct&&(Qs=Ot||ef(Qs)),Qs.apply(qi,Bt)}return ct}function YS(o,u){return function(p,k){return Hv(p,o,u(k),{})}}function Pp(o,u){return function(p,k){var W;if(p===n&&k===n)return u;if(p!==n&&(W=p),k!==n){if(W===n)return k;typeof p=="string"||typeof k=="string"?(p=Xr(p),k=Xr(k)):(p=FS(p),k=FS(k)),W=o(p,k)}return W}}function ib(o){return zs(function(u){return u=wn(u,gr(st())),Nt(function(p){var k=this;return o(u,function(W){return mr(W,k,p)})})})}function Np(o,u){u=u===n?" ":Xr(u);var p=u.length;if(p<2)return p?Qv(u,o):u;var k=Qv(u,Ca(o/Mo(u)));return Io(u)?Vo(zr(k),0,o).join(""):k.slice(0,o)}function HB(o,u,p,k){var W=u&C,G=ef(o);function oe(){for(var le=-1,me=arguments.length,Ce=-1,Oe=k.length,Fe=_e(Oe+me),qe=this&&this!==Zn&&this instanceof oe?G:o;++Ce<Oe;)Fe[Ce]=k[Ce];for(;me--;)Fe[Ce++]=arguments[++le];return mr(qe,W?p:this,Fe)}return oe}function GS(o){return function(u,p,k){return k&&typeof k!="number"&&Sr(u,p,k)&&(p=k=n),u=Js(u),p===n?(p=u,u=0):p=Js(p),k=k===n?u<p?1:-1:Js(k),OB(u,p,k,o)}}function Fp(o){return function(u,p){return typeof u=="string"&&typeof p=="string"||(u=_i(u),p=_i(p)),o(u,p)}}function JS(o,u,p,k,W,G,oe,le,me,Ce){var Oe=u&v,Fe=Oe?oe:n,qe=Oe?n:oe,Ge=Oe?G:n,ut=Oe?n:G;u|=Oe?b:_,u&=~(Oe?_:b),u&T||(u&=~(C|R));var Ot=[o,u,W,Ge,Fe,ut,qe,le,me,Ce],ct=p.apply(n,Ot);return db(o)&&uT(ct,Ot),ct.placeholder=k,cT(ct,o,u)}function sb(o){var u=Vn[o];return function(p,k){if(p=_i(p),k=k==null?0:nr(At(k),292),k&&pp(p)){var W=(on(p)+"e").split("e"),G=u(W[0]+"e"+(+W[1]+k));return W=(on(G)+"e").split("e"),+(W[0]+"e"+(+W[1]-k))}return u(p)}}var KB=Ws&&1/ic(new Ws([,-0]))[1]==$e?function(o){return new Ws(o)}:kb;function QS(o){return function(u){var p=yr(u);return p==tt?ql(u):p==mt?sp(u):ep(u,o(u))}}function Ks(o,u,p,k,W,G,oe,le){var me=u&R;if(!me&&typeof o!="function")throw new Lr(a);var Ce=k?k.length:0;if(Ce||(u&=~(b|_),k=W=n),oe=oe===n?oe:Hn(At(oe),0),le=le===n?le:At(le),Ce-=W?W.length:0,u&_){var Oe=k,Fe=W;k=W=n}var qe=me?n:ub(o),Ge=[o,u,p,k,W,Oe,Fe,G,oe,le];if(qe&&aq(Ge,qe),o=Ge[0],u=Ge[1],p=Ge[2],k=Ge[3],W=Ge[4],le=Ge[9]=Ge[9]===n?me?0:o.length:Hn(Ge[9]-Ce,0),!le&&u&(v|D)&&(u&=~(v|D)),!u||u==C)var ut=UB(o,u,p);else u==v||u==D?ut=VB(o,u,le):(u==b||u==(C|b))&&!W.length?ut=HB(o,u,p,k):ut=Op.apply(n,Ge);var Ot=qe?PS:uT;return cT(Ot(ut,Ge),o,u)}function XS(o,u,p,k){return o===n||Bi(o,Lo[p])&&!Qt.call(k,p)?u:o}function ZS(o,u,p,k,W,G){return On(o)&&On(u)&&(G.set(u,o),Tp(o,u,n,ZS,G),G.delete(u)),o}function zB(o){return rf(o)?n:o}function eT(o,u,p,k,W,G){var oe=p&I,le=o.length,me=u.length;if(le!=me&&!(oe&&me>le))return!1;var Ce=G.get(o),Oe=G.get(u);if(Ce&&Oe)return Ce==u&&Oe==o;var Fe=-1,qe=!0,Ge=p&P?new Vs:n;for(G.set(o,u),G.set(u,o);++Fe<le;){var ut=o[Fe],Ot=u[Fe];if(k)var ct=oe?k(Ot,ut,Fe,u,o,G):k(ut,Ot,Fe,o,u,G);if(ct!==n){if(ct)continue;qe=!1;break}if(Ge){if(!Pl(u,function(Mt,Bt){if(!Ro(Ge,Bt)&&(ut===Mt||W(ut,Mt,p,k,G)))return Ge.push(Bt)})){qe=!1;break}}else if(!(ut===Ot||W(ut,Ot,p,k,G))){qe=!1;break}}return G.delete(o),G.delete(u),qe}function YB(o,u,p,k,W,G,oe){switch(p){case Z:if(o.byteLength!=u.byteLength||o.byteOffset!=u.byteOffset)return!1;o=o.buffer,u=u.buffer;case V:return!(o.byteLength!=u.byteLength||!G(new cc(o),new cc(u)));case Le:case ze:case qt:return Bi(+o,+u);case et:return o.name==u.name&&o.message==u.message;case Yt:case un:return o==u+"";case tt:var le=ql;case mt:var me=k&I;if(le||(le=ic),o.size!=u.size&&!me)return!1;var Ce=oe.get(o);if(Ce)return Ce==u;k|=P,oe.set(o,u);var Oe=eT(le(o),le(u),k,W,G,oe);return oe.delete(o),Oe;case dn:if(Ra)return Ra.call(o)==Ra.call(u)}return!1}function GB(o,u,p,k,W,G){var oe=p&I,le=ob(o),me=le.length,Ce=ob(u),Oe=Ce.length;if(me!=Oe&&!oe)return!1;for(var Fe=me;Fe--;){var qe=le[Fe];if(!(oe?qe in u:Qt.call(u,qe)))return!1}var Ge=G.get(o),ut=G.get(u);if(Ge&&ut)return Ge==u&&ut==o;var Ot=!0;G.set(o,u),G.set(u,o);for(var ct=oe;++Fe<me;){qe=le[Fe];var Mt=o[qe],Bt=u[qe];if(k)var ei=oe?k(Bt,Mt,qe,u,o,G):k(Mt,Bt,qe,o,u,G);if(!(ei===n?Mt===Bt||W(Mt,Bt,p,k,G):ei)){Ot=!1;break}ct||(ct=qe=="constructor")}if(Ot&&!ct){var Tr=o.constructor,ti=u.constructor;Tr!=ti&&"constructor"in o&&"constructor"in u&&!(typeof Tr=="function"&&Tr instanceof Tr&&typeof ti=="function"&&ti instanceof ti)&&(Ot=!1)}return G.delete(o),G.delete(u),Ot}function zs(o){return pb(oT(o,n,mT),o+"")}function ob(o){return vt(o,rr,lb)}function ab(o){return vt(o,Br,tT)}var ub=Na?function(o){return Na.get(o)}:kb;function Rp(o){for(var u=o.name+"",p=Us[u],k=Qt.call(Us,u)?p.length:0;k--;){var W=p[k],G=W.func;if(G==null||G==o)return W.name}return u}function vc(o){var u=Qt.call(z,"placeholder")?z:o;return u.placeholder}function st(){var o=z.iteratee||Sb;return o=o===Sb?$S:o,arguments.length?o(arguments[0],arguments[1]):o}function Ip(o,u){var p=o.__data__;return rq(u)?p[typeof u=="string"?"string":"hash"]:p.map}function cb(o){for(var u=rr(o),p=u.length;p--;){var k=u[p],W=o[k];u[p]=[k,W,iT(W)]}return u}function ja(o,u){var p=rp(o,u);return _S(p)?p:n}function JB(o){var u=Qt.call(o,qs),p=o[qs];try{o[qs]=n;var k=!0}catch{}var W=uc.call(o);return k&&(u?o[qs]=p:delete o[qs]),W}var lb=Ul?function(o){return o==null?[]:(o=ln(o),ls(Ul(o),function(u){return dp.call(o,u)}))}:Ab,tT=Ul?function(o){for(var u=[];o;)fs(u,lb(o)),o=lc(o);return u}:Ab,yr=bt;(Hl&&yr(new Hl(new ArrayBuffer(1)))!=Z||xo&&yr(new xo)!=tt||Kl&&yr(Kl.resolve())!=Dn||Ws&&yr(new Ws)!=mt||Pa&&yr(new Pa)!=gt)&&(yr=function(o){var u=bt(o),p=u==_t?o.constructor:n,k=p?xa(p):"";if(k)switch(k){case wv:return Z;case zl:return tt;case yp:return Dn;case vp:return mt;case bp:return gt}return u});function QB(o,u,p){for(var k=-1,W=p.length;++k<W;){var G=p[k],oe=G.size;switch(G.type){case"drop":o+=oe;break;case"dropRight":u-=oe;break;case"take":u=nr(u,o+oe);break;case"takeRight":o=Hn(o,u-oe);break}}return{start:o,end:u}}function XB(o){var u=o.match(hn);return u?u[1].split(it):[]}function nT(o,u,p){u=Uo(u,o);for(var k=-1,W=u.length,G=!1;++k<W;){var oe=ys(u[k]);if(!(G=o!=null&&p(o,oe)))break;o=o[oe]}return G||++k!=W?G:(W=o==null?0:o.length,!!W&&Wp(W)&&Ys(oe,W)&&(Et(o)||Ba(o)))}function ZB(o){var u=o.length,p=new o.constructor(u);return u&&typeof o[0]=="string"&&Qt.call(o,"index")&&(p.index=o.index,p.input=o.input),p}function rT(o){return typeof o.constructor=="function"&&!tf(o)?qo(lc(o)):{}}function eq(o,u,p){var k=o.constructor;switch(u){case V:return rb(o);case Le:case ze:return new k(+o);case Z:return LB(o,p);case ie:case A:case y:case w:case B:case J:case re:case fe:case Ne:return xS(o,p);case tt:return new k;case qt:case un:return new k(o);case Yt:return jB(o);case mt:return new k;case dn:return xB(o)}}function tq(o,u){var p=u.length;if(!p)return o;var k=p-1;return u[k]=(p>1?"& ":"")+u[k],u=u.join(p>2?", ":" "),o.replace(En,`{
/* [wrapped with `+u+`] */
`)}function nq(o){return Et(o)||Ba(o)||!!(hp&&o&&o[hp])}function Ys(o,u){var p=typeof o;return u=u==null?Ve:u,!!u&&(p=="number"||p!="symbol"&&Vt.test(o))&&o>-1&&o%1==0&&o<u}function Sr(o,u,p){if(!On(p))return!1;var k=typeof u;return(k=="number"?xr(p)&&Ys(u,p.length):k=="string"&&u in p)?Bi(p[u],o):!1}function fb(o,u){if(Et(o))return!1;var p=typeof o;return p=="number"||p=="symbol"||p=="boolean"||o==null||Zr(o)?!0:pr.test(o)||!hr.test(o)||u!=null&&o in ln(u)}function rq(o){var u=typeof o;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?o!=="__proto__":o===null}function db(o){var u=Rp(o),p=z[u];if(typeof p!="function"||!(u in It.prototype))return!1;if(o===p)return!0;var k=ub(p);return!!k&&o===k[0]}function iq(o){return!!cp&&cp in o}var sq=jo?Gs:Cb;function tf(o){var u=o&&o.constructor,p=typeof u=="function"&&u.prototype||Lo;return o===p}function iT(o){return o===o&&!On(o)}function sT(o,u){return function(p){return p==null?!1:p[o]===u&&(u!==n||o in ln(p))}}function oq(o){var u=Bp(o,function(k){return p.size===d&&p.clear(),k}),p=u.cache;return u}function aq(o,u){var p=o[1],k=u[1],W=p|k,G=W<(C|R|$),oe=k==$&&p==v||k==$&&p==q&&o[7].length<=u[8]||k==($|q)&&u[7].length<=u[8]&&p==v;if(!(G||oe))return o;k&C&&(o[2]=u[2],W|=p&C?0:T);var le=u[3];if(le){var me=o[3];o[3]=me?qS(me,le,u[4]):le,o[4]=me?ps(o[3],h):u[4]}return le=u[5],le&&(me=o[5],o[5]=me?WS(me,le,u[6]):le,o[6]=me?ps(o[5],h):u[6]),le=u[7],le&&(o[7]=le),k&$&&(o[8]=o[8]==null?u[8]:nr(o[8],u[8])),o[9]==null&&(o[9]=u[9]),o[0]=u[0],o[1]=W,o}function uq(o){var u=[];if(o!=null)for(var p in ln(o))u.push(p);return u}function cq(o){return uc.call(o)}function oT(o,u,p){return u=Hn(u===n?o.length-1:u,0),function(){for(var k=arguments,W=-1,G=Hn(k.length-u,0),oe=_e(G);++W<G;)oe[W]=k[u+W];W=-1;for(var le=_e(u+1);++W<u;)le[W]=k[W];return le[u]=p(oe),mr(o,this,le)}}function aT(o,u){return u.length<2?o:nt(o,Di(u,0,-1))}function lq(o,u){for(var p=o.length,k=nr(u.length,p),W=jr(o);k--;){var G=u[k];o[k]=Ys(G,p)?W[G]:n}return o}function hb(o,u){if(!(u==="constructor"&&typeof o[u]=="function")&&u!="__proto__")return o[u]}var uT=lT(PS),nf=hc||function(o,u){return Zn.setTimeout(o,u)},pb=lT(FB);function cT(o,u,p){var k=u+"";return pb(o,tq(k,fq(XB(k),p)))}function lT(o){var u=0,p=0;return function(){var k=Dv(),W=H-(k-p);if(p=k,W>0){if(++u>=Y)return arguments[0]}else u=0;return o.apply(n,arguments)}}function Mp(o,u){var p=-1,k=o.length,W=k-1;for(u=u===n?k:u;++p<u;){var G=Jv(p,W),oe=o[G];o[G]=o[p],o[p]=oe}return o.length=u,o}var fT=oq(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(Fs,function(p,k,W,G){u.push(W?G.replace(Me,"$1"):k||p)}),u});function ys(o){if(typeof o=="string"||Zr(o))return o;var u=o+"";return u=="0"&&1/o==-$e?"-0":u}function xa(o){if(o!=null){try{return ac.call(o)}catch{}try{return o+""}catch{}}return""}function fq(o,u){return Mr(U,function(p){var k="_."+p[0];u&p[1]&&!No(o,k)&&o.push(k)}),o.sort()}function dT(o){if(o instanceof It)return o.clone();var u=new Er(o.__wrapped__,o.__chain__);return u.__actions__=jr(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}function dq(o,u,p){(p?Sr(o,u,p):u===n)?u=1:u=Hn(At(u),0);var k=o==null?0:o.length;if(!k||u<1)return[];for(var W=0,G=0,oe=_e(Ca(k/u));W<k;)oe[G++]=Di(o,W,W+=u);return oe}function hq(o){for(var u=-1,p=o==null?0:o.length,k=0,W=[];++u<p;){var G=o[u];G&&(W[k++]=G)}return W}function pq(){var o=arguments.length;if(!o)return[];for(var u=_e(o-1),p=arguments[0],k=o;k--;)u[k-1]=arguments[k];return fs(Et(p)?jr(p):[p],be(u,1))}var mq=Nt(function(o,u){return Kn(o)?ee(o,be(u,1,Kn,!0)):[]}),gq=Nt(function(o,u){var p=wi(u);return Kn(p)&&(p=n),Kn(o)?ee(o,be(u,1,Kn,!0),st(p,2)):[]}),yq=Nt(function(o,u){var p=wi(u);return Kn(p)&&(p=n),Kn(o)?ee(o,be(u,1,Kn,!0),n,p):[]});function vq(o,u,p){var k=o==null?0:o.length;return k?(u=p||u===n?1:At(u),Di(o,u<0?0:u,k)):[]}function bq(o,u,p){var k=o==null?0:o.length;return k?(u=p||u===n?1:At(u),u=k-u,Di(o,0,u<0?0:u)):[]}function Dq(o,u){return o&&o.length?Ap(o,st(u,3),!0,!0):[]}function wq(o,u){return o&&o.length?Ap(o,st(u,3),!0):[]}function _q(o,u,p,k){var W=o==null?0:o.length;return W?(p&&typeof p!="number"&&Sr(o,u,p)&&(p=0,k=W),Te(o,u,p,k)):[]}function hT(o,u,p){var k=o==null?0:o.length;if(!k)return-1;var W=p==null?0:At(p);return W<0&&(W=Hn(k+W,0)),rc(o,st(u,3),W)}function pT(o,u,p){var k=o==null?0:o.length;if(!k)return-1;var W=k-1;return p!==n&&(W=At(p),W=p<0?Hn(k+W,0):nr(W,k-1)),rc(o,st(u,3),W,!0)}function mT(o){var u=o==null?0:o.length;return u?be(o,1):[]}function $q(o){var u=o==null?0:o.length;return u?be(o,$e):[]}function Eq(o,u){var p=o==null?0:o.length;return p?(u=u===n?1:At(u),be(o,u)):[]}function Sq(o){for(var u=-1,p=o==null?0:o.length,k={};++u<p;){var W=o[u];k[W[0]]=W[1]}return k}function gT(o){return o&&o.length?o[0]:n}function Tq(o,u,p){var k=o==null?0:o.length;if(!k)return-1;var W=p==null?0:At(p);return W<0&&(W=Hn(k+W,0)),Fo(o,u,W)}function kq(o){var u=o==null?0:o.length;return u?Di(o,0,-1):[]}var Aq=Nt(function(o){var u=wn(o,tb);return u.length&&u[0]===o[0]?La(u):[]}),Cq=Nt(function(o){var u=wi(o),p=wn(o,tb);return u===wi(p)?u=n:p.pop(),p.length&&p[0]===o[0]?La(p,st(u,2)):[]}),Oq=Nt(function(o){var u=wi(o),p=wn(o,tb);return u=typeof u=="function"?u:n,u&&p.pop(),p.length&&p[0]===o[0]?La(p,n,u):[]});function Pq(o,u){return o==null?"":vv.call(o,u)}function wi(o){var u=o==null?0:o.length;return u?o[u-1]:n}function Nq(o,u,p){var k=o==null?0:o.length;if(!k)return-1;var W=k;return p!==n&&(W=At(p),W=W<0?Hn(k+W,0):nr(W,k-1)),u===u?av(o,u,W):rc(o,Fl,W,!0)}function Fq(o,u){return o&&o.length?kS(o,At(u)):n}var Rq=Nt(yT);function yT(o,u){return o&&o.length&&u&&u.length?Gv(o,u):o}function Iq(o,u,p){return o&&o.length&&u&&u.length?Gv(o,u,st(p,2)):o}function Mq(o,u,p){return o&&o.length&&u&&u.length?Gv(o,u,n,p):o}var Lq=zs(function(o,u){var p=o==null?0:o.length,k=c(o,u);return OS(o,wn(u,function(W){return Ys(W,p)?+W:W}).sort(BS)),k});function jq(o,u){var p=[];if(!(o&&o.length))return p;var k=-1,W=[],G=o.length;for(u=st(u,3);++k<G;){var oe=o[k];u(oe,k,o)&&(p.push(oe),W.push(k))}return OS(o,W),p}function mb(o){return o==null?o:Vl.call(o)}function xq(o,u,p){var k=o==null?0:o.length;return k?(p&&typeof p!="number"&&Sr(o,u,p)?(u=0,p=k):(u=u==null?0:At(u),p=p===n?k:At(p)),Di(o,u,p)):[]}function Bq(o,u){return kp(o,u)}function qq(o,u,p){return Xv(o,u,st(p,2))}function Wq(o,u){var p=o==null?0:o.length;if(p){var k=kp(o,u);if(k<p&&Bi(o[k],u))return k}return-1}function Uq(o,u){return kp(o,u,!0)}function Vq(o,u,p){return Xv(o,u,st(p,2),!0)}function Hq(o,u){var p=o==null?0:o.length;if(p){var k=kp(o,u,!0)-1;if(Bi(o[k],u))return k}return-1}function Kq(o){return o&&o.length?NS(o):[]}function zq(o,u){return o&&o.length?NS(o,st(u,2)):[]}function Yq(o){var u=o==null?0:o.length;return u?Di(o,1,u):[]}function Gq(o,u,p){return o&&o.length?(u=p||u===n?1:At(u),Di(o,0,u<0?0:u)):[]}function Jq(o,u,p){var k=o==null?0:o.length;return k?(u=p||u===n?1:At(u),u=k-u,Di(o,u<0?0:u,k)):[]}function Qq(o,u){return o&&o.length?Ap(o,st(u,3),!1,!0):[]}function Xq(o,u){return o&&o.length?Ap(o,st(u,3)):[]}var Zq=Nt(function(o){return Wo(be(o,1,Kn,!0))}),e3=Nt(function(o){var u=wi(o);return Kn(u)&&(u=n),Wo(be(o,1,Kn,!0),st(u,2))}),t3=Nt(function(o){var u=wi(o);return u=typeof u=="function"?u:n,Wo(be(o,1,Kn,!0),n,u)});function n3(o){return o&&o.length?Wo(o):[]}function r3(o,u){return o&&o.length?Wo(o,st(u,2)):[]}function i3(o,u){return u=typeof u=="function"?u:n,o&&o.length?Wo(o,n,u):[]}function gb(o){if(!(o&&o.length))return[];var u=0;return o=ls(o,function(p){if(Kn(p))return u=Hn(p.length,u),!0}),ds(u,function(p){return wn(o,Rl(p))})}function vT(o,u){if(!(o&&o.length))return[];var p=gb(o);return u==null?p:wn(p,function(k){return mr(u,n,k)})}var s3=Nt(function(o,u){return Kn(o)?ee(o,u):[]}),o3=Nt(function(o){return eb(ls(o,Kn))}),a3=Nt(function(o){var u=wi(o);return Kn(u)&&(u=n),eb(ls(o,Kn),st(u,2))}),u3=Nt(function(o){var u=wi(o);return u=typeof u=="function"?u:n,eb(ls(o,Kn),n,u)}),c3=Nt(gb);function l3(o,u){return MS(o||[],u||[],Jr)}function f3(o,u){return MS(o||[],u||[],Zl)}var d3=Nt(function(o){var u=o.length,p=u>1?o[u-1]:n;return p=typeof p=="function"?(o.pop(),p):n,vT(o,p)});function bT(o){var u=z(o);return u.__chain__=!0,u}function h3(o,u){return u(o),o}function Lp(o,u){return u(o)}var p3=zs(function(o){var u=o.length,p=u?o[0]:0,k=this.__wrapped__,W=function(G){return c(G,o)};return u>1||this.__actions__.length||!(k instanceof It)||!Ys(p)?this.thru(W):(k=k.slice(p,+p+(u?1:0)),k.__actions__.push({func:Lp,args:[W],thisArg:n}),new Er(k,this.__chain__).thru(function(G){return u&&!G.length&&G.push(n),G}))});function m3(){return bT(this)}function g3(){return new Er(this.value(),this.__chain__)}function y3(){this.__values__===n&&(this.__values__=FT(this.value()));var o=this.__index__>=this.__values__.length,u=o?n:this.__values__[this.__index__++];return{done:o,value:u}}function v3(){return this}function b3(o){for(var u,p=this;p instanceof pc;){var k=dT(p);k.__index__=0,k.__values__=n,u?W.__wrapped__=k:u=k;var W=k;p=p.__wrapped__}return W.__wrapped__=o,u}function D3(){var o=this.__wrapped__;if(o instanceof It){var u=o;return this.__actions__.length&&(u=new It(this)),u=u.reverse(),u.__actions__.push({func:Lp,args:[mb],thisArg:n}),new Er(u,this.__chain__)}return this.thru(mb)}function w3(){return IS(this.__wrapped__,this.__actions__)}var _3=Cp(function(o,u,p){Qt.call(o,p)?++o[p]:xi(o,p,1)});function $3(o,u,p){var k=Et(o)?tc:ve;return p&&Sr(o,u,p)&&(u=n),k(o,st(u,3))}function E3(o,u){var p=Et(o)?ls:Pe;return p(o,st(u,3))}var S3=KS(hT),T3=KS(pT);function k3(o,u){return be(jp(o,u),1)}function A3(o,u){return be(jp(o,u),$e)}function C3(o,u,p){return p=p===n?1:At(p),be(jp(o,u),p)}function DT(o,u){var p=Et(o)?Mr:ae;return p(o,st(u,3))}function wT(o,u){var p=Et(o)?Gh:ue;return p(o,st(u,3))}var O3=Cp(function(o,u,p){Qt.call(o,p)?o[p].push(u):xi(o,p,[u])});function P3(o,u,p,k){o=xr(o)?o:Dc(o),p=p&&!k?At(p):0;var W=o.length;return p<0&&(p=Hn(W+p,0)),Up(o)?p<=W&&o.indexOf(u,p)>-1:!!W&&Fo(o,u,p)>-1}var N3=Nt(function(o,u,p){var k=-1,W=typeof u=="function",G=xr(o)?_e(o.length):[];return ae(o,function(oe){G[++k]=W?mr(u,oe,p):Hs(oe,u,p)}),G}),F3=Cp(function(o,u,p){xi(o,p,u)});function jp(o,u){var p=Et(o)?wn:ES;return p(o,st(u,3))}function R3(o,u,p,k){return o==null?[]:(Et(u)||(u=u==null?[]:[u]),p=k?n:p,Et(p)||(p=p==null?[]:[p]),AS(o,u,p))}var I3=Cp(function(o,u,p){o[p?0:1].push(u)},function(){return[[],[]]});function M3(o,u,p){var k=Et(o)?Ol:js,W=arguments.length<3;return k(o,st(u,4),p,W,ae)}function L3(o,u,p){var k=Et(o)?tv:js,W=arguments.length<3;return k(o,st(u,4),p,W,ue)}function j3(o,u){var p=Et(o)?ls:Pe;return p(o,qp(st(u,3)))}function x3(o){var u=Et(o)?$p:PB;return u(o)}function B3(o,u,p){(p?Sr(o,u,p):u===n)?u=1:u=At(u);var k=Et(o)?Wv:NB;return k(o,u)}function q3(o){var u=Et(o)?Uv:RB;return u(o)}function W3(o){if(o==null)return 0;if(xr(o))return Up(o)?Mo(o):o.length;var u=yr(o);return u==tt||u==mt?o.size:zv(o).length}function U3(o,u,p){var k=Et(o)?Pl:IB;return p&&Sr(o,u,p)&&(u=n),k(o,st(u,3))}var V3=Nt(function(o,u){if(o==null)return[];var p=u.length;return p>1&&Sr(o,u[0],u[1])?u=[]:p>2&&Sr(u[0],u[1],u[2])&&(u=[u[0]]),AS(o,be(u,1),[])}),xp=gv||function(){return Zn.Date.now()};function H3(o,u){if(typeof u!="function")throw new Lr(a);return o=At(o),function(){if(--o<1)return u.apply(this,arguments)}}function _T(o,u,p){return u=p?n:u,u=o&&u==null?o.length:u,Ks(o,$,n,n,n,n,u)}function $T(o,u){var p;if(typeof u!="function")throw new Lr(a);return o=At(o),function(){return--o>0&&(p=u.apply(this,arguments)),o<=1&&(u=n),p}}var yb=Nt(function(o,u,p){var k=C;if(p.length){var W=ps(p,vc(yb));k|=b}return Ks(o,k,u,p,W)}),ET=Nt(function(o,u,p){var k=C|R;if(p.length){var W=ps(p,vc(ET));k|=b}return Ks(u,k,o,p,W)});function ST(o,u,p){u=p?n:u;var k=Ks(o,v,n,n,n,n,n,u);return k.placeholder=ST.placeholder,k}function TT(o,u,p){u=p?n:u;var k=Ks(o,D,n,n,n,n,n,u);return k.placeholder=TT.placeholder,k}function kT(o,u,p){var k,W,G,oe,le,me,Ce=0,Oe=!1,Fe=!1,qe=!0;if(typeof o!="function")throw new Lr(a);u=_i(u)||0,On(p)&&(Oe=!!p.leading,Fe="maxWait"in p,G=Fe?Hn(_i(p.maxWait)||0,u):G,qe="trailing"in p?!!p.trailing:qe);function Ge(zn){var qi=k,Qs=W;return k=W=n,Ce=zn,oe=o.apply(Qs,qi),oe}function ut(zn){return Ce=zn,le=nf(Mt,u),Oe?Ge(zn):oe}function Ot(zn){var qi=zn-me,Qs=zn-Ce,KT=u-qi;return Fe?nr(KT,G-Qs):KT}function ct(zn){var qi=zn-me,Qs=zn-Ce;return me===n||qi>=u||qi<0||Fe&&Qs>=G}function Mt(){var zn=xp();if(ct(zn))return Bt(zn);le=nf(Mt,Ot(zn))}function Bt(zn){return le=n,qe&&k?Ge(zn):(k=W=n,oe)}function ei(){le!==n&&LS(le),Ce=0,k=me=W=le=n}function Tr(){return le===n?oe:Bt(xp())}function ti(){var zn=xp(),qi=ct(zn);if(k=arguments,W=this,me=zn,qi){if(le===n)return ut(me);if(Fe)return LS(le),le=nf(Mt,u),Ge(me)}return le===n&&(le=nf(Mt,u)),oe}return ti.cancel=ei,ti.flush=Tr,ti}var K3=Nt(function(o,u){return j(o,1,u)}),z3=Nt(function(o,u,p){return j(o,_i(u)||0,p)});function Y3(o){return Ks(o,F)}function Bp(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new Lr(a);var p=function(){var k=arguments,W=u?u.apply(this,k):k[0],G=p.cache;if(G.has(W))return G.get(W);var oe=o.apply(this,k);return p.cache=G.set(W,oe)||G,oe};return p.cache=new(Bp.Cache||ji),p}Bp.Cache=ji;function qp(o){if(typeof o!="function")throw new Lr(a);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}function G3(o){return $T(2,o)}var J3=MB(function(o,u){u=u.length==1&&Et(u[0])?wn(u[0],gr(st())):wn(be(u,1),gr(st()));var p=u.length;return Nt(function(k){for(var W=-1,G=nr(k.length,p);++W<G;)k[W]=u[W].call(this,k[W]);return mr(o,this,k)})}),vb=Nt(function(o,u){var p=ps(u,vc(vb));return Ks(o,b,n,u,p)}),AT=Nt(function(o,u){var p=ps(u,vc(AT));return Ks(o,_,n,u,p)}),Q3=zs(function(o,u){return Ks(o,q,n,n,n,u)});function X3(o,u){if(typeof o!="function")throw new Lr(a);return u=u===n?u:At(u),Nt(o,u)}function Z3(o,u){if(typeof o!="function")throw new Lr(a);return u=u==null?0:Hn(At(u),0),Nt(function(p){var k=p[u],W=Vo(p,0,u);return k&&fs(W,k),mr(o,this,W)})}function e8(o,u,p){var k=!0,W=!0;if(typeof o!="function")throw new Lr(a);return On(p)&&(k="leading"in p?!!p.leading:k,W="trailing"in p?!!p.trailing:W),kT(o,u,{leading:k,maxWait:u,trailing:W})}function t8(o){return _T(o,1)}function n8(o,u){return vb(nb(u),o)}function r8(){if(!arguments.length)return[];var o=arguments[0];return Et(o)?o:[o]}function i8(o){return E(o,O)}function s8(o,u){return u=typeof u=="function"?u:n,E(o,O,u)}function o8(o){return E(o,g|O)}function a8(o,u){return u=typeof u=="function"?u:n,E(o,g|O,u)}function u8(o,u){return u==null||x(o,u,rr(u))}function Bi(o,u){return o===u||o!==o&&u!==u}var c8=Fp(gn),l8=Fp(function(o,u){return o>=u}),Ba=wS(function(){return arguments}())?wS:function(o){return In(o)&&Qt.call(o,"callee")&&!dp.call(o,"callee")},Et=_e.isArray,f8=Ls?gr(Ls):bB;function xr(o){return o!=null&&Wp(o.length)&&!Gs(o)}function Kn(o){return In(o)&&xr(o)}function d8(o){return o===!0||o===!1||In(o)&&bt(o)==Le}var Ho=yv||Cb,h8=Xu?gr(Xu):DB;function p8(o){return In(o)&&o.nodeType===1&&!rf(o)}function m8(o){if(o==null)return!0;if(xr(o)&&(Et(o)||typeof o=="string"||typeof o.splice=="function"||Ho(o)||bc(o)||Ba(o)))return!o.length;var u=yr(o);if(u==tt||u==mt)return!o.size;if(tf(o))return!zv(o).length;for(var p in o)if(Qt.call(o,p))return!1;return!0}function g8(o,u){return Xl(o,u)}function y8(o,u,p){p=typeof p=="function"?p:n;var k=p?p(o,u):n;return k===n?Xl(o,u,n,p):!!k}function bb(o){if(!In(o))return!1;var u=bt(o);return u==et||u==Je||typeof o.message=="string"&&typeof o.name=="string"&&!rf(o)}function v8(o){return typeof o=="number"&&pp(o)}function Gs(o){if(!On(o))return!1;var u=bt(o);return u==rt||u==tn||u==Ie||u==nn}function CT(o){return typeof o=="number"&&o==At(o)}function Wp(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=Ve}function On(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function In(o){return o!=null&&typeof o=="object"}var OT=Zu?gr(Zu):_B;function b8(o,u){return o===u||Kv(o,u,cb(u))}function D8(o,u,p){return p=typeof p=="function"?p:n,Kv(o,u,cb(u),p)}function w8(o){return PT(o)&&o!=+o}function _8(o){if(sq(o))throw new ht(s);return _S(o)}function $8(o){return o===null}function E8(o){return o==null}function PT(o){return typeof o=="number"||In(o)&&bt(o)==qt}function rf(o){if(!In(o)||bt(o)!=_t)return!1;var u=lc(o);if(u===null)return!0;var p=Qt.call(u,"constructor")&&u.constructor;return typeof p=="function"&&p instanceof p&&ac.call(p)==lp}var Db=Cl?gr(Cl):$B;function S8(o){return CT(o)&&o>=-Ve&&o<=Ve}var NT=ec?gr(ec):EB;function Up(o){return typeof o=="string"||!Et(o)&&In(o)&&bt(o)==un}function Zr(o){return typeof o=="symbol"||In(o)&&bt(o)==dn}var bc=Yh?gr(Yh):SB;function T8(o){return o===n}function k8(o){return In(o)&&yr(o)==gt}function A8(o){return In(o)&&bt(o)==Q}var C8=Fp(Yv),O8=Fp(function(o,u){return o<=u});function FT(o){if(!o)return[];if(xr(o))return Up(o)?zr(o):jr(o);if(Li&&o[Li])return hs(o[Li]());var u=yr(o),p=u==tt?ql:u==mt?ic:Dc;return p(o)}function Js(o){if(!o)return o===0?o:0;if(o=_i(o),o===$e||o===-$e){var u=o<0?-1:1;return u*lt}return o===o?o:0}function At(o){var u=Js(o),p=u%1;return u===u?p?u-p:u:0}function RT(o){return o?m(At(o),0,K):0}function _i(o){if(typeof o=="number")return o;if(Zr(o))return Se;if(On(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=On(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=ka(o);var p=sn.test(o);return p||Un.test(o)?X0(o.slice(2),p?2:8):Jt.test(o)?Se:+o}function IT(o){return gs(o,Br(o))}function P8(o){return o?m(At(o),-Ve,Ve):o===0?o:0}function on(o){return o==null?"":Xr(o)}var N8=gc(function(o,u){if(tf(u)||xr(u)){gs(u,rr(u),o);return}for(var p in u)Qt.call(u,p)&&Jr(o,p,u[p])}),MT=gc(function(o,u){gs(u,Br(u),o)}),Vp=gc(function(o,u,p,k){gs(u,Br(u),o,k)}),F8=gc(function(o,u,p,k){gs(u,rr(u),o,k)}),R8=zs(c);function I8(o,u){var p=qo(o);return u==null?p:Sp(p,u)}var M8=Nt(function(o,u){o=ln(o);var p=-1,k=u.length,W=k>2?u[2]:n;for(W&&Sr(u[0],u[1],W)&&(k=1);++p<k;)for(var G=u[p],oe=Br(G),le=-1,me=oe.length;++le<me;){var Ce=oe[le],Oe=o[Ce];(Oe===n||Bi(Oe,Lo[Ce])&&!Qt.call(o,Ce))&&(o[Ce]=G[Ce])}return o}),L8=Nt(function(o){return o.push(n,ZS),mr(LT,n,o)});function j8(o,u){return Nl(o,st(u,3),xe)}function x8(o,u){return Nl(o,st(u,3),at)}function B8(o,u){return o==null?o:Re(o,st(u,3),Br)}function q8(o,u){return o==null?o:Ae(o,st(u,3),Br)}function W8(o,u){return o&&xe(o,st(u,3))}function U8(o,u){return o&&at(o,st(u,3))}function V8(o){return o==null?[]:Ct(o,rr(o))}function H8(o){return o==null?[]:Ct(o,Br(o))}function wb(o,u,p){var k=o==null?n:nt(o,u);return k===n?p:k}function K8(o,u){return o!=null&&nT(o,u,ur)}function _b(o,u){return o!=null&&nT(o,u,Qr)}var z8=YS(function(o,u,p){u!=null&&typeof u.toString!="function"&&(u=uc.call(u)),o[u]=p},Eb(qr)),Y8=YS(function(o,u,p){u!=null&&typeof u.toString!="function"&&(u=uc.call(u)),Qt.call(o,u)?o[u].push(p):o[u]=[p]},st),G8=Nt(Hs);function rr(o){return xr(o)?_p(o):zv(o)}function Br(o){return xr(o)?_p(o,!0):TB(o)}function J8(o,u){var p={};return u=st(u,3),xe(o,function(k,W,G){xi(p,u(k,W,G),k)}),p}function Q8(o,u){var p={};return u=st(u,3),xe(o,function(k,W,G){xi(p,W,u(k,W,G))}),p}var X8=gc(function(o,u,p){Tp(o,u,p)}),LT=gc(function(o,u,p,k){Tp(o,u,p,k)}),Z8=zs(function(o,u){var p={};if(o==null)return p;var k=!1;u=wn(u,function(G){return G=Uo(G,o),k||(k=G.length>1),G}),gs(o,ab(o),p),k&&(p=E(p,g|S|O,zB));for(var W=u.length;W--;)Zv(p,u[W]);return p});function e6(o,u){return jT(o,qp(st(u)))}var t6=zs(function(o,u){return o==null?{}:AB(o,u)});function jT(o,u){if(o==null)return{};var p=wn(ab(o),function(k){return[k]});return u=st(u),CS(o,p,function(k,W){return u(k,W[0])})}function n6(o,u,p){u=Uo(u,o);var k=-1,W=u.length;for(W||(W=1,o=n);++k<W;){var G=o==null?n:o[ys(u[k])];G===n&&(k=W,G=p),o=Gs(G)?G.call(o):G}return o}function r6(o,u,p){return o==null?o:Zl(o,u,p)}function i6(o,u,p,k){return k=typeof k=="function"?k:n,o==null?o:Zl(o,u,p,k)}var xT=QS(rr),BT=QS(Br);function s6(o,u,p){var k=Et(o),W=k||Ho(o)||bc(o);if(u=st(u,4),p==null){var G=o&&o.constructor;W?p=k?new G:[]:On(o)?p=Gs(G)?qo(lc(o)):{}:p={}}return(W?Mr:xe)(o,function(oe,le,me){return u(p,oe,le,me)}),p}function o6(o,u){return o==null?!0:Zv(o,u)}function a6(o,u,p){return o==null?o:RS(o,u,nb(p))}function u6(o,u,p,k){return k=typeof k=="function"?k:n,o==null?o:RS(o,u,nb(p),k)}function Dc(o){return o==null?[]:Ll(o,rr(o))}function c6(o){return o==null?[]:Ll(o,Br(o))}function l6(o,u,p){return p===n&&(p=u,u=n),p!==n&&(p=_i(p),p=p===p?p:0),u!==n&&(u=_i(u),u=u===u?u:0),m(_i(o),u,p)}function f6(o,u,p){return u=Js(u),p===n?(p=u,u=0):p=Js(p),o=_i(o),Ma(o,u,p)}function d6(o,u,p){if(p&&typeof p!="boolean"&&Sr(o,u,p)&&(u=p=n),p===n&&(typeof u=="boolean"?(p=u,u=n):typeof o=="boolean"&&(p=o,o=n)),o===n&&u===n?(o=0,u=1):(o=Js(o),u===n?(u=o,o=0):u=Js(u)),o>u){var k=o;o=u,u=k}if(p||o%1||u%1){var W=gp();return nr(o+W*(u-o+Q0("1e-"+((W+"").length-1))),u)}return Jv(o,u)}var h6=yc(function(o,u,p){return u=u.toLowerCase(),o+(p?qT(u):u)});function qT(o){return $b(on(o).toLowerCase())}function WT(o){return o=on(o),o&&o.replace(Tn,Bl).replace(H0,"")}function p6(o,u,p){o=on(o),u=Xr(u);var k=o.length;p=p===n?k:m(At(p),0,k);var W=p;return p-=u.length,p>=0&&o.slice(p,W)==u}function m6(o){return o=on(o),o&&yt.test(o)?o.replace(Pt,np):o}function g6(o){return o=on(o),o&&vi.test(o)?o.replace(is,"\\$&"):o}var y6=yc(function(o,u,p){return o+(p?"-":"")+u.toLowerCase()}),v6=yc(function(o,u,p){return o+(p?" ":"")+u.toLowerCase()}),b6=HS("toLowerCase");function D6(o,u,p){o=on(o),u=At(u);var k=u?Mo(o):0;if(!u||k>=u)return o;var W=(u-k)/2;return Np(Oa(W),p)+o+Np(Ca(W),p)}function w6(o,u,p){o=on(o),u=At(u);var k=u?Mo(o):0;return u&&k<u?o+Np(u-k,p):o}function _6(o,u,p){o=on(o),u=At(u);var k=u?Mo(o):0;return u&&k<u?Np(u-k,p)+o:o}function $6(o,u,p){return p||u==null?u=0:u&&(u=+u),mp(on(o).replace(Ii,""),u||0)}function E6(o,u,p){return(p?Sr(o,u,p):u===n)?u=1:u=At(u),Qv(on(o),u)}function S6(){var o=arguments,u=on(o[0]);return o.length<3?u:u.replace(o[1],o[2])}var T6=yc(function(o,u,p){return o+(p?"_":"")+u.toLowerCase()});function k6(o,u,p){return p&&typeof p!="number"&&Sr(o,u,p)&&(u=p=n),p=p===n?K:p>>>0,p?(o=on(o),o&&(typeof u=="string"||u!=null&&!Db(u))&&(u=Xr(u),!u&&Io(o))?Vo(zr(o),0,p):o.split(u,p)):[]}var A6=yc(function(o,u,p){return o+(p?" ":"")+$b(u)});function C6(o,u,p){return o=on(o),p=p==null?0:m(At(p),0,o.length),u=Xr(u),o.slice(p,p+u.length)==u}function O6(o,u,p){var k=z.templateSettings;p&&Sr(o,u,p)&&(u=n),o=on(o),u=Vp({},u,k,XS);var W=Vp({},u.imports,k.imports,XS),G=rr(W),oe=Ll(W,G),le,me,Ce=0,Oe=u.interpolate||xt,Fe="__p += '",qe=sc((u.escape||xt).source+"|"+Oe.source+"|"+(Oe===An?Ke:xt).source+"|"+(u.evaluate||xt).source+"|$","g"),Ge="//# sourceURL="+(Qt.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++as+"]")+`
`;o.replace(qe,function(ct,Mt,Bt,ei,Tr,ti){return Bt||(Bt=ei),Fe+=o.slice(Ce,ti).replace(kn,iv),Mt&&(le=!0,Fe+=`' +
__e(`+Mt+`) +
'`),Tr&&(me=!0,Fe+=`';
`+Tr+`;
__p += '`),Bt&&(Fe+=`' +
((__t = (`+Bt+`)) == null ? '' : __t) +
'`),Ce=ti+ct.length,ct}),Fe+=`';
`;var ut=Qt.call(u,"variable")&&u.variable;if(!ut)Fe=`with (obj) {
`+Fe+`
}
`;else if(ke.test(ut))throw new ht(l);Fe=(me?Fe.replace(Xe,""):Fe).replace(We,"$1").replace(Ye,"$1;"),Fe="function("+(ut||"obj")+`) {
`+(ut?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(le?", __e = _.escape":"")+(me?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Fe+`return __p
}`;var Ot=VT(function(){return Ht(G,Ge+"return "+Fe).apply(n,oe)});if(Ot.source=Fe,bb(Ot))throw Ot;return Ot}function P6(o){return on(o).toLowerCase()}function N6(o){return on(o).toUpperCase()}function F6(o,u,p){if(o=on(o),o&&(p||u===n))return ka(o);if(!o||!(u=Xr(u)))return o;var k=zr(o),W=zr(u),G=jl(k,W),oe=xl(k,W)+1;return Vo(k,G,oe).join("")}function R6(o,u,p){if(o=on(o),o&&(p||u===n))return o.slice(0,op(o)+1);if(!o||!(u=Xr(u)))return o;var k=zr(o),W=xl(k,zr(u))+1;return Vo(k,0,W).join("")}function I6(o,u,p){if(o=on(o),o&&(p||u===n))return o.replace(Ii,"");if(!o||!(u=Xr(u)))return o;var k=zr(o),W=jl(k,zr(u));return Vo(k,W).join("")}function M6(o,u){var p=L,k=M;if(On(u)){var W="separator"in u?u.separator:W;p="length"in u?At(u.length):p,k="omission"in u?Xr(u.omission):k}o=on(o);var G=o.length;if(Io(o)){var oe=zr(o);G=oe.length}if(p>=G)return o;var le=p-Mo(k);if(le<1)return k;var me=oe?Vo(oe,0,le).join(""):o.slice(0,le);if(W===n)return me+k;if(oe&&(le+=me.length-le),Db(W)){if(o.slice(le).search(W)){var Ce,Oe=me;for(W.global||(W=sc(W.source,on(rn.exec(W))+"g")),W.lastIndex=0;Ce=W.exec(Oe);)var Fe=Ce.index;me=me.slice(0,Fe===n?le:Fe)}}else if(o.indexOf(Xr(W),le)!=le){var qe=me.lastIndexOf(W);qe>-1&&(me=me.slice(0,qe))}return me+k}function L6(o){return o=on(o),o&&bn.test(o)?o.replace(je,uv):o}var j6=yc(function(o,u,p){return o+(p?" ":"")+u.toUpperCase()}),$b=HS("toUpperCase");function UT(o,u,p){return o=on(o),u=p?n:u,u===n?sv(o)?ap(o):nv(o):o.match(u)||[]}var VT=Nt(function(o,u){try{return mr(o,n,u)}catch(p){return bb(p)?p:new ht(p)}}),x6=zs(function(o,u){return Mr(u,function(p){p=ys(p),xi(o,p,yb(o[p],o))}),o});function B6(o){var u=o==null?0:o.length,p=st();return o=u?wn(o,function(k){if(typeof k[1]!="function")throw new Lr(a);return[p(k[0]),k[1]]}):[],Nt(function(k){for(var W=-1;++W<u;){var G=o[W];if(mr(G[0],this,k))return mr(G[1],this,k)}})}function q6(o){return N(E(o,g))}function Eb(o){return function(){return o}}function W6(o,u){return o==null||o!==o?u:o}var U6=zS(),V6=zS(!0);function qr(o){return o}function Sb(o){return $S(typeof o=="function"?o:E(o,g))}function H6(o){return SS(E(o,g))}function K6(o,u){return TS(o,E(u,g))}var z6=Nt(function(o,u){return function(p){return Hs(p,o,u)}}),Y6=Nt(function(o,u){return function(p){return Hs(o,p,u)}});function Tb(o,u,p){var k=rr(u),W=Ct(u,k);p==null&&!(On(u)&&(W.length||!k.length))&&(p=u,u=o,o=this,W=Ct(u,rr(u)));var G=!(On(p)&&"chain"in p)||!!p.chain,oe=Gs(o);return Mr(W,function(le){var me=u[le];o[le]=me,oe&&(o.prototype[le]=function(){var Ce=this.__chain__;if(G||Ce){var Oe=o(this.__wrapped__),Fe=Oe.__actions__=jr(this.__actions__);return Fe.push({func:me,args:arguments,thisArg:o}),Oe.__chain__=Ce,Oe}return me.apply(o,fs([this.value()],arguments))})}),o}function G6(){return Zn._===this&&(Zn._=fp),this}function kb(){}function J6(o){return o=At(o),Nt(function(u){return kS(u,o)})}var Q6=ib(wn),X6=ib(tc),Z6=ib(Pl);function HT(o){return fb(o)?Rl(ys(o)):CB(o)}function e9(o){return function(u){return o==null?n:nt(o,u)}}var t9=GS(),n9=GS(!0);function Ab(){return[]}function Cb(){return!1}function r9(){return{}}function i9(){return""}function s9(){return!0}function o9(o,u){if(o=At(o),o<1||o>Ve)return[];var p=K,k=nr(o,K);u=st(u),o-=K;for(var W=ds(k,u);++p<o;)u(p);return W}function a9(o){return Et(o)?wn(o,ys):Zr(o)?[o]:jr(fT(on(o)))}function u9(o){var u=++hv;return on(o)+u}var c9=Pp(function(o,u){return o+u},0),l9=sb("ceil"),f9=Pp(function(o,u){return o/u},1),d9=sb("floor");function h9(o){return o&&o.length?we(o,qr,gn):n}function p9(o,u){return o&&o.length?we(o,st(u,2),gn):n}function m9(o){return Xh(o,qr)}function g9(o,u){return Xh(o,st(u,2))}function y9(o){return o&&o.length?we(o,qr,Yv):n}function v9(o,u){return o&&o.length?we(o,st(u,2),Yv):n}var b9=Pp(function(o,u){return o*u},1),D9=sb("round"),w9=Pp(function(o,u){return o-u},0);function _9(o){return o&&o.length?Ml(o,qr):0}function $9(o,u){return o&&o.length?Ml(o,st(u,2)):0}return z.after=H3,z.ary=_T,z.assign=N8,z.assignIn=MT,z.assignInWith=Vp,z.assignWith=F8,z.at=R8,z.before=$T,z.bind=yb,z.bindAll=x6,z.bindKey=ET,z.castArray=r8,z.chain=bT,z.chunk=dq,z.compact=hq,z.concat=pq,z.cond=B6,z.conforms=q6,z.constant=Eb,z.countBy=_3,z.create=I8,z.curry=ST,z.curryRight=TT,z.debounce=kT,z.defaults=M8,z.defaultsDeep=L8,z.defer=K3,z.delay=z3,z.difference=mq,z.differenceBy=gq,z.differenceWith=yq,z.drop=vq,z.dropRight=bq,z.dropRightWhile=Dq,z.dropWhile=wq,z.fill=_q,z.filter=E3,z.flatMap=k3,z.flatMapDeep=A3,z.flatMapDepth=C3,z.flatten=mT,z.flattenDeep=$q,z.flattenDepth=Eq,z.flip=Y3,z.flow=U6,z.flowRight=V6,z.fromPairs=Sq,z.functions=V8,z.functionsIn=H8,z.groupBy=O3,z.initial=kq,z.intersection=Aq,z.intersectionBy=Cq,z.intersectionWith=Oq,z.invert=z8,z.invertBy=Y8,z.invokeMap=N3,z.iteratee=Sb,z.keyBy=F3,z.keys=rr,z.keysIn=Br,z.map=jp,z.mapKeys=J8,z.mapValues=Q8,z.matches=H6,z.matchesProperty=K6,z.memoize=Bp,z.merge=X8,z.mergeWith=LT,z.method=z6,z.methodOf=Y6,z.mixin=Tb,z.negate=qp,z.nthArg=J6,z.omit=Z8,z.omitBy=e6,z.once=G3,z.orderBy=R3,z.over=Q6,z.overArgs=J3,z.overEvery=X6,z.overSome=Z6,z.partial=vb,z.partialRight=AT,z.partition=I3,z.pick=t6,z.pickBy=jT,z.property=HT,z.propertyOf=e9,z.pull=Rq,z.pullAll=yT,z.pullAllBy=Iq,z.pullAllWith=Mq,z.pullAt=Lq,z.range=t9,z.rangeRight=n9,z.rearg=Q3,z.reject=j3,z.remove=jq,z.rest=X3,z.reverse=mb,z.sampleSize=B3,z.set=r6,z.setWith=i6,z.shuffle=q3,z.slice=xq,z.sortBy=V3,z.sortedUniq=Kq,z.sortedUniqBy=zq,z.split=k6,z.spread=Z3,z.tail=Yq,z.take=Gq,z.takeRight=Jq,z.takeRightWhile=Qq,z.takeWhile=Xq,z.tap=h3,z.throttle=e8,z.thru=Lp,z.toArray=FT,z.toPairs=xT,z.toPairsIn=BT,z.toPath=a9,z.toPlainObject=IT,z.transform=s6,z.unary=t8,z.union=Zq,z.unionBy=e3,z.unionWith=t3,z.uniq=n3,z.uniqBy=r3,z.uniqWith=i3,z.unset=o6,z.unzip=gb,z.unzipWith=vT,z.update=a6,z.updateWith=u6,z.values=Dc,z.valuesIn=c6,z.without=s3,z.words=UT,z.wrap=n8,z.xor=o3,z.xorBy=a3,z.xorWith=u3,z.zip=c3,z.zipObject=l3,z.zipObjectDeep=f3,z.zipWith=d3,z.entries=xT,z.entriesIn=BT,z.extend=MT,z.extendWith=Vp,Tb(z,z),z.add=c9,z.attempt=VT,z.camelCase=h6,z.capitalize=qT,z.ceil=l9,z.clamp=l6,z.clone=i8,z.cloneDeep=o8,z.cloneDeepWith=a8,z.cloneWith=s8,z.conformsTo=u8,z.deburr=WT,z.defaultTo=W6,z.divide=f9,z.endsWith=p6,z.eq=Bi,z.escape=m6,z.escapeRegExp=g6,z.every=$3,z.find=S3,z.findIndex=hT,z.findKey=j8,z.findLast=T3,z.findLastIndex=pT,z.findLastKey=x8,z.floor=d9,z.forEach=DT,z.forEachRight=wT,z.forIn=B8,z.forInRight=q8,z.forOwn=W8,z.forOwnRight=U8,z.get=wb,z.gt=c8,z.gte=l8,z.has=K8,z.hasIn=_b,z.head=gT,z.identity=qr,z.includes=P3,z.indexOf=Tq,z.inRange=f6,z.invoke=G8,z.isArguments=Ba,z.isArray=Et,z.isArrayBuffer=f8,z.isArrayLike=xr,z.isArrayLikeObject=Kn,z.isBoolean=d8,z.isBuffer=Ho,z.isDate=h8,z.isElement=p8,z.isEmpty=m8,z.isEqual=g8,z.isEqualWith=y8,z.isError=bb,z.isFinite=v8,z.isFunction=Gs,z.isInteger=CT,z.isLength=Wp,z.isMap=OT,z.isMatch=b8,z.isMatchWith=D8,z.isNaN=w8,z.isNative=_8,z.isNil=E8,z.isNull=$8,z.isNumber=PT,z.isObject=On,z.isObjectLike=In,z.isPlainObject=rf,z.isRegExp=Db,z.isSafeInteger=S8,z.isSet=NT,z.isString=Up,z.isSymbol=Zr,z.isTypedArray=bc,z.isUndefined=T8,z.isWeakMap=k8,z.isWeakSet=A8,z.join=Pq,z.kebabCase=y6,z.last=wi,z.lastIndexOf=Nq,z.lowerCase=v6,z.lowerFirst=b6,z.lt=C8,z.lte=O8,z.max=h9,z.maxBy=p9,z.mean=m9,z.meanBy=g9,z.min=y9,z.minBy=v9,z.stubArray=Ab,z.stubFalse=Cb,z.stubObject=r9,z.stubString=i9,z.stubTrue=s9,z.multiply=b9,z.nth=Fq,z.noConflict=G6,z.noop=kb,z.now=xp,z.pad=D6,z.padEnd=w6,z.padStart=_6,z.parseInt=$6,z.random=d6,z.reduce=M3,z.reduceRight=L3,z.repeat=E6,z.replace=S6,z.result=n6,z.round=D9,z.runInContext=he,z.sample=x3,z.size=W3,z.snakeCase=T6,z.some=U3,z.sortedIndex=Bq,z.sortedIndexBy=qq,z.sortedIndexOf=Wq,z.sortedLastIndex=Uq,z.sortedLastIndexBy=Vq,z.sortedLastIndexOf=Hq,z.startCase=A6,z.startsWith=C6,z.subtract=w9,z.sum=_9,z.sumBy=$9,z.template=O6,z.times=o9,z.toFinite=Js,z.toInteger=At,z.toLength=RT,z.toLower=P6,z.toNumber=_i,z.toSafeInteger=P8,z.toString=on,z.toUpper=N6,z.trim=F6,z.trimEnd=R6,z.trimStart=I6,z.truncate=M6,z.unescape=L6,z.uniqueId=u9,z.upperCase=j6,z.upperFirst=$b,z.each=DT,z.eachRight=wT,z.first=gT,Tb(z,function(){var o={};return xe(z,function(u,p){Qt.call(z.prototype,p)||(o[p]=u)}),o}(),{chain:!1}),z.VERSION=r,Mr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){z[o].placeholder=z}),Mr(["drop","take"],function(o,u){It.prototype[o]=function(p){p=p===n?1:Hn(At(p),0);var k=this.__filtered__&&!u?new It(this):this.clone();return k.__filtered__?k.__takeCount__=nr(p,k.__takeCount__):k.__views__.push({size:nr(p,K),type:o+(k.__dir__<0?"Right":"")}),k},It.prototype[o+"Right"]=function(p){return this.reverse()[o](p).reverse()}}),Mr(["filter","map","takeWhile"],function(o,u){var p=u+1,k=p==ne||p==pe;It.prototype[o]=function(W){var G=this.clone();return G.__iteratees__.push({iteratee:st(W,3),type:p}),G.__filtered__=G.__filtered__||k,G}}),Mr(["head","last"],function(o,u){var p="take"+(u?"Right":"");It.prototype[o]=function(){return this[p](1).value()[0]}}),Mr(["initial","tail"],function(o,u){var p="drop"+(u?"":"Right");It.prototype[o]=function(){return this.__filtered__?new It(this):this[p](1)}}),It.prototype.compact=function(){return this.filter(qr)},It.prototype.find=function(o){return this.filter(o).head()},It.prototype.findLast=function(o){return this.reverse().find(o)},It.prototype.invokeMap=Nt(function(o,u){return typeof o=="function"?new It(this):this.map(function(p){return Hs(p,o,u)})}),It.prototype.reject=function(o){return this.filter(qp(st(o)))},It.prototype.slice=function(o,u){o=At(o);var p=this;return p.__filtered__&&(o>0||u<0)?new It(p):(o<0?p=p.takeRight(-o):o&&(p=p.drop(o)),u!==n&&(u=At(u),p=u<0?p.dropRight(-u):p.take(u-o)),p)},It.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},It.prototype.toArray=function(){return this.take(K)},xe(It.prototype,function(o,u){var p=/^(?:filter|find|map|reject)|While$/.test(u),k=/^(?:head|last)$/.test(u),W=z[k?"take"+(u=="last"?"Right":""):u],G=k||/^find/.test(u);!W||(z.prototype[u]=function(){var oe=this.__wrapped__,le=k?[1]:arguments,me=oe instanceof It,Ce=le[0],Oe=me||Et(oe),Fe=function(Mt){var Bt=W.apply(z,fs([Mt],le));return k&&qe?Bt[0]:Bt};Oe&&p&&typeof Ce=="function"&&Ce.length!=1&&(me=Oe=!1);var qe=this.__chain__,Ge=!!this.__actions__.length,ut=G&&!qe,Ot=me&&!Ge;if(!G&&Oe){oe=Ot?oe:new It(this);var ct=o.apply(oe,le);return ct.__actions__.push({func:Lp,args:[Fe],thisArg:n}),new Er(ct,qe)}return ut&&Ot?o.apply(this,le):(ct=this.thru(Fe),ut?k?ct.value()[0]:ct.value():ct)})}),Mr(["pop","push","shift","sort","splice","unshift"],function(o){var u=oc[o],p=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",k=/^(?:pop|shift)$/.test(o);z.prototype[o]=function(){var W=arguments;if(k&&!this.__chain__){var G=this.value();return u.apply(Et(G)?G:[],W)}return this[p](function(oe){return u.apply(Et(oe)?oe:[],W)})}}),xe(It.prototype,function(o,u){var p=z[u];if(p){var k=p.name+"";Qt.call(Us,k)||(Us[k]=[]),Us[k].push({name:u,func:p})}}),Us[Op(n,R).name]=[{name:"wrapper",func:n}],It.prototype.clone=_v,It.prototype.reverse=$v,It.prototype.value=Ev,z.prototype.at=p3,z.prototype.chain=m3,z.prototype.commit=g3,z.prototype.next=y3,z.prototype.plant=b3,z.prototype.reverse=D3,z.prototype.toJSON=z.prototype.valueOf=z.prototype.value=w3,z.prototype.first=z.prototype.head,Li&&(z.prototype[Li]=v3),z},xs=up();Ms?((Ms.exports=xs)._=xs,Po._=xs):Zn._=xs}).call(Wt)})(k0,k0.exports);class Zj{constructor(e){this.clientCapabilities=e,this.indentation="  "}configure(e){this.indentation=e.indentation}getCodeAction(e,n){if(!n.context.diagnostics)return;const r=[];return r.push(...this.getConvertToBooleanActions(n.context.diagnostics,e)),r.push(...this.getJumpToSchemaActions(n.context.diagnostics)),r.push(...this.getTabToSpaceConverting(n.context.diagnostics,e)),r.push(...this.getUnusedAnchorsDelete(n.context.diagnostics,e)),r.push(...this.getConvertToBlockStyleActions(n.context.diagnostics,e)),r.push(...this.getKeyOrderActions(n.context.diagnostics,e)),r.push(...this.getQuickFixForPropertyOrValueMismatch(n.context.diagnostics,e)),r}getJumpToSchemaActions(e){var s,a,l,f,d;if(!((f=(l=(a=(s=this.clientCapabilities)==null?void 0:s.window)==null?void 0:a.showDocument)==null?void 0:l.support)!=null?f:!1))return[];const r=new Map;for(const h of e){const g=((d=h.data)==null?void 0:d.schemaUri)||[];for(const S of g)S&&(r.has(S)||r.set(S,[]),r.get(S).push(h))}const i=[];for(const h of r.keys()){const g=Ei.create(`Jump to schema location (${sa.basename(h)})`,no.create("JumpToSchema",gh.JUMP_TO_SCHEMA,h));g.diagnostics=r.get(h),i.push(g)}return i}getTabToSpaceConverting(e,n){const r=[],i=new ua(n),s=[];for(const a of e)if(a.message==="Using tabs can lead to unpredictable results"){if(s.includes(a.range.start.line))continue;const l=i.getLineContent(a.range.start.line);let f=0,d="";for(let g=a.range.start.character;g<=a.range.end.character&&l.charAt(g)==="	";g++)f++,d+=this.indentation;s.push(a.range.start.line);let h=a.range;f!==a.range.end.character-a.range.start.character&&(h=ot.create(a.range.start,Jn.create(a.range.end.line,a.range.start.character+f))),r.push(Ei.create("Convert Tab to Spaces",wa(n.uri,[fn.replace(h,d)]),Hi.QuickFix))}if(r.length!==0){const a=[];for(let l=0;l<=i.getLineCount();l++){const f=i.getLineContent(l);let d=0,h="";for(let g=0;g<f.length;g++){const S=f.charAt(g);if(S!==" "&&S!=="	"){d!==0&&(a.push(fn.replace(ot.create(l,g-d,l,g),h)),d=0,h="");break}if(S===" "&&d!==0){a.push(fn.replace(ot.create(l,g-d,l,g),h)),d=0,h="";continue}S==="	"&&(h+=this.indentation,d++)}d!==0&&a.push(fn.replace(ot.create(l,0,l,i.getLineLength(l)),h))}a.length>0&&r.push(Ei.create("Convert all Tabs to Spaces",wa(n.uri,a),Hi.QuickFix))}return r}getUnusedAnchorsDelete(e,n){const r=[],i=new ua(n);for(const s of e)if(s.message.startsWith("Unused anchor")&&s.source===gd){const a=ot.create(s.range.start,s.range.end),l=i.getText(a),f=i.getLineContent(a.end.line),d=WA(f,a.end.character);a.end.character=d;const h=Ei.create(`Delete unused anchor: ${l}`,wa(n.uri,[fn.del(a)]),Hi.QuickFix);h.diagnostics=[s],r.push(h)}return r}getConvertToBooleanActions(e,n){const r=[];for(const i of e)if(i.message==='Incorrect type. Expected "boolean".'){const s=n.getText(i.range).toLocaleLowerCase();if(s==='"true"'||s==='"false"'||s==="'true'"||s==="'false'"){const a=s.includes("true")?"true":"false";r.push(Ei.create("Convert to boolean",wa(n.uri,[fn.replace(i.range,a)]),Hi.QuickFix))}}return r}getConvertToBlockStyleActions(e,n){const r=[];for(const i of e)if(i.code==="flowMap"||i.code==="flowSeq"){const s=kE(n,i);if(Fn(s.internalNode)||jn(s.internalNode)){const a=Fn(s.internalNode)?"map":"sequence",l=new Xj(this.indentation);r.push(Ei.create(`Convert to block style ${a}`,wa(n.uri,[fn.replace(i.range,l.write(s))]),Hi.QuickFix))}}return r}getKeyOrderActions(e,n){var i,s,a,l,f,d,h,g,S,O,I,P,C,R;const r=[];for(const T of e)if((T==null?void 0:T.code)==="mapKeyOrder"){let v=kE(n,T);for(;v&&v.type!=="object";)v=v.parent;if(v&&Fn(v.internalNode)){const D=k0.exports.cloneDeep(v.internalNode);if((D.srcToken.type==="block-map"||D.srcToken.type==="flow-collection")&&(v.internalNode.srcToken.type==="block-map"||v.internalNode.srcToken.type==="flow-collection")){D.srcToken.items.sort((_,$)=>{if(_.key&&$.key&&Cg(_.key)&&Cg($.key))return _.key.source.localeCompare($.key.source);if(!_.key&&$.key)return-1;if(_.key&&!$.key)return 1;if(!_.key&&!$.key)return 0});for(let _=0;_<D.srcToken.items.length;_++){const $=D.srcToken.items[_],q=v.internalNode.srcToken.items[_];if($.start=q.start,((i=$.value)==null?void 0:i.type)==="alias"||((s=$.value)==null?void 0:s.type)==="scalar"||((a=$.value)==null?void 0:a.type)==="single-quoted-scalar"||((l=$.value)==null?void 0:l.type)==="double-quoted-scalar"){const F=(h=(d=(f=$.value)==null?void 0:f.end)==null?void 0:d.findIndex(M=>M.type==="newline"))!=null?h:-1;let L=null;((g=q.value)==null?void 0:g.type)==="block-scalar"?L=(O=(S=q.value)==null?void 0:S.props)==null?void 0:O.find(M=>M.type==="newline"):Cg(q.value)&&(L=(P=(I=q.value)==null?void 0:I.end)==null?void 0:P.find(M=>M.type==="newline")),L&&F<0&&($.value.end=(C=$.value.end)!=null?C:[],$.value.end.push(L)),!L&&F>-1&&$.value.end.splice(F,1)}else((R=$.value)==null?void 0:R.type)==="block-scalar"&&($.value.props.find(L=>L.type==="newline")||$.value.props.push({type:"newline",indent:0,offset:$.value.offset,source:`
`}))}}const b=ot.create(n.positionAt(v.offset),n.positionAt(v.offset+v.length));r.push(Ei.create("Fix key order for this map",wa(n.uri,[fn.replace(b,yw(D.srcToken))]),Hi.QuickFix))}}return r}getPossibleQuickFixValues(e){if(typeof e.data=="object"){if(e.code===Or.EnumValueMismatch&&"values"in e.data&&Array.isArray(e.data.values))return e.data.values;if(e.code===Or.PropertyExpected&&"properties"in e.data&&Array.isArray(e.data.properties))return e.data.properties}}getQuickFixForPropertyOrValueMismatch(e,n){const r=[];for(const i of e){const s=this.getPossibleQuickFixValues(i);if(!!(s!=null&&s.length))for(const a of s)r.push(Ei.create(a,wa(n.uri,[fn.replace(i.range,a)]),Hi.QuickFix))}return r}}function kE(t,e){const n=fi.getYamlDocument(t),r=t.offsetAt(e.range.start);return md(r,n).getNodeFromOffset(r)}function wa(t,e){const n={};return n[t]=e,{changes:n}}function ex(t,e){const{position:n}=e,r=new ua(t);if(e.ch===`
`){const i=r.getLineContent(n.line-1);if(i.trimRight().endsWith(":")){const s=r.getLineContent(n.line),a=s.substring(n.character,s.length),l=i.indexOf(" - ")!==-1;if(a.trimRight().length===0){const f=n.character-(i.length-i.trimLeft().length);if(f===e.options.tabSize&&!l)return;const d=[];return s.length>0&&d.push(fn.del(ot.create(n,Jn.create(n.line,s.length-1)))),d.push(fn.insert(n," ".repeat(e.options.tabSize+(l?2-f:0)))),d}if(l)return[fn.insert(n," ".repeat(e.options.tabSize))]}if(i.trimRight().endsWith("|"))return[fn.insert(n," ".repeat(e.options.tabSize))];if(i.includes(" - ")&&!i.includes(": "))return[fn.insert(n,"- ")];if(i.includes(" - ")&&i.includes(": "))return[fn.insert(n,"  ")]}}function AE(t){const e=new Map;return t&&(t.url?t.url.startsWith("schemaservice://combinedSchema/")?CE(t,e):e.set(t.url,t):CE(t,e)),e}function CE(t,e){t.allOf&&A0(t.allOf,e),t.anyOf&&A0(t.anyOf,e),t.oneOf&&A0(t.oneOf,e)}function A0(t,e){for(const n of t)!wu(n)&&n.url&&!e.has(n.url)&&e.set(n.url,n)}class tx{constructor(e,n){this.schemaService=e,this.telemetry=n}async getCodeLens(e){var r;const n=[];try{const i=fi.getYamlDocument(e);let s=new Map;for(const a of i.documents){const l=await this.schemaService.getSchemaForResource(e.uri,a);l!=null&&l.schema&&(s=new Map([...AE(l==null?void 0:l.schema),...s]))}for(const a of s){const l=_f.create(ot.create(0,0,0,0));l.command={title:Ow(a[1],a[0]),command:gh.JUMP_TO_SCHEMA,arguments:[a[0]]},n.push(l)}}catch(i){(r=this.telemetry)==null||r.sendError("yaml.codeLens.error",i)}return n}resolveCodeLens(e){return e}}class nx{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function rx(t,e,n,r,i){i.spacesDiff=0,i.looksLikeAlignment=!1;let s;for(s=0;s<e&&s<r;s++){const S=t.charCodeAt(s),O=n.charCodeAt(s);if(S!==O)break}let a=0,l=0;for(let S=s;S<e;S++)t.charCodeAt(S)===32?a++:l++;let f=0,d=0;for(let S=s;S<r;S++)n.charCodeAt(S)===32?f++:d++;if(a>0&&l>0||f>0&&d>0)return;const h=Math.abs(l-d),g=Math.abs(a-f);if(h===0){i.spacesDiff=g,g>0&&0<=f-1&&f-1<t.length&&f<n.length&&n.charCodeAt(f)!==32&&t.charCodeAt(f-1)===32&&t.charCodeAt(t.length-1)===44&&(i.looksLikeAlignment=!0);return}g%h===0&&(i.spacesDiff=g/h)}function ix(t,e,n){const r=Math.min(t.getLineCount(),1e4);let i=0,s=0,a="",l=0;const f=[2,4,6,8,3,5,7],d=8,h=[0,0,0,0,0,0,0,0,0],g=new nx;for(let I=1;I<=r;I++){const P=t.getLineLength(I),C=t.getLineContent(I),R=P<=65536;let T=!1,v=0,D=0,b=0;for(let $=0,q=P;$<q;$++){const F=R?C.charCodeAt($):t.getLineCharCode(I,$);if(F===9)b++;else if(F===32)D++;else{T=!0,v=$;break}}if(!T||(b>0?i++:D>1&&s++,rx(a,l,C,v,g),g.looksLikeAlignment&&!(n&&e===g.spacesDiff)))continue;const _=g.spacesDiff;_<=d&&h[_]++,a=C,l=v}let S=n;i!==s&&(S=i<s);let O=e;if(S){let I=S?0:.1*r;f.forEach(P=>{const C=h[P];C>I&&(I=C,O=P)}),O===4&&h[4]>0&&h[2]>0&&h[2]>=h[4]/2&&(O=2)}return{insertSpaces:S,tabSize:O}}function yh(t,e,n,r,i=0,s=0){if(t!==null&&typeof t=="object"){const a=i===0&&r.shouldIndentWithTab||i>0?e+r.indentation:"";if(Array.isArray(t)){if(s+=1,t.length===0)return"";let l="";for(let f=0;f<t.length;f++){let d=t[f];if(typeof t[f]!="object"){l+=`
`+a+"- "+n(t[f]);continue}Array.isArray(t[f])||(d=sx(t[f],s)),l+=yh(d,e,n,r,i+=1,s)}return l}else{const l=Object.keys(t);if(l.length===0)return"";let f=i===0&&r.newLineFirst||i>0?`
`:"",d=!0;for(let h=0;h<l.length;h++){const g=l[h];if(i===0&&r.existingProps.includes(g))continue;const S=typeof t[g]=="object",O=S?":":": ",I=S&&/^\s|-/.test(g)?r.indentation:"",P=a+I,C=d?"":`
`;if(i===0&&d&&!r.indentFirstObject){const R=yh(t[g],P,n,r,i+1,0);f+=C+e+g+O+R}else{const R=yh(t[g],P,n,r,i+1,0);f+=C+a+g+O+R}d=!1}return f}}return n(t)}function sx(t,e){const n={};for(let r=0;r<Object.keys(t).length;r++){const i=Object.keys(t)[r];r===0?n["- ".repeat(e)+i]=t[i]:n["  ".repeat(e)+i]=t[i]}return n}const ox=Es.loadMessageBundle(),OE=/[\\]+"/g,PE=Ar.Class,vh="__";class ax{constructor(e,n={},r,i){this.schemaService=e,this.clientCapabilities=n,this.yamlDocument=r,this.telemetry=i,this.completionEnabled=!0,this.arrayPrefixIndentation=""}configure(e){e&&(this.completionEnabled=e.completion),this.customTags=e.customTags,this.yamlVersion=e.yamlVersion,this.configuredIndentation=e.indentation,this.disableDefaultProperties=e.disableDefaultProperties,this.parentSkeletonSelectedFirst=e.parentSkeletonSelectedFirst}async doComplete(e,n,r=!1,i=!0){var b;const s=wf.create([],!1);if(!this.completionEnabled)return s;const a=this.yamlDocument.getYamlDocument(e,{customTags:this.customTags,yamlVersion:this.yamlVersion},!0),l=new ua(e);if(this.configuredIndentation)this.indentation=this.configuredIndentation;else{const _=ix(l,2,!0);this.indentation=_.insertSpaces?" ".repeat(_.tabSize):"	"}E$(a.documents,r);for(const _ of a.documents)_.uri=e.uri;const f=e.offsetAt(n),d=e.getText();if(d.charAt(f-1)===":")return Promise.resolve(s);let h=md(f,a);if(h===null)return Promise.resolve(s);h=h.clone();let[g,S]=h.getNodeFromPosition(f,l,this.indentation.length);const O=this.getCurrentWord(e,f);let I=l.getLineContent(n.line);const P=I.substring(n.character),C=/^[ ]+\n?$/.test(P);this.arrayPrefixIndentation="";let R=null;if(C){R=ot.create(n,Jn.create(n.line,I.length));const _=I.trim().length===0,$=I.match(/^\s*(-)\s*$/);if(g&&Dt(g)&&!_&&!$){const q=I.substring(0,n.character),F=q.match(/^[\s-]*([^:]+)?$/)||q.match(/:[ \t]((?!:[ \t]).*)$/);F!=null&&F[1]&&(R=ot.create(Jn.create(n.line,n.character-F[1].length),Jn.create(n.line,I.length)))}}else if(g&&Dt(g)&&g.value==="null"){const _=e.positionAt(g.range[0]);_.character+=1;const $=e.positionAt(g.range[2]);$.character+=1,R=ot.create(_,$)}else if(g&&Dt(g)&&g.value){const _=e.positionAt(g.range[0]);R=ot.create(_,e.positionAt(g.range[1]))}else if(g&&Dt(g)&&g.value===null&&O==="-")R=ot.create(n,n),this.arrayPrefixIndentation=" ";else{let _=f-O.length;_>0&&d[_-1]==='"'&&_--,R=ot.create(e.positionAt(_),n)}const T={},v={add:(_,$)=>{const q=function(H){var lt;if(((lt=T[H.label])==null?void 0:lt.label)===vh)return;const ge=H.parent.schema,pe=Fg(ge),$e=ge.markdownDescription||ge.description;let Ve=s.items.find(Se=>{var K;return((K=Se.parent)==null?void 0:K.schema)===ge&&Se.kind===PE});Ve&&Ve.parent.insertTexts.includes(H.insertText)||(Ve?Ve.parent.insertTexts.push(H.insertText):(Ve={...H,label:pe,documentation:$e,sortText:"_"+pe,kind:PE},Ve.label=Ve.label||H.label,Ve.parent.insertTexts=[H.insertText],s.items.push(Ve)))},F=!!_.parent;let L=_.label;if(!L){console.warn(`Ignoring CompletionItem without label: ${JSON.stringify(_)}`);return}if(_u(L)||(L=String(L)),L=L.replace(/[\n]/g,"\u21B5"),L.length>60){const H=L.substr(0,57).trim()+"...";T[H]||(L=H)}if(_.insertText.endsWith("$1")&&!F&&(_.insertText=_.insertText.substr(0,_.insertText.length-2)),R&&R.start.line===R.end.line&&(_.textEdit=fn.replace(R,_.insertText)),_.label=L,F){q(_);return}this.arrayPrefixIndentation&&this.updateCompletionText(_,this.arrayPrefixIndentation+_.insertText);const M=T[L],Y=(M==null?void 0:M.label)!==vh&&(M==null?void 0:M.insertText)!==_.insertText;if(!M)T[L]=_,s.items.push(_);else if(Y){const H=this.mergeSimpleInsertTexts(L,M.insertText,_.insertText,$);H?this.updateCompletionText(M,H):(T[L]=_,s.items.push(_))}M&&!M.documentation&&_.documentation&&(M.documentation=_.documentation)},error:_=>{var $;($=this.telemetry)==null||$.sendError("yaml.completion.error",_)},log:_=>{console.log(_)},getNumberOfProposals:()=>s.items.length,result:s,proposed:T};this.customTags&&this.customTags.length>0&&this.getCustomTagValueCompletions(v),I.endsWith(`
`)&&(I=I.substr(0,I.length-1));try{const _=await this.schemaService.getSchemaForResource(e.uri,h);if((!_||_.errors.length)&&n.line===0&&n.character===0&&!Ug(I)){const L={kind:Ar.Text,label:"Inline schema",insertText:"# yaml-language-server: $schema=",insertTextFormat:er.PlainText};s.items.push(L)}if(Ug(I)||zO(a.tokens,f)){const L=I.indexOf("$schema=");return L!==-1&&L+8<=n.character&&this.schemaService.getAllSchemas().forEach(M=>{var H;const Y={kind:Ar.Constant,label:(H=M.name)!=null?H:M.uri,detail:M.description,insertText:M.uri,insertTextFormat:er.PlainText,insertTextMode:bf.asIs};s.items.push(Y)}),s}if(!_||_.errors.length)return s;let $=null;if(!g)if(!h.internalDocument.contents||Dt(h.internalDocument.contents)){const L=h.internalDocument.createNode({});L.range=[f,f+1,f+1],h.internalDocument.contents=L,h.updateFromInternalDocument(),g=L}else g=h.findClosestNode(f,l),S=!0;const q=g;if(g)if(I.length===0)g=h.internalDocument.contents;else{const L=h.getParent(g);if(L){if(Dt(g)){if(g.value){if(Xt(L)){if(L.value===g){if(I.trim().length>0&&I.indexOf(":")<0){const M=this.createTempObjNode(O,g,h),Y=h.getParent(L);if(jn(h.internalDocument.contents)){const H=KO(h.internalDocument.contents,L);typeof H=="number"&&(h.internalDocument.set(H,M),h.updateFromInternalDocument())}else Y&&(Fn(Y)||jn(Y))?(Y.set(L.key,M),h.updateFromInternalDocument()):(h.internalDocument.set(L.key,M),h.updateFromInternalDocument());$=M.items[0],g=M}else if(I.trim().length===0){const M=h.getParent(L);M&&(g=M)}}else if(L.key===g){const M=h.getParent(L);$=L,M&&(g=M)}}else if(jn(L))if(I.trim().length>0){const M=this.createTempObjNode(O,g,h);L.delete(g),L.add(M),h.updateFromInternalDocument(),g=M}else g=L}else if(g.value===null){if(Xt(L)){if(L.key===g)g=L;else if(an(L.key)&&L.key.range){const M=h.getParent(L);if(S&&M&&Fn(M)&&HO(M))g=M;else{const Y=e.positionAt(L.key.range[0]);if(n.character>Y.character&&n.line!==Y.line){const H=this.createTempObjNode(O,g,h);M&&(Fn(M)||jn(M))?(M.set(L.key,H),h.updateFromInternalDocument()):(h.internalDocument.set(L.key,H),h.updateFromInternalDocument()),$=H.items[0],g=H}else Y.character===n.character&&M&&(g=M)}}}else if(jn(L))if(I.charAt(n.character-1)!=="-"){const M=this.createTempObjNode(O,g,h);L.delete(g),L.add(M),h.updateFromInternalDocument(),g=M}else if(I.charAt(n.character-1)==="-"){const M=this.createTempObjNode("",g,h);L.delete(g),L.add(M),h.updateFromInternalDocument(),g=M}else g=L}}else if(Fn(g)&&!S&&I.trim().length===0&&jn(L)){const M=l.getLineContent(n.line+1);(l.getLineCount()===n.line+1||M.trim().length===0)&&(g=L)}}else if(Dt(g)){const M=this.createTempObjNode(O,g,h);h.internalDocument.contents=M,h.updateFromInternalDocument(),$=M.items[0],g=M}else if(Fn(g))for(const M of g.items)an(M.value)&&M.value.range&&M.value.range[0]===f+1&&(g=M.value);else if(jn(g)&&I.charAt(n.character-1)!=="-"){const M=this.createTempObjNode(O,g,h);M.items=[],h.updateFromInternalDocument();for(const Y of g.items)Fn(Y)&&Y.items.forEach(H=>{M.items.push(H)});g=M}}if(g&&Fn(g)){const L=g.items;for(const M of L)(!$||$!==M)&&Dt(M.key)&&(T[M.key.value+""]=Df.create(vh));this.addPropertyCompletions(_,h,g,q,"",v,l,R,i),!_&&O.length>0&&d.charAt(f-O.length-1)!=='"'&&v.add({kind:Ar.Property,label:O,insertText:this.getInsertTextForProperty(O,null,""),insertTextFormat:er.Snippet})}const F={};this.getValueCompletions(_,h,g,f,e,v,F,i)}catch(_){(b=this.telemetry)==null||b.sendError("yaml.completion.error",_)}this.finalizeParentCompletion(s);const D=s.items.filter((_,$,q)=>$===q.findIndex(F=>F.label===_.label&&F.insertText===_.insertText&&F.kind===_.kind));return(D==null?void 0:D.length)>0&&(s.items=D),s}updateCompletionText(e,n){e.insertText=n,e.textEdit&&(e.textEdit.newText=n)}mergeSimpleInsertTexts(e,n,r,i){const s=g=>g.includes(`
`),a=g=>g.startsWith(`
`),l=g=>{const S=g.indexOf(`
`);return S>0&&g.substring(S,g.length).trim().length===0};if(s(n)||s(r))return i&&l(n)&&!l(r)&&!a(r)?r:void 0;const f=this.getValuesFromInsertText(n),d=this.getValuesFromInsertText(r),h=Array.prototype.concat(f,d);if(h.length)return h.length===1?`${e}: \${1:${h[0]}}`:`${e}: \${1|${h.join(",")}|}`}getValuesFromInsertText(e){const n=e.substring(e.indexOf(":")+1).trim();if(!n)return[];const r=n.match(/^\${1[|:]([^|]*)+\|?}$/);return r?r[1].split(","):[n]}finalizeParentCompletion(e){const n=r=>{let i=0;return r.map(s=>{const a=s.match(/\$([0-9]+)|\${[0-9]+:/g);if(!a)return s;const l=a.map(d=>+d.replace(/\${([0-9]+)[:|]/g,"$1").replace("$","")).reduce((d,h)=>h>d?h:d,0),f=s.replace(/\$([0-9]+)/g,(d,h)=>"$"+(+h+i)).replace(/\${([0-9]+)[:|]/g,(d,h)=>"${"+(+h+i)+":");return i+=l,f})};e.items.forEach(r=>{if(lx(r)){const i=r.parent.indent||"";let a=n(r.parent.insertTexts).join(`
${i}`);a.endsWith("$1")&&(a=a.substring(0,a.length-2)),r.insertText=this.arrayPrefixIndentation+a,r.textEdit&&(r.textEdit.newText=r.insertText);const l=a.replace(/\${[0-9]+[:|](.*)}/g,(d,h)=>h).replace(/\$([0-9]+)/g,""),f=r.documentation?[r.documentation,"","----",""]:[];r.documentation={kind:Vi.Markdown,value:[...f,"```yaml",i+l,"```"].join(`
`)},delete r.parent}})}createTempObjNode(e,n,r){const i={};i[e]=null;const s=r.internalDocument.createNode(i);return s.range=n.range,s.items[0].key.range=n.range,s.items[0].value.range=n.range,s}addPropertyCompletions(e,n,r,i,s,a,l,f,d){var D,b,_;const h=n.getMatchingSchemas(e.schema,-1,null,d),g=l.getText(f),S=l.getLineContent(f.start.line),O=S.trim().length===0,I=S.indexOf(":")!==-1,P=S.trimLeft().indexOf("-")===0,C=n.getParent(r),R=h.find($=>$.node.internalNode===i&&$.schema.properties),T=h.filter($=>$.schema.oneOf).map($=>$.schema.oneOf)[0];let v=!1;(T==null?void 0:T.length)<h.length&&(T==null||T.forEach(($,q)=>{var F,L;!((F=h[q])!=null&&F.schema.oneOf)&&((L=h[q])==null?void 0:L.schema.properties)===$.properties&&(v=!0)}));for(const $ of h){if(($.node.internalNode===r&&!R||$.node.internalNode===i&&!I||((D=$.node.parent)==null?void 0:D.internalNode)===i&&!I)&&!$.inverted){this.collectDefaultSnippets($.schema,s,a,{newLineFirst:!1,indentFirstObject:!1,shouldIndentWithTab:P});const q=$.schema.properties;if(q){const F=$.schema.maxProperties;if(F===void 0||r.items===void 0||r.items.length<F||r.items.length===F&&!O){for(const L in q)if(Object.prototype.hasOwnProperty.call(q,L)){const M=q[L];if(typeof M=="object"&&!M.deprecationMessage&&!M.doNotSuggest){let Y="";if(C&&jn(C)&&r.items.length<=1&&!O){const $e=l.getText(),Ve=$e.lastIndexOf("-",r.range[0]-1);if(Ve>=0){const lt=f.end.character-f.start.character;Y=" "+$e.slice(Ve+1,r.range[1]-lt)}}Y+=this.arrayPrefixIndentation;let H;M.type==="array"&&(H=r.items.find($e=>Dt($e.key)&&$e.key.range&&$e.key.value===L&&Dt($e.value)&&!$e.value.value&&l.getPosition($e.key.range[2]).line===f.end.line-1))&&H&&(Array.isArray(M.items)?this.addSchemaValueCompletions(M.items[0],s,a,{},"property"):typeof M.items=="object"&&M.items.type==="object"&&this.addArrayItemValueCompletion(M.items,s,a));let ne=L;(!L.startsWith(g)||!I)&&(ne=this.getInsertTextForProperty(L,M,s,Y+this.indentation));const ge=Dt(i)&&i.value===null||Fn(i)&&i.items.length===0,pe=((b=$.schema.required)==null?void 0:b.length)>0;(!this.parentSkeletonSelectedFirst||!ge||!pe)&&a.add({kind:Ar.Property,label:L,insertText:ne,insertTextFormat:er.Snippet,documentation:this.fromMarkup(M.markdownDescription)||M.description||""},v),(_=$.schema.required)!=null&&_.includes(L)&&a.add({label:L,insertText:this.getInsertTextForProperty(L,M,s,Y+this.indentation),insertTextFormat:er.Snippet,documentation:this.fromMarkup(M.markdownDescription)||M.description||"",parent:{schema:$.schema,indent:Y}})}}}}if(C&&jn(C)&&dO($.schema)&&this.addSchemaValueCompletions($.schema,s,a,{},"property",Array.isArray(C.items)),$.schema.propertyNames&&$.schema.additionalProperties&&$.schema.type==="object"){const F=wr($.schema.propertyNames),L=F.title||"property";a.add({kind:Ar.Property,label:L,insertText:`\${1:${L}}: `,insertTextFormat:er.Snippet,documentation:this.fromMarkup(F.markdownDescription)||F.description||""})}}C&&$.node.internalNode===C&&$.schema.defaultSnippets&&(r.items.length===1?this.collectDefaultSnippets($.schema,s,a,{newLineFirst:!1,indentFirstObject:!1,shouldIndentWithTab:!0},1):this.collectDefaultSnippets($.schema,s,a,{newLineFirst:!1,indentFirstObject:!0,shouldIndentWithTab:!1},1))}}getValueCompletions(e,n,r,i,s,a,l,f){let d=null;if(r&&Dt(r)&&(r=n.getParent(r)),!r){this.addSchemaValueCompletions(e.schema,"",a,l,"value");return}if(Xt(r)){const h=r.value;if(h&&h.range&&i>h.range[0]+h.range[2])return;d=Dt(r.key)?r.key.value+"":null,r=n.getParent(r)}if(r&&(d!==null||jn(r))){const h="",g=n.getMatchingSchemas(e.schema,-1,null,f);for(const S of g)if(S.node.internalNode===r&&!S.inverted&&S.schema){if(S.schema.items&&(this.collectDefaultSnippets(S.schema,h,a,{newLineFirst:!1,indentFirstObject:!1,shouldIndentWithTab:!1}),jn(r)&&r.items))if(Array.isArray(S.schema.items)){const O=this.findItemAtOffset(r,s,i);O<S.schema.items.length&&this.addSchemaValueCompletions(S.schema.items[O],h,a,l,"value")}else typeof S.schema.items=="object"&&(S.schema.items.type==="object"||Rg(S.schema.items))?this.addSchemaValueCompletions(S.schema.items,h,a,l,"value",!0):this.addSchemaValueCompletions(S.schema.items,h,a,l,"value");if(S.schema.properties){const O=S.schema.properties[d];O&&this.addSchemaValueCompletions(O,h,a,l,"value")}S.schema.additionalProperties&&this.addSchemaValueCompletions(S.schema.additionalProperties,h,a,l,"value")}l.boolean&&(this.addBooleanValueCompletion(!0,h,a),this.addBooleanValueCompletion(!1,h,a)),l.null&&this.addNullValueCompletion(h,a)}}addArrayItemValueCompletion(e,n,r,i){const s=Fg(e),a=`- ${this.getInsertTextForObject(e,n).insertText.trimLeft()}`,l=s?" type `"+s+"`":"",f=e.description?" ("+e.description+")":"",d=this.getDocumentationWithMarkdownText(`Create an item of an array${l}${f}`,a);r.add({kind:this.getSuggestionKind(e.type),label:"- (array item) "+(s||i),documentation:d,insertText:a,insertTextFormat:er.Snippet})}getInsertTextForProperty(e,n,r,i=this.indentation){const s=this.getInsertTextForValue(e,"","string"),a=s+":";let l,f=0;if(n){let d=Array.isArray(n.type)?n.type[0]:n.type;if(d||(n.properties?d="object":n.items?d="array":n.anyOf&&(d="anyOf")),Array.isArray(n.defaultSnippets)){if(n.defaultSnippets.length===1){const h=n.defaultSnippets[0].body;oa(h)&&(l=this.getInsertTextForSnippetValue(h,"",{newLineFirst:!0,indentFirstObject:!1,shouldIndentWithTab:!1},[],1),!l.startsWith(" ")&&!l.startsWith(`
`)&&(l=" "+l))}f+=n.defaultSnippets.length}if(n.enum&&(!l&&n.enum.length===1&&(l=" "+this.getInsertTextForGuessedValue(n.enum[0],"",d)),f+=n.enum.length),n.const&&(l||(l=this.getInsertTextForGuessedValue(n.const,"",d),l=cx(l),l=" "+l),f++),oa(n.default)&&(l||(l=" "+this.getInsertTextForGuessedValue(n.default,"",d)),f++),Array.isArray(n.examples)&&n.examples.length&&(l||(l=" "+this.getInsertTextForGuessedValue(n.examples[0],"",d)),f+=n.examples.length),n.properties)return`${a}
${this.getInsertTextForObject(n,r,i).insertText}`;if(n.items)return`${a}
${i}- ${this.getInsertTextForArray(n.items,r,1,i).insertText}`;if(f===0)switch(d){case"boolean":l=" $1";break;case"string":l=" $1";break;case"object":l=`
${i}`;break;case"array":l=`
${i}- `;break;case"number":case"integer":l=" ${1:0}";break;case"null":l=" ${1:null}";break;case"anyOf":l=" $1";break;default:return s}}return(!l||f>1)&&(l=" $1"),a+l+r}getInsertTextForObject(e,n,r=this.indentation,i=1){let s="";return e.properties?(Object.keys(e.properties).forEach(a=>{const l=e.properties[a];let f=Array.isArray(l.type)?l.type[0]:l.type;if(f||(l.anyOf&&(f="anyOf"),l.properties&&(f="object"),l.items&&(f="array")),e.required&&e.required.indexOf(a)>-1)switch(f){case"boolean":case"string":case"number":case"integer":case"anyOf":{let d=l.default||l.const;d?(f==="string"&&(d=bh(d)),s+=`${r}${a}: \${${i++}:${d}}
`):s+=`${r}${a}: $${i++}
`;break}case"array":{const d=this.getInsertTextForArray(l.items,n,i++,r),h=d.insertText.split(`
`);let g=d.insertText;if(h.length>1){for(let S=1;S<h.length;S++){const O=h[S];h[S]=`  ${O}`}g=h.join(`
`)}i=d.insertIndex,s+=`${r}${a}:
${r}${this.indentation}- ${g}
`}break;case"object":{const d=this.getInsertTextForObject(l,n,`${r}${this.indentation}`,i++);i=d.insertIndex,s+=`${r}${a}:
${d.insertText}
`}break}else if(!this.disableDefaultProperties&&l.default!==void 0)switch(f){case"boolean":case"number":case"integer":s+=`${r}${a==="null"?this.getInsertTextForValue(a,"","string"):a}: \${${i++}:${l.default}}
`;break;case"string":s+=`${r}${a}: \${${i++}:${bh(l.default)}}
`;break}}),s.trim().length===0&&(s=`${r}$${i++}
`),s=s.trimRight()+n,{insertText:s,insertIndex:i}):(s=`${r}$${i++}
`,{insertText:s,insertIndex:i})}getInsertTextForArray(e,n,r=1,i=this.indentation){let s="";if(!e)return s=`$${r++}`,{insertText:s,insertIndex:r};let a=Array.isArray(e.type)?e.type[0]:e.type;switch(a||(e.properties&&(a="object"),e.items&&(a="array")),e.type){case"boolean":s=`\${${r++}:false}`;break;case"number":case"integer":s=`\${${r++}:0}`;break;case"string":s=`\${${r++}}`;break;case"object":{const l=this.getInsertTextForObject(e,n,`${i}  `,r++);s=l.insertText.trimLeft(),r=l.insertIndex}break}return{insertText:s,insertIndex:r}}getInsertTextForGuessedValue(e,n,r){switch(typeof e){case"object":return e===null?"${1:null}"+n:this.getInsertTextForValue(e,n,r);case"string":{let i=JSON.stringify(e);return i=i.substr(1,i.length-2),i=this.getInsertTextForPlainText(i),r==="string"&&(i=bh(i)),"${1:"+i+"}"+n}case"number":case"boolean":return"${1:"+e+"}"+n}return this.getInsertTextForValue(e,n,r)}getInsertTextForPlainText(e){return e.replace(/[\\$}]/g,"\\$&")}getInsertTextForValue(e,n,r){if(e===null)return"null";switch(typeof e){case"object":{const i=this.indentation;return this.getInsertTemplateForValue(e,i,{index:1},n)}case"number":case"boolean":return this.getInsertTextForPlainText(e+n)}return r=Array.isArray(r)?r[0]:r,r==="string"&&(e=bh(e)),this.getInsertTextForPlainText(e+n)}getInsertTemplateForValue(e,n,r,i){if(Array.isArray(e)){let s=`
`;for(const a of e)s+=`${n}- \${${r.index++}:${a}}
`;return s}else if(typeof e=="object"){let s=`
`;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const l=e[a];s+=`${n}\${${r.index++}:${a}}:`;let f;typeof l=="object"?f=`${this.getInsertTemplateForValue(l,n+this.indentation,r,i)}`:f=` \${${r.index++}:${this.getInsertTextForPlainText(l+i)}}
`,s+=`${f}`}return s}return this.getInsertTextForPlainText(e+i)}addSchemaValueCompletions(e,n,r,i,s,a){typeof e=="object"&&(this.addEnumValueCompletions(e,n,r,a),this.addDefaultValueCompletions(e,n,r),this.collectTypes(e,i),a&&s==="value"&&!Rg(e)&&this.addArrayItemValueCompletion(e,n,r),Array.isArray(e.allOf)&&e.allOf.forEach(l=>this.addSchemaValueCompletions(l,n,r,i,s,a)),Array.isArray(e.anyOf)&&e.anyOf.forEach(l=>this.addSchemaValueCompletions(l,n,r,i,s,a)),Array.isArray(e.oneOf)&&e.oneOf.forEach(l=>this.addSchemaValueCompletions(l,n,r,i,s,a)))}collectTypes(e,n){if(Array.isArray(e.enum)||oa(e.const))return;const r=e.type;Array.isArray(r)?r.forEach(function(i){return n[i]=!0}):r&&(n[r]=!0)}addDefaultValueCompletions(e,n,r,i=0){let s=!1;if(oa(e.default)){let a=e.type,l=e.default;for(let d=i;d>0;d--)l=[l],a="array";let f;typeof l=="object"?f="Default value":f=l.toString().replace(OE,'"'),r.add({kind:this.getSuggestionKind(a),label:f,insertText:this.getInsertTextForValue(l,n,a),insertTextFormat:er.Snippet,detail:ox("json.suggest.default","Default value")}),s=!0}Array.isArray(e.examples)&&e.examples.forEach(a=>{let l=e.type,f=a;for(let d=i;d>0;d--)f=[f],l="array";r.add({kind:this.getSuggestionKind(l),label:this.getLabelForValue(f),insertText:this.getInsertTextForValue(f,n,l),insertTextFormat:er.Snippet}),s=!0}),this.collectDefaultSnippets(e,n,r,{newLineFirst:!0,indentFirstObject:!0,shouldIndentWithTab:!0}),!s&&typeof e.items=="object"&&!Array.isArray(e.items)&&this.addDefaultValueCompletions(e.items,n,r,i+1)}addEnumValueCompletions(e,n,r,i){if(oa(e.const)&&!i&&r.add({kind:this.getSuggestionKind(e.type),label:this.getLabelForValue(e.const),insertText:this.getInsertTextForValue(e.const,n,e.type),insertTextFormat:er.Snippet,documentation:this.fromMarkup(e.markdownDescription)||e.description}),Array.isArray(e.enum))for(let s=0,a=e.enum.length;s<a;s++){const l=e.enum[s];let f=this.fromMarkup(e.markdownDescription)||e.description;e.markdownEnumDescriptions&&s<e.markdownEnumDescriptions.length&&this.doesSupportMarkdown()?f=this.fromMarkup(e.markdownEnumDescriptions[s]):e.enumDescriptions&&s<e.enumDescriptions.length&&(f=e.enumDescriptions[s]),r.add({kind:this.getSuggestionKind(e.type),label:this.getLabelForValue(l),insertText:this.getInsertTextForValue(l,n,e.type),insertTextFormat:er.Snippet,documentation:f})}}getLabelForValue(e){return e===null?"null":Array.isArray(e)?JSON.stringify(e):""+e}collectDefaultSnippets(e,n,r,i,s=0){if(Array.isArray(e.defaultSnippets))for(const a of e.defaultSnippets){let l=e.type,f=a.body,d=a.label,h,g;if(oa(f)){const S=a.type||e.type;if(s===0&&S==="array"){const I={};Object.keys(f).forEach((P,C)=>{C===0&&!P.startsWith("-")?I[`- ${P}`]=f[P]:I[`  ${P}`]=f[P]}),f=I}const O=Object.keys(r.proposed).filter(I=>r.proposed[I].label===vh);if(h=this.getInsertTextForSnippetValue(f,n,i,O),h===""&&f)continue;d=d||this.getLabelForSnippetValue(f)}else if(typeof a.bodyText=="string"){let S="",O="",I="";for(let P=s;P>0;P--)S=S+I+`[
`,O=O+`
`+I+"]",I+=this.indentation,l="array";h=S+I+a.bodyText.split(`
`).join(`
`+I)+O+n,d=d||h,g=h.replace(/[\n]/g,"")}r.add({kind:a.suggestionKind||this.getSuggestionKind(l),label:d,sortText:a.sortText||a.label,documentation:this.fromMarkup(a.markdownDescription)||a.description,insertText:h,insertTextFormat:er.Snippet,filterText:g})}}getInsertTextForSnippetValue(e,n,r,i,s){return yh(e,"",l=>{if(typeof l=="string"){if(l[0]==="^")return l.substr(1);if(l==="true"||l==="false")return`"${l}"`}return l},{...r,indentation:this.indentation,existingProps:i},s)+n}addBooleanValueCompletion(e,n,r){r.add({kind:this.getSuggestionKind("boolean"),label:e?"true":"false",insertText:this.getInsertTextForValue(e,n,"boolean"),insertTextFormat:er.Snippet,documentation:""})}addNullValueCompletion(e,n){n.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+e,insertTextFormat:er.Snippet,documentation:""})}getLabelForSnippetValue(e){return JSON.stringify(e).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")}getCustomTagValueCompletions(e){Mw(this.customTags).forEach(r=>{const i=r.split(" ")[0];this.addCustomTagValueCompletion(e," ",i)})}addCustomTagValueCompletion(e,n,r){e.add({kind:this.getSuggestionKind("string"),label:r,insertText:r+n,insertTextFormat:er.Snippet,documentation:""})}getDocumentationWithMarkdownText(e,n){let r=e;return this.doesSupportMarkdown()&&(n=n.replace(/\${[0-9]+[:|](.*)}/g,(i,s)=>s).replace(/\$([0-9]+)/g,""),r=this.fromMarkup(`${e}
 \`\`\`
${n}
\`\`\``)),r}getSuggestionKind(e){if(Array.isArray(e)){const n=e;e=n.length>0?n[0]:null}if(!e)return Ar.Value;switch(e){case"string":return Ar.Value;case"object":return Ar.Module;case"property":return Ar.Property;default:return Ar.Value}}getCurrentWord(e,n){let r=n-1;const i=e.getText();for(;r>=0&&` 	
\r\v":{[,]}`.indexOf(i.charAt(r))===-1;)r--;return i.substring(r+1,n)}fromMarkup(e){if(e&&this.doesSupportMarkdown())return{kind:Vi.Markdown,value:e}}doesSupportMarkdown(){if(this.supportsMarkdown===void 0){const e=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsMarkdown=e&&e.completionItem&&Array.isArray(e.completionItem.documentationFormat)&&e.completionItem.documentationFormat.indexOf(Vi.Markdown)!==-1}return this.supportsMarkdown}findItemAtOffset(e,n,r){for(let i=e.items.length-1;i>=0;i--){const s=e.items[i];if(an(s)&&s.range){if(r>s.range[1])return i;if(r>=s.range[0])return i}}return 0}}const ux=/^\d+$/;function bh(t){let e;if(typeof t=="string"?e=t:e=""+t,e.length===0)return e;if(e==="true"||e==="false"||e==="null"||ux.test(e))return`"${e}"`;e.indexOf('"')!==-1&&(e=e.replace(OE,'"'));let n=!isNaN(parseInt(e))||e.charAt(0)==="@";if(!n){let r=e.indexOf(":",0);for(;r>0&&r<e.length;r=e.indexOf(":",r+1)){if(r===e.length-1){n=!0;break}const i=e.charAt(r+1);if(i==="	"||i===" "){n=!0;break}}}return n&&(e=`"${e}"`),e}function cx(t){return t.replace(/\$\{1:(.*)\}/,"$1")}function lx(t){return"parent"in t}var Rr={},C0={},Ns={};Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.SemanticTokensBuilder=Ns.SemanticTokensDiff=Ns.SemanticTokensFeature=void 0;const Dh=Mn,fx=t=>class extends t{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(Dh.SemanticTokensRefreshRequest.type),on:e=>{const n=Dh.SemanticTokensRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{const n=Dh.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{const n=Dh.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Ns.SemanticTokensFeature=fx;class NE{constructor(e,n){this.originalSequence=e,this.modifiedSequence=n}computeDiff(){const e=this.originalSequence.length,n=this.modifiedSequence.length;let r=0;for(;r<n&&r<e&&this.originalSequence[r]===this.modifiedSequence[r];)r++;if(r<n&&r<e){let i=e-1,s=n-1;for(;i>=r&&s>=r&&this.originalSequence[i]===this.modifiedSequence[s];)i--,s--;(i<r||s<r)&&(i++,s++);const a=i-r+1,l=this.modifiedSequence.slice(r,s+1);return l.length===1&&l[0]===this.originalSequence[i]?[{start:r,deleteCount:a-1}]:[{start:r,deleteCount:a,data:l}]}else return r<n?[{start:r,deleteCount:0,data:this.modifiedSequence.slice(r)}]:r<e?[{start:r,deleteCount:e-r}]:[]}}Ns.SemanticTokensDiff=NE;class dx{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,s){let a=e,l=n;this._dataLen>0&&(a-=this._prevLine,a===0&&(l-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=l,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new NE(this._prevData,this._data).computeDiff()}:this.build()}}Ns.SemanticTokensBuilder=dx;var wh={};Object.defineProperty(wh,"__esModule",{value:!0}),wh.InlineCompletionFeature=void 0;const hx=Mn,px=t=>class extends t{get inlineCompletion(){return{on:e=>this.connection.onRequest(hx.InlineCompletionRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n)))}}};wh.InlineCompletionFeature=px;var bl={};Object.defineProperty(bl,"__esModule",{value:!0}),bl.TextDocuments=void 0;const _a=Mn;class mx{constructor(e){this._configuration=e,this._syncedDocuments=new Map,this._onDidChangeContent=new _a.Emitter,this._onDidOpen=new _a.Emitter,this._onDidClose=new _a.Emitter,this._onDidSave=new _a.Emitter,this._onWillSave=new _a.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._syncedDocuments.get(e)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(e){e.__textDocumentSync=_a.TextDocumentSyncKind.Incremental;const n=[];return n.push(e.onDidOpenTextDocument(r=>{const i=r.textDocument,s=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,s);const a=Object.freeze({document:s});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)})),n.push(e.onDidChangeTextDocument(r=>{const i=r.textDocument,s=r.contentChanges;if(s.length===0)return;const{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=this._syncedDocuments.get(i.uri);l!==void 0&&(l=this._configuration.update(l,s,a),this._syncedDocuments.set(i.uri,l),this._onDidChangeContent.fire(Object.freeze({document:l})))})),n.push(e.onDidCloseTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(r.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),n.push(e.onWillSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:r.reason}))})),n.push(e.onWillSaveTextDocumentWaitUntil((r,i)=>{let s=this._syncedDocuments.get(r.textDocument.uri);return s!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:s,reason:r.reason}),i):[]})),n.push(e.onDidSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),_a.Disposable.create(()=>{n.forEach(r=>r.dispose())})}}bl.TextDocuments=mx;var $a={};Object.defineProperty($a,"__esModule",{value:!0}),$a.NotebookDocuments=$a.NotebookSyncFeature=void 0;const gi=Mn,FE=bl,gx=t=>class extends t{get synchronization(){return{onDidOpenNotebookDocument:e=>this.connection.onNotification(gi.DidOpenNotebookDocumentNotification.type,n=>{e(n)}),onDidChangeNotebookDocument:e=>this.connection.onNotification(gi.DidChangeNotebookDocumentNotification.type,n=>{e(n)}),onDidSaveNotebookDocument:e=>this.connection.onNotification(gi.DidSaveNotebookDocumentNotification.type,n=>{e(n)}),onDidCloseNotebookDocument:e=>this.connection.onNotification(gi.DidCloseNotebookDocumentNotification.type,n=>{e(n)})}}};$a.NotebookSyncFeature=gx;class xu{onDidOpenTextDocument(e){return this.openHandler=e,gi.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(e){this.openHandler&&this.openHandler(e)}onDidChangeTextDocument(e){return this.changeHandler=e,gi.Disposable.create(()=>{this.changeHandler=e})}changeTextDocument(e){this.changeHandler&&this.changeHandler(e)}onDidCloseTextDocument(e){return this.closeHandler=e,gi.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(e){this.closeHandler&&this.closeHandler(e)}onWillSaveTextDocument(){return xu.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return xu.NULL_DISPOSE}onDidSaveTextDocument(){return xu.NULL_DISPOSE}}xu.NULL_DISPOSE=Object.freeze({dispose:()=>{}});class yx{constructor(e){e instanceof FE.TextDocuments?this._cellTextDocuments=e:this._cellTextDocuments=new FE.TextDocuments(e),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new gi.Emitter,this._onDidChange=new gi.Emitter,this._onDidSave=new gi.Emitter,this._onDidClose=new gi.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(e){return this._cellTextDocuments.get(e.document)}getNotebookDocument(e){return this.notebookDocuments.get(e)}getNotebookCell(e){const n=this.notebookCellMap.get(e);return n&&n[0]}findNotebookDocumentForCell(e){const n=typeof e=="string"?e:e.document,r=this.notebookCellMap.get(n);return r&&r[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(e){const n=new xu,r=[];return r.push(this.cellTextDocuments.listen(n)),r.push(e.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(const s of i.cellTextDocuments)n.openTextDocument({textDocument:s});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),r.push(e.notebooks.synchronization.onDidChangeNotebookDocument(i=>{const s=this.notebookDocuments.get(i.notebookDocument.uri);if(s===void 0)return;s.version=i.notebookDocument.version;const a=s.metadata;let l=!1;const f=i.change;f.metadata!==void 0&&(l=!0,s.metadata=f.metadata);const d=[],h=[],g=[],S=[];if(f.cells!==void 0){const R=f.cells;if(R.structure!==void 0){const T=R.structure.array;if(s.cells.splice(T.start,T.deleteCount,...T.cells!==void 0?T.cells:[]),R.structure.didOpen!==void 0)for(const v of R.structure.didOpen)n.openTextDocument({textDocument:v}),d.push(v.uri);if(R.structure.didClose)for(const v of R.structure.didClose)n.closeTextDocument({textDocument:v}),h.push(v.uri)}if(R.data!==void 0){const T=new Map(R.data.map(v=>[v.document,v]));for(let v=0;v<=s.cells.length;v++){const D=T.get(s.cells[v].document);if(D!==void 0){const b=s.cells.splice(v,1,D);if(g.push({old:b[0],new:D}),T.delete(D.document),T.size===0)break}}}if(R.textContent!==void 0)for(const T of R.textContent)n.changeTextDocument({textDocument:T.document,contentChanges:T.changes}),S.push(T.document.uri)}this.updateCellMap(s);const O={notebookDocument:s};l&&(O.metadata={old:a,new:s.metadata});const I=[];for(const R of d)I.push(this.getNotebookCell(R));const P=[];for(const R of h)P.push(this.getNotebookCell(R));const C=[];for(const R of S)C.push(this.getNotebookCell(R));(I.length>0||P.length>0||g.length>0||C.length>0)&&(O.cells={added:I,removed:P,changed:{data:g,textContent:C}}),(O.metadata!==void 0||O.cells!==void 0)&&this._onDidChange.fire(O)})),r.push(e.notebooks.synchronization.onDidSaveNotebookDocument(i=>{const s=this.notebookDocuments.get(i.notebookDocument.uri);s!==void 0&&this._onDidSave.fire(s)})),r.push(e.notebooks.synchronization.onDidCloseNotebookDocument(i=>{const s=this.notebookDocuments.get(i.notebookDocument.uri);if(s!==void 0){this._onDidClose.fire(s);for(const a of i.cellTextDocuments)n.closeTextDocument({textDocument:a});this.notebookDocuments.delete(i.notebookDocument.uri);for(const a of s.cells)this.notebookCellMap.delete(a.document)}})),gi.Disposable.create(()=>{r.forEach(i=>i.dispose())})}updateCellMap(e){for(const n of e.cells)this.notebookCellMap.set(n.document,[n,e])}}$a.NotebookDocuments=yx;var zt={},Wn={};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.thenable=Wn.typedArray=Wn.stringArray=Wn.array=Wn.func=Wn.error=Wn.number=Wn.string=Wn.boolean=void 0;function vx(t){return t===!0||t===!1}Wn.boolean=vx;function RE(t){return typeof t=="string"||t instanceof String}Wn.string=RE;function bx(t){return typeof t=="number"||t instanceof Number}Wn.number=bx;function Dx(t){return t instanceof Error}Wn.error=Dx;function IE(t){return typeof t=="function"}Wn.func=IE;function ME(t){return Array.isArray(t)}Wn.array=ME;function wx(t){return ME(t)&&t.every(e=>RE(e))}Wn.stringArray=wx;function _x(t,e){return Array.isArray(t)&&t.every(e)}Wn.typedArray=_x;function $x(t){return t&&IE(t.then)}Wn.thenable=$x;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.generateUuid=Kr.parse=Kr.isUUID=Kr.v4=Kr.empty=void 0;class O0{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class Rt extends O0{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return Rt._oneOf(Rt._chars)}constructor(){super([Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),"-",Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),"-","4",Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),"-",Rt._oneOf(Rt._timeHighBits),Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),"-",Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),Rt._randomHex(),Rt._randomHex()].join(""))}}Rt._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],Rt._timeHighBits=["8","9","a","b"],Kr.empty=new O0("00000000-0000-0000-0000-000000000000");function LE(){return new Rt}Kr.v4=LE;const Ex=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function jE(t){return Ex.test(t)}Kr.isUUID=jE;function Sx(t){if(!jE(t))throw new Error("invalid uuid");return new O0(t)}Kr.parse=Sx;function Tx(){return LE().asHex()}Kr.generateUuid=Tx;var So={};Object.defineProperty(So,"__esModule",{value:!0}),So.attachPartialResult=So.ProgressFeature=So.attachWorkDone=void 0;const To=Mn,kx=Kr;class ko{constructor(e,n){this._connection=e,this._token=n,ko.Instances.set(this._token,this)}begin(e,n,r,i){let s={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(To.WorkDoneProgress.type,this._token,s)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(To.WorkDoneProgress.type,this._token,r)}done(){ko.Instances.delete(this._token),this._connection.sendProgress(To.WorkDoneProgress.type,this._token,{kind:"end"})}}ko.Instances=new Map;class xE extends ko{constructor(e,n){super(e,n),this._source=new To.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class P0{constructor(){}begin(){}report(){}done(){}}class BE extends P0{constructor(){super(),this._source=new To.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}function Ax(t,e){if(e===void 0||e.workDoneToken===void 0)return new P0;const n=e.workDoneToken;return delete e.workDoneToken,new ko(t,n)}So.attachWorkDone=Ax;const Cx=t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(e){var n;super.initialize(e),((n=e==null?void 0:e.window)==null?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(To.WorkDoneProgressCancelNotification.type,r=>{let i=ko.Instances.get(r.token);(i instanceof xE||i instanceof BE)&&i.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new P0:new ko(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){const e=(0,kx.generateUuid)();return this.connection.sendRequest(To.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new xE(this.connection,e))}else return Promise.resolve(new BE)}};So.ProgressFeature=Cx;var N0;(function(t){t.type=new To.ProgressType})(N0||(N0={}));class Ox{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(N0.type,this._token,e)}}function Px(t,e){if(e===void 0||e.partialResultToken===void 0)return;const n=e.partialResultToken;return delete e.partialResultToken,new Ox(t,n)}So.attachPartialResult=Px;var _h={};Object.defineProperty(_h,"__esModule",{value:!0}),_h.ConfigurationFeature=void 0;const Nx=Mn,Fx=Wn,Rx=t=>class extends t{getConfiguration(e){return e?Fx.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(Nx.ConfigurationRequest.type,n).then(r=>Array.isArray(r)?Array.isArray(e)?r:r[0]:Array.isArray(e)?[]:null)}};_h.ConfigurationFeature=Rx;var $h={};Object.defineProperty($h,"__esModule",{value:!0}),$h.WorkspaceFoldersFeature=void 0;const Eh=Mn,Ix=t=>class extends t{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(e){super.initialize(e);let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Eh.Emitter,this.connection.onNotification(Eh.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}fillServerCapabilities(e){var r,i;super.fillServerCapabilities(e);const n=(i=(r=e.workspace)==null?void 0:r.workspaceFolders)==null?void 0:i.changeNotifications;this._notificationIsAutoRegistered=n===!0||typeof n=="string"}getWorkspaceFolders(){return this.connection.sendRequest(Eh.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(Eh.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};$h.WorkspaceFoldersFeature=Ix;var Sh={};Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.CallHierarchyFeature=void 0;const F0=Mn,Mx=t=>class extends t{get callHierarchy(){return{onPrepare:e=>this.connection.onRequest(F0.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0)),onIncomingCalls:e=>{const n=F0.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{const n=F0.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Sh.CallHierarchyFeature=Mx;var Th={};Object.defineProperty(Th,"__esModule",{value:!0}),Th.ShowDocumentFeature=void 0;const Lx=Mn,jx=t=>class extends t{showDocument(e){return this.connection.sendRequest(Lx.ShowDocumentRequest.type,e)}};Th.ShowDocumentFeature=jx;var kh={};Object.defineProperty(kh,"__esModule",{value:!0}),kh.FileOperationsFeature=void 0;const Bu=Mn,xx=t=>class extends t{onDidCreateFiles(e){return this.connection.onNotification(Bu.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){return this.connection.onNotification(Bu.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){return this.connection.onNotification(Bu.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(Bu.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(Bu.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(Bu.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};kh.FileOperationsFeature=xx;var Ah={};Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.LinkedEditingRangeFeature=void 0;const Bx=Mn,qx=t=>class extends t{onLinkedEditingRange(e){return this.connection.onRequest(Bx.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};Ah.LinkedEditingRangeFeature=qx;var Ch={};Object.defineProperty(Ch,"__esModule",{value:!0}),Ch.TypeHierarchyFeature=void 0;const R0=Mn,Wx=t=>class extends t{get typeHierarchy(){return{onPrepare:e=>this.connection.onRequest(R0.TypeHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0)),onSupertypes:e=>{const n=R0.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onSubtypes:e=>{const n=R0.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Ch.TypeHierarchyFeature=Wx;var Oh={};Object.defineProperty(Oh,"__esModule",{value:!0}),Oh.InlineValueFeature=void 0;const qE=Mn,Ux=t=>class extends t{get inlineValue(){return{refresh:()=>this.connection.sendRequest(qE.InlineValueRefreshRequest.type),on:e=>this.connection.onRequest(qE.InlineValueRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n)))}}};Oh.InlineValueFeature=Ux;var Ph={};Object.defineProperty(Ph,"__esModule",{value:!0}),Ph.FoldingRangeFeature=void 0;const WE=Mn,Vx=t=>class extends t{get foldingRange(){return{refresh:()=>this.connection.sendRequest(WE.FoldingRangeRefreshRequest.type),on:e=>{const n=WE.FoldingRangeRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Ph.FoldingRangeFeature=Vx;var Nh={};Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.InlayHintFeature=void 0;const I0=Mn,Hx=t=>class extends t{get inlayHint(){return{refresh:()=>this.connection.sendRequest(I0.InlayHintRefreshRequest.type),on:e=>this.connection.onRequest(I0.InlayHintRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n))),resolve:e=>this.connection.onRequest(I0.InlayHintResolveRequest.type,(n,r)=>e(n,r))}}};Nh.InlayHintFeature=Hx;var Fh={};Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.DiagnosticFeature=void 0;const Dl=Mn,Kx=t=>class extends t{get diagnostics(){return{refresh:()=>this.connection.sendRequest(Dl.DiagnosticRefreshRequest.type),on:e=>this.connection.onRequest(Dl.DocumentDiagnosticRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Dl.DocumentDiagnosticRequest.partialResult,n))),onWorkspace:e=>this.connection.onRequest(Dl.WorkspaceDiagnosticRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Dl.WorkspaceDiagnosticRequest.partialResult,n)))}}};Fh.DiagnosticFeature=Kx;var Rh={};Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.MonikerFeature=void 0;const zx=Mn,Yx=t=>class extends t{get moniker(){return{on:e=>{const n=zx.MonikerRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Rh.MonikerFeature=Yx,Object.defineProperty(zt,"__esModule",{value:!0}),zt.createConnection=zt.combineFeatures=zt.combineNotebooksFeatures=zt.combineLanguagesFeatures=zt.combineWorkspaceFeatures=zt.combineWindowFeatures=zt.combineClientFeatures=zt.combineTracerFeatures=zt.combineTelemetryFeatures=zt.combineConsoleFeatures=zt._NotebooksImpl=zt._LanguagesImpl=zt.BulkUnregistration=zt.BulkRegistration=zt.ErrorMessageTracker=void 0;const Be=Mn,yi=Wn,M0=Kr,wt=So,Gx=_h,Jx=$h,Qx=Sh,Xx=Ns,Zx=Th,eB=kh,tB=Ah,nB=Ch,rB=Oh,iB=Ph,sB=Nh,oB=Fh,aB=$a,uB=Rh;function L0(t){if(t!==null)return t}class cB{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}}zt.ErrorMessageTracker=cB;class UE{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(Be.MessageType.Error,e)}warn(e){this.send(Be.MessageType.Warning,e)}info(e){this.send(Be.MessageType.Info,e)}log(e){this.send(Be.MessageType.Log,e)}debug(e){this.send(Be.MessageType.Debug,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(Be.LogMessageNotification.type,{type:e,message:n}).catch(()=>{(0,Be.RAL)().console.error("Sending log message failed")})}}class lB{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:Be.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(Be.ShowMessageRequest.type,r).then(L0)}showWarningMessage(e,...n){let r={type:Be.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(Be.ShowMessageRequest.type,r).then(L0)}showInformationMessage(e,...n){let r={type:Be.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(Be.ShowMessageRequest.type,r).then(L0)}}const VE=(0,Zx.ShowDocumentFeature)((0,wt.ProgressFeature)(lB));var HE;(function(t){function e(){return new KE}t.create=e})(HE||(zt.BulkRegistration=HE={}));class KE{constructor(){this._registrations=[],this._registered=new Set}add(e,n){const r=yi.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);const i=M0.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}}var zE;(function(t){function e(){return new j0(void 0,[])}t.create=e})(zE||(zt.BulkUnregistration=zE={}));class j0{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(Be.UnregistrationRequest.type,n).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){const n=yi.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(Be.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}}class YE{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof KE?this.registerMany(e):e instanceof j0?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){const i=yi.string(n)?n:n.method,s=M0.generateUuid();let a={registrations:[{id:s,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(Be.RegistrationRequest.type,a).then(l=>(e.add({id:s,method:i}),e),l=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(l)))}registerSingle2(e,n){const r=yi.string(e)?e:e.method,i=M0.generateUuid();let s={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(Be.RegistrationRequest.type,s).then(a=>Be.Disposable.create(()=>{this.unregisterSingle(i,r).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),a=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(a)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(Be.UnregistrationRequest.type,r).catch(()=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(Be.RegistrationRequest.type,n).then(()=>new j0(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}}class fB{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(Be.ApplyWorkspaceEditRequest.type,r)}}const GE=(0,eB.FileOperationsFeature)((0,Jx.WorkspaceFoldersFeature)((0,Gx.ConfigurationFeature)(fB)));class JE{constructor(){this._trace=Be.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==Be.Trace.Off&&this.connection.sendNotification(Be.LogTraceNotification.type,{message:e,verbose:this._trace===Be.Trace.Verbose?n:void 0}).catch(()=>{})}}class QE{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(Be.TelemetryEventNotification.type,e).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class XE{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,wt.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,n){return(0,wt.attachPartialResult)(this.connection,n)}}zt._LanguagesImpl=XE;const ZE=(0,iB.FoldingRangeFeature)((0,uB.MonikerFeature)((0,oB.DiagnosticFeature)((0,sB.InlayHintFeature)((0,rB.InlineValueFeature)((0,nB.TypeHierarchyFeature)((0,tB.LinkedEditingRangeFeature)((0,Xx.SemanticTokensFeature)((0,Qx.CallHierarchyFeature)(XE)))))))));class eS{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,wt.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,n){return(0,wt.attachPartialResult)(this.connection,n)}}zt._NotebooksImpl=eS;const tS=(0,aB.NotebookSyncFeature)(eS);function nS(t,e){return function(n){return e(t(n))}}zt.combineConsoleFeatures=nS;function rS(t,e){return function(n){return e(t(n))}}zt.combineTelemetryFeatures=rS;function iS(t,e){return function(n){return e(t(n))}}zt.combineTracerFeatures=iS;function sS(t,e){return function(n){return e(t(n))}}zt.combineClientFeatures=sS;function oS(t,e){return function(n){return e(t(n))}}zt.combineWindowFeatures=oS;function aS(t,e){return function(n){return e(t(n))}}zt.combineWorkspaceFeatures=aS;function uS(t,e){return function(n){return e(t(n))}}zt.combineLanguagesFeatures=uS;function cS(t,e){return function(n){return e(t(n))}}zt.combineNotebooksFeatures=cS;function dB(t,e){function n(i,s,a){return i&&s?a(i,s):i||s}return{__brand:"features",console:n(t.console,e.console,nS),tracer:n(t.tracer,e.tracer,iS),telemetry:n(t.telemetry,e.telemetry,rS),client:n(t.client,e.client,sS),window:n(t.window,e.window,oS),workspace:n(t.workspace,e.workspace,aS),languages:n(t.languages,e.languages,uS),notebooks:n(t.notebooks,e.notebooks,cS)}}zt.combineFeatures=dB;function hB(t,e,n){const r=n&&n.console?new(n.console(UE)):new UE,i=t(r);r.rawAttach(i);const s=n&&n.tracer?new(n.tracer(JE)):new JE,a=n&&n.telemetry?new(n.telemetry(QE)):new QE,l=n&&n.client?new(n.client(YE)):new YE,f=n&&n.window?new(n.window(VE)):new VE,d=n&&n.workspace?new(n.workspace(GE)):new GE,h=n&&n.languages?new(n.languages(ZE)):new ZE,g=n&&n.notebooks?new(n.notebooks(tS)):new tS,S=[r,s,a,l,f,d,h,g];function O(T){return T instanceof Promise?T:yi.thenable(T)?new Promise((v,D)=>{T.then(b=>v(b),b=>D(b))}):Promise.resolve(T)}let I,P,C,R={listen:()=>i.listen(),sendRequest:(T,...v)=>i.sendRequest(yi.string(T)?T:T.method,...v),onRequest:(T,v)=>i.onRequest(T,v),sendNotification:(T,v)=>{const D=yi.string(T)?T:T.method;return i.sendNotification(D,v)},onNotification:(T,v)=>i.onNotification(T,v),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:T=>(P=T,{dispose:()=>{P=void 0}}),onInitialized:T=>i.onNotification(Be.InitializedNotification.type,T),onShutdown:T=>(I=T,{dispose:()=>{I=void 0}}),onExit:T=>(C=T,{dispose:()=>{C=void 0}}),get console(){return r},get telemetry(){return a},get tracer(){return s},get client(){return l},get window(){return f},get workspace(){return d},get languages(){return h},get notebooks(){return g},onDidChangeConfiguration:T=>i.onNotification(Be.DidChangeConfigurationNotification.type,T),onDidChangeWatchedFiles:T=>i.onNotification(Be.DidChangeWatchedFilesNotification.type,T),__textDocumentSync:void 0,onDidOpenTextDocument:T=>i.onNotification(Be.DidOpenTextDocumentNotification.type,T),onDidChangeTextDocument:T=>i.onNotification(Be.DidChangeTextDocumentNotification.type,T),onDidCloseTextDocument:T=>i.onNotification(Be.DidCloseTextDocumentNotification.type,T),onWillSaveTextDocument:T=>i.onNotification(Be.WillSaveTextDocumentNotification.type,T),onWillSaveTextDocumentWaitUntil:T=>i.onRequest(Be.WillSaveTextDocumentWaitUntilRequest.type,T),onDidSaveTextDocument:T=>i.onNotification(Be.DidSaveTextDocumentNotification.type,T),sendDiagnostics:T=>i.sendNotification(Be.PublishDiagnosticsNotification.type,T),onHover:T=>i.onRequest(Be.HoverRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),void 0)),onCompletion:T=>i.onRequest(Be.CompletionRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),(0,wt.attachPartialResult)(i,v))),onCompletionResolve:T=>i.onRequest(Be.CompletionResolveRequest.type,T),onSignatureHelp:T=>i.onRequest(Be.SignatureHelpRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),void 0)),onDeclaration:T=>i.onRequest(Be.DeclarationRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),(0,wt.attachPartialResult)(i,v))),onDefinition:T=>i.onRequest(Be.DefinitionRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),(0,wt.attachPartialResult)(i,v))),onTypeDefinition:T=>i.onRequest(Be.TypeDefinitionRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),(0,wt.attachPartialResult)(i,v))),onImplementation:T=>i.onRequest(Be.ImplementationRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),(0,wt.attachPartialResult)(i,v))),onReferences:T=>i.onRequest(Be.ReferencesRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),(0,wt.attachPartialResult)(i,v))),onDocumentHighlight:T=>i.onRequest(Be.DocumentHighlightRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),(0,wt.attachPartialResult)(i,v))),onDocumentSymbol:T=>i.onRequest(Be.DocumentSymbolRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),(0,wt.attachPartialResult)(i,v))),onWorkspaceSymbol:T=>i.onRequest(Be.WorkspaceSymbolRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),(0,wt.attachPartialResult)(i,v))),onWorkspaceSymbolResolve:T=>i.onRequest(Be.WorkspaceSymbolResolveRequest.type,T),onCodeAction:T=>i.onRequest(Be.CodeActionRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),(0,wt.attachPartialResult)(i,v))),onCodeActionResolve:T=>i.onRequest(Be.CodeActionResolveRequest.type,(v,D)=>T(v,D)),onCodeLens:T=>i.onRequest(Be.CodeLensRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),(0,wt.attachPartialResult)(i,v))),onCodeLensResolve:T=>i.onRequest(Be.CodeLensResolveRequest.type,(v,D)=>T(v,D)),onDocumentFormatting:T=>i.onRequest(Be.DocumentFormattingRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),void 0)),onDocumentRangeFormatting:T=>i.onRequest(Be.DocumentRangeFormattingRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),void 0)),onDocumentOnTypeFormatting:T=>i.onRequest(Be.DocumentOnTypeFormattingRequest.type,(v,D)=>T(v,D)),onRenameRequest:T=>i.onRequest(Be.RenameRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),void 0)),onPrepareRename:T=>i.onRequest(Be.PrepareRenameRequest.type,(v,D)=>T(v,D)),onDocumentLinks:T=>i.onRequest(Be.DocumentLinkRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),(0,wt.attachPartialResult)(i,v))),onDocumentLinkResolve:T=>i.onRequest(Be.DocumentLinkResolveRequest.type,(v,D)=>T(v,D)),onDocumentColor:T=>i.onRequest(Be.DocumentColorRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),(0,wt.attachPartialResult)(i,v))),onColorPresentation:T=>i.onRequest(Be.ColorPresentationRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),(0,wt.attachPartialResult)(i,v))),onFoldingRanges:T=>i.onRequest(Be.FoldingRangeRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),(0,wt.attachPartialResult)(i,v))),onSelectionRanges:T=>i.onRequest(Be.SelectionRangeRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),(0,wt.attachPartialResult)(i,v))),onExecuteCommand:T=>i.onRequest(Be.ExecuteCommandRequest.type,(v,D)=>T(v,D,(0,wt.attachWorkDone)(i,v),void 0)),dispose:()=>i.dispose()};for(let T of S)T.attach(R);return i.onRequest(Be.InitializeRequest.type,T=>{e.initialize(T),yi.string(T.trace)&&(s.trace=Be.Trace.fromString(T.trace));for(let v of S)v.initialize(T.capabilities);if(P){let v=P(T,new Be.CancellationTokenSource().token,(0,wt.attachWorkDone)(i,T),void 0);return O(v).then(D=>{if(D instanceof Be.ResponseError)return D;let b=D;b||(b={capabilities:{}});let _=b.capabilities;_||(_={},b.capabilities=_),_.textDocumentSync===void 0||_.textDocumentSync===null?_.textDocumentSync=yi.number(R.__textDocumentSync)?R.__textDocumentSync:Be.TextDocumentSyncKind.None:!yi.number(_.textDocumentSync)&&!yi.number(_.textDocumentSync.change)&&(_.textDocumentSync.change=yi.number(R.__textDocumentSync)?R.__textDocumentSync:Be.TextDocumentSyncKind.None);for(let $ of S)$.fillServerCapabilities(_);return b})}else{let v={capabilities:{textDocumentSync:Be.TextDocumentSyncKind.None}};for(let D of S)D.fillServerCapabilities(v.capabilities);return v}}),i.onRequest(Be.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,I)return I(new Be.CancellationTokenSource().token)}),i.onNotification(Be.ExitNotification.type,()=>{try{C&&C()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(Be.SetTraceNotification.type,T=>{s.trace=Be.Trace.fromString(T.value)}),R}zt.createConnection=hB,function(t){var e=Wt&&Wt.__createBinding||(Object.create?function(f,d,h,g){g===void 0&&(g=h);var S=Object.getOwnPropertyDescriptor(d,h);(!S||("get"in S?!d.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return d[h]}}),Object.defineProperty(f,g,S)}:function(f,d,h,g){g===void 0&&(g=h),f[g]=d[h]}),n=Wt&&Wt.__exportStar||function(f,d){for(var h in f)h!=="default"&&!Object.prototype.hasOwnProperty.call(d,h)&&e(d,f,h)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.NotebookDocuments=t.TextDocuments=t.SemanticTokensBuilder=void 0;const r=Ns;Object.defineProperty(t,"SemanticTokensBuilder",{enumerable:!0,get:function(){return r.SemanticTokensBuilder}});const i=wh;n(Mn,t);const s=bl;Object.defineProperty(t,"TextDocuments",{enumerable:!0,get:function(){return s.TextDocuments}});const a=$a;Object.defineProperty(t,"NotebookDocuments",{enumerable:!0,get:function(){return a.NotebookDocuments}}),n(zt,t);var l;(function(f){f.all={__brand:"features",languages:i.InlineCompletionFeature}})(l||(t.ProposedFeatures=l={}))}(C0),function(t){var e=Wt&&Wt.__createBinding||(Object.create?function(l,f,d,h){h===void 0&&(h=d);var g=Object.getOwnPropertyDescriptor(f,d);(!g||("get"in g?!f.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(l,h,g)}:function(l,f,d,h){h===void 0&&(h=d),l[h]=f[d]}),n=Wt&&Wt.__exportStar||function(l,f){for(var d in l)d!=="default"&&!Object.prototype.hasOwnProperty.call(f,d)&&e(f,l,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.createConnection=void 0;const r=C0;n(ii.exports,t),n(C0,t);let i=!1;const s={initialize:l=>{},get shutdownReceived(){return i},set shutdownReceived(l){i=l},exit:l=>{}};function a(l,f,d,h){let g,S,O,I;l!==void 0&&l.__brand==="features"&&(g=l,l=f,f=d,d=h),r.ConnectionStrategy.is(l)||r.ConnectionOptions.is(l)?I=l:(S=l,O=f,I=d);const P=C=>(0,r.createProtocolConnection)(S,O,C,I);return(0,r.createConnection)(P,s,g)}t.createConnection=a}(Rr);var lS;(function(t){t.type=new Rr.NotificationType("json/schemaAssociations")})(lS||(lS={}));var fS;(function(t){t.type=new Rr.NotificationType("yaml/registerCustomSchemaRequest")})(fS||(fS={}));var dS;(function(t){t.type=new Rr.NotificationType("yaml/registerContentRequest")})(dS||(dS={}));var hS;(function(t){t.type=new Rr.NotificationType("yaml/resultLimitReached")})(hS||(hS={}));var pS;(function(t){t.type=new Rr.RequestType("vscode/content")})(pS||(pS={}));var mS;(function(t){t.type=new Rr.RequestType("custom/schema/content")})(mS||(mS={}));var gS;(function(t){t.type=new Rr.RequestType("custom/schema/request")})(gS||(gS={}));var yS;(function(t){t.type=new Rr.RequestType("json/colorSymbols")})(yS||(yS={}));var vS;(function(t){t.type=new Rr.RequestType("json/schema/modify")})(vS||(vS={}));var Ih;(function(t){t.type=new Rr.NotificationType("yaml/supportSchemaSelection"),t.getSchema=new Rr.RequestType("yaml/get/jsonSchema"),t.getAllSchemas=new Rr.RequestType("yaml/get/all/jsonSchemas"),t.schemaStoreInitialized=new Rr.NotificationType("yaml/schema/store/initialized")})(Ih||(Ih={}));class pB{constructor(e,n,r){var i,s;this.schemaService=e,this.yamlSettings=n,this.connection=r,(i=this.connection)==null||i.onRequest(Ih.getSchema,a=>this.getSchemas(a)),(s=this.connection)==null||s.onRequest(Ih.getAllSchemas,a=>this.getAllSchemas(a))}async getSchemas(e){const n=await this.getSchemasForFile(e);return Array.from(n).map(r=>({name:r[1].title,uri:r[0],description:r[1].description,versions:r[1].versions}))}async getSchemasForFile(e){var s;const n=(s=this.yamlSettings)==null?void 0:s.documents.get(e),r=new Map;if(!n)return r;const i=fi.getYamlDocument(n);for(const a of i.documents){const l=await this.schemaService.getSchemaForResource(n.uri,a);if(l!=null&&l.schema){const f=AE(l==null?void 0:l.schema);if(f.size===0)continue;for(const d of f)r.set(d[0],d[1])}}return r}async getAllSchemas(e){const n=await this.getSchemasForFile(e),r=Array.from(n.entries()).map(a=>({uri:a[0],fromStore:!1,usedForCurrentFile:!0,name:a[1].title,description:a[1].description,versions:a[1].versions})),i=[];let s=this.schemaService.getAllSchemas();return s=s.filter(a=>!n.has(a.uri)),i.push(...r),i.push(...s),i}}class mB{constructor(e){this.telemetry=e}getDefinition(e,n){var r;try{const i=fi.getYamlDocument(e),s=e.offsetAt(n.position),a=md(s,i);if(a){const[l]=a.getNodeFromPosition(s,new ua(e));if(l&&Gi(l)){const f=l.resolve(a.internalDocument);if(f&&f.range){const d=ot.create(e.positionAt(f.range[0]),e.positionAt(f.range[2])),h=ot.create(e.positionAt(f.range[0]),e.positionAt(f.range[1]));return[df.create(e.uri,d,h)]}}}}catch(i){(r=this.telemetry)==null||r.sendError("yaml.definition.error",i)}}}function gB(t,e){const n=fi.getYamlDocument(t);return e.map(a=>{const l=r(a);let f;for(const d of l)f=Cc.create(d,f);return f!=null?f:Cc.create({start:a,end:a})});function r(a){const l=t.offsetAt(a),f=[];for(const d of n.documents){let h,g;for(d.visit(S=>{const O=S.offset+S.length;if(O<l||s(O-1,O)===`
`&&O-1<l)return!0;let I=S.offset;if(I>l){const P=i(S,a);if(!P||P>l)return!0;I=P}return(!h||I>=h.offset)&&(h=S,g=I),!0});h;){const S=g!=null?g:h.offset,O=h.offset+h.length,I={start:t.positionAt(S),end:t.positionAt(O)},P=t.getText(I),C=yB(P),R=S+C.length;R>=l&&(I.end=t.positionAt(R));const T=(v,D)=>C.startsWith(v)&&C.endsWith(D||v);(h.type==="string"&&(T("'")||T('"'))||h.type==="object"&&T("{","}")||h.type==="array"&&T("[","]"))&&f.push({start:t.positionAt(S+1),end:t.positionAt(O-1)}),f.push(I),h=h.parent,g=void 0}if(f.length>0)break}return f.reverse()}function i(a,l){var d;const f=t.positionAt(a.offset);if(f.line===l.line){if(((d=a.parent)==null?void 0:d.type)==="array"&&s(a.offset-2,a.offset)==="- ")return a.offset-2;if(a.type==="array"||a.type==="object"){const h={line:f.line,character:0};if(t.getText({start:h,end:f}).trim().length===0)return t.offsetAt(h)}}}function s(a,l){return t.getText({start:t.positionAt(a),end:t.positionAt(l)})}}function yB(t){return t.endsWith(`\r
`)?t.substring(0,t.length-2):t.endsWith(`
`)?t.substring(0,t.length-1):t}var x0;(function(t){t[t.SchemaStore=1]="SchemaStore",t[t.SchemaAssociation=2]="SchemaAssociation",t[t.Settings=3]="Settings"})(x0||(x0={}));function vB(t){const e=new tM(t.schemaRequestService,t.workspaceContext),n=new ax(e,t.clientCapabilities,fi,t.telemetry),r=new rM(e,t.telemetry),i=new nM(e,t.telemetry),s=new dM(e,t.telemetry),a=new Gj,l=new Zj(t.clientCapabilities),f=new tx(e,t.telemetry),d=new Jj(t.telemetry),h=new mB(t.telemetry);return new pB(e,t.yamlSettings,t.connection),{configure:g=>{e.clearExternalSchemas(),g.schemas&&(e.schemaPriorityMapping=new Map,g.schemas.forEach(S=>{const O=S.priority?S.priority:0;e.addSchemaPriority(S.uri,O),e.registerExternalSchema(S.uri,S.fileMatch,S.schema,S.name,S.description,S.versions)})),s.configure(g),r.configure(g),n.configure(g),a.configure(g),l.configure(g)},registerCustomSchemaProvider:g=>{e.registerCustomSchemaProvider(g)},findLinks:d.findLinks.bind(d),doComplete:n.doComplete.bind(n),doValidation:s.doValidation.bind(s),doHover:r.doHover.bind(r),findDocumentSymbols:i.findDocumentSymbols.bind(i),findDocumentSymbols2:i.findHierarchicalDocumentSymbols.bind(i),doDefinition:h.getDefinition.bind(h),resetSchema:g=>e.onResourceChange(g),doFormat:a.format.bind(a),doDocumentOnTypeFormatting:ex,addSchema:(g,S)=>e.saveSchema(g,S),deleteSchema:g=>e.deleteSchema(g),modifySchemaContent:g=>e.addContent(g),deleteSchemaContent:g=>e.deleteContent(g),deleteSchemasWhole:g=>e.deleteSchemas(g),getFoldingRanges:Qj,getSelectionRanges:gB,getCodeAction:(g,S)=>l.getCodeAction(g,S),getCodeLens:g=>f.getCodeLens(g),resolveCodeLens:g=>f.resolveCodeLens(g)}}const B0=vB({async schemaRequestService(t){return(await fetch(t)).text()}}),qu={},bS=self,Ea=ii.exports.createProtocolConnection(new ii.exports.BrowserMessageReader(bS),new ii.exports.BrowserMessageWriter(bS));async function DS(t){const e=await B0.doValidation(qu[t]);await Ea.sendNotification(ii.exports.PublishDiagnosticsNotification.type,{uri:t,diagnostics:e})}Ea.onRequest(ii.exports.InitializeRequest.type,()=>({capabilities:{textDocumentSync:ii.exports.TextDocumentSyncKind.Incremental,completionProvider:!0,hoverProvider:!0}})),Ea.onNotification(ii.exports.DidOpenTextDocumentNotification.type,async({textDocument:{uri:t,languageId:e,version:n,text:r}})=>{qu[t]=Wf.create(t,e,n,r),await DS(t)}),Ea.onNotification(ii.exports.DidChangeTextDocumentNotification.type,async({textDocument:t,contentChanges:e})=>{const n=qu[t.uri];n&&(qu[t.uri]=Wf.update(n,e,t.version+1),await DS(t.uri))}),Ea.onRequest(ii.exports.CompletionRequest.type,async({textDocument:t,position:e})=>{const n=qu[t.uri];return n?B0.doComplete(n,e):null}),Ea.onRequest(ii.exports.HoverRequest.type,async({textDocument:t,position:e})=>{const n=qu[t.uri];return n?B0.doHover(n,e):null}),Ea.listen()})();
